/*! For license information please see main.e5bf7b52dacaecf94e2d.bundle.js.LICENSE.txt */
(()=>{var t,e,i,n,o,s={28:(t,e,i)=>{"use strict";i.d(e,{lG:()=>o,rE:()=>s,wg:()=>n});const n="⬚",o=1e6,s="% Write your transition rules here!\n"},41:(t,e,i)=>{"use strict";i.d(e,{DB:()=>n,r4:()=>A,IL:()=>g});const n={readme:'<h1 id="ture">Ture</h1> <blockquote> <p>A turing machine interpreter.</p> </blockquote> <p>See also: <a href="https://github.com/obfuscatedgenerated/Ture" target="_blank" rel="noopener noreferrer">the original Java implementation</a>.</p> <h2 id="usage">Usage</h2> <blockquote> <p>If you&#39;re looking to run Ture locally, see <a href="https://github.com/obfuscatedgenerated/ture-web/blob/main/SETUP.md" target="_blank" rel="noopener noreferrer">SETUP.md</a> in the repository.</p> </blockquote> <blockquote> <p>If you&#39;re an educator looking to use Ture in your materials, click the &quot;Teachers&quot; link in the top navigation bar, or see <a href="https://github.com/obfuscatedgenerated/ture-web/blob/main/TEACHERS.md" target="_blank" rel="noopener noreferrer">TEACHERS.md</a> in the repository.</p> </blockquote> <p>You can enter the formal descriptions of transition rules as described in the <a href="#syntax">syntax section</a> in the text area at the bottom. This will be validated against syntax errors in real time.</p> <p>You can use the <code>Copy empty letter</code> button (<kbd>Alt</kbd><span class="kbd-plus">+</span><kbd>E</kbd>) to copy the empty letter symbol <code>⬚</code> to your clipboard. This is useful for pasting into the rules.</p> <p>You can enter the tape contents to feed to a program in the input at the top. It will automatically expand to the correct size as you type or paste.</p> <p>You can select the initial state to start the program from with the dropdown. This will automatically be populated from the rules you enter.</p> <p>You can use the <code>Run program</code> button (<kbd>F8</kbd>) to run the program in one go. This will replace the contents of the tape with the final result.</p> <p>You can use the <code>Run step-by-step</code> button (<kbd>F9</kbd>) to enter stepped execution mode. You can step through the program with the <code>Next step</code> button (<kbd>F9</kbd>). The position of the pointer will be reflected under the tape cells. The tape cell values will be replaced by each step. The current state and step number is displayed below the tape. The transition rule that was just followed to reach the current state will be highlighted in the editor. You can press the <code>Cancel</code> button (<kbd>Esc</kbd>) to halt the step-by-step execution. You can press <code>Run remaining</code> (<kbd>F8</kbd>) to execute the remaining steps of the program to the end without stepping.</p> <p>You can name the program with the <code>Program name</code> field above the editor.</p> <p>You can download the program as a .ture file with the <code>Download .ture file</code> button (<kbd>Ctrl</kbd><span class="kbd-plus">+</span><kbd>S</kbd> or <kbd>Cmd</kbd><span class="kbd-plus">+</span><kbd>S</kbd>).</p> <p>You can upload either a .txt of just the rules or a .ture file with the rules and init state with the <code>Upload from file</code> button (<kbd>Ctrl</kbd><span class="kbd-plus">+</span><kbd>O</kbd> or <kbd>Cmd</kbd><span class="kbd-plus">+</span><kbd>O</kbd>). The file will be parsed and the rules will be loaded into the editor. If an init state is declared, it will be set as the initial state in the dropdown.</p> <p>You can copy a URL of the encoded program alongside the name, tape, and init state with the <code>Create share URL</code> button (<kbd>Ctrl</kbd><span class="kbd-plus">+</span><kbd>Alt</kbd><span class="kbd-plus">+</span><kbd>S</kbd> or <kbd>Cmd</kbd><span class="kbd-plus">+</span><kbd>Alt</kbd><span class="kbd-plus">+</span><kbd>S</kbd>). This URL can be shared with others to run the same program when they open the link. You have the option of which properties you want to share and whether to make them read only. You can choose to copy the link or generate an iframe embed code to include in your own website or application.</p> <p>You can the select <code>Transition graph</code> tab to view a graph of the state and letter transitions. In step-by-step mode, the edge that was just followed is highlighted in magenta.</p> <h2 id="syntax">Syntax</h2> <p>You can check the example programs, such as <a target="_blank" rel="noopener" href="https://ture.ollieg.codes/?script=KQAgygLg9gTgpiCALBAzAljAzhEAbOCCOGEdAO0RRAHdYATEAQy2ZByeICgAKARwCS5dBAA0zAJQgAtAD4Q-AILim4mOgDmSCBN6DhYkACMpchXwBC4o2s3bdXUAFkoANwTQqCOOUZRUXohMAA5wesqSMvJKKrZaOuHWptF8ETYg6vG6-FaRZjmxGXYJBcbJ5rnpmfZcjiAWTADGANYQME3NIFDkjQg0KJQ0CPBNSIE%2BfgHIHiFhMSCAWNTl-ACivhEL4gSoJZbiS1Hma-S5m-hwOw6gAEpwwXhNHtQPOOdEJLQiY9MgGNi4BHepCYvhAPmIpB%2BbRC7AgnDmfGOESYyz4AAkmHhDKoilk9Eikod%2BBisYVqrtjrkUUT0ZjDFVitlEb5KqiSfS4vYgA&name=LastFirst&name_ro=true&init=qInit">LastFirst</a> for examples of valid syntax.</p> <h3 id="rules">Rules</h3> <p>Rules are defined in the following format:</p> <pre><code>(from_state, from_letter) -&gt; (to_state, to_letter, direction)\n</code></pre> <p>When the pointer is over the given letter whilst in the given state on the LHS, it overwrites the letter with the new letter, changes to the new state, and moves the pointer in the direction specified on the RHS.</p> <p>If no applicable rule is found, the machine halts.</p> <p>The empty letter is represented by the symbol <code>⬚</code>.</p> <p>The state names must not contain any of <code>,()⬚</code> or whitespace and letters must be a single character that is not <code>,()</code> or whitespace. It is convention to start state names with <code>q</code> but this is not enforced.</p> <p>It is recommended to add a newline at the end of each rule, but this is optional. Whitespace is also allowed before and after rules.</p> <p>Whitespace is permitted between tokens of the rule, but not within tokens such as state names or letters.</p> <h3 id="comments">Comments</h3> <p>Comments start with <code>%</code> and can be placed anywhere in the program. Comments run from the <code>%</code> to the end of the line.</p> <p>You can escape with <code>\\%</code>.</p> '.replaceAll("https://ture.ollieg.codes/?","./?"),teachers:'<h1 id="teaching-guide">Teaching guide</h1> <p>Ture is designed to be an easy to use, interactive Turing machine interpreter suitable for the teaching of computational theory and formal languages. It allows users to write transition rules in order to provide a formal description of a Turing machine transition system, then run and debug the scripts written for it.</p> <p>You may wish to:</p> <ul> <li>Use the live website to demonstrate applications of Turing machines or teach the syntax</li> <li>Link or embed the website in course or lab materials</li> <li>Set the website as a practical exercise for students to practice the transition rule syntax</li> <li>Include screenshots or videos of the website in slides or handouts</li> </ul> <p>For linking and embedding the website, you will want to use the <code>Create share URL</code> button. This will give you the option of what you wish to share, such as the script contents, tape contents, and initial state. You can also set fields as read-only to prevent accidental modification, useful for embedding demonstrations in your materials.</p> <p>Iframe embedding is permitted, allowing you to include the Ture interface directly in your materials. You can use the <code>Copy embed code</code> option in the sharing dialog for a nicely scaled iframe ready to go.</p> <p>Ture is provided under an MIT license. You are free to adapt the codebase for your own use case. Please note, individual support, advice, or troubleshooting is <strong>not provided</strong>. For technical issues or feature requests, you may wish to <a href="https://github.com/obfuscatedgenerated/ture-web/issues" target="_blank" rel="noopener noreferrer">open an issue on the GitHub repository</a>.</p> <h2 id="attribution">Attribution</h2> <p>If you use or embed Ture in your teaching, course materials, slides, or digital resources, providing attribution is appreciated.</p> <p>Example attribution formats are provided below. Feel free to adapt them to fit your context.</p> <h3 id="plain-text">Plain text</h3> <pre><code>Ture - Turing machine interpreter by Ollie G  \nhttps://ture.ollieg.codes\n\nSource code: https://github.com/obfuscatedgenerated/ture-web  \nAuthor homepage: https://ollieg.codes\n</code></pre> <h3 id="markdown">Markdown</h3> <pre><code class="language-markdown">[Ture – Turing machine interpreter](https://ture.ollieg.codes) by [Ollie G](https://ollieg.codes)  \n[Source code](https://github.com/obfuscatedgenerated/ture-web)\n</code></pre> <h3 id="html">HTML</h3> <pre><code class="language-html">&lt;a href=&quot;https://ture.ollieg.codes&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ture – Turing machine interpreter&lt;/a&gt; by &lt;a href=&quot;https://ollieg.codes&quot; target=&quot;_blank&quot;&gt;Ollie G&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://github.com/obfuscatedgenerated/ture-web&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Source code&lt;/a&gt;\n</code></pre> <h3 id="bibtex">BibTeX</h3> <pre><code class="language-bibtex">@misc{ollieg_ture,\n  author = {Ollie G},\n  title = {{Ture} - Turing machine interpreter},\n  howpublished = {\\url{https://ture.ollieg.codes}},\n  year = {2025},\n  note = {GitHub: \\url{https://github.com/obfuscatedgenerated/ture-web}; Author homepage: \\url{https://ollieg.codes}}\n}\n</code></pre> '.replaceAll("https://ture.ollieg.codes/?","./?"),examples:'<h2 id="lastfirst"><a href="https://ture.ollieg.codes/?script=KQAgygLg9gTgpiCALBAzAljAzhEAbOCCOGEdAO0RRAHdYATEAQy2ZByeICgAKARwCS5dBAA0zAJQgAtAD4Q-AILim4mOgDmSCBN6DhYkACMpchXwBC4o2s3bdXUAFkoANwTQqCOOUZRUXohMAA5wesqSMvJKKrZaOuHWptF8ETYg6vG6-FaRZjmxGXYJBcbJ5rnpmfZcjiAWTADGANYQME3NIFDkjQg0KJQ0CPBNSIE%2BfgHIHiFhMSCAWNTl-ACivhEL4gSoJZbiS1Hma-S5m-hwOw6gAEpwwXhNHtQPOOdEJLQiY9MgGNi4BHepCYvhAPmIpB%2BbRC7AgnDmfGOESYyz4AAkmHhDKoilk9Eikod%2BBisYVqrtjrkUUT0ZjDFVitlEb5KqiSfS4vYgA&name=LastFirst&init=qInit&tape=ababab">LastFirst</a></h2> <h2 id="binary-add-one"><a href="https://ture.ollieg.codes/?script=KQAgygphDWIC4HsQQHYBMQIGbwIYAcIAoACgEcBJFASzgBoQAGAShAFoA%2BEcq2hxhgCdqAcwAWcZqUo16IAIytO3GXwVDREqT1kNAWNRKu5AEK4AxtH0MANhCySiRUJBggARuegB3XILQBnEABXFDhqaxAsakF-OGQUMwQQuAhBTBxcJmlTC35DFQAJXGs5eRs7BxNPBkV2IzIcyyZy%2B2YgA&name=Binary+add+one&init=qInit&tape=1000010010">Binary add one</a></h2> <h2 id="word-to-number"><a href="https://ture.ollieg.codes/?script=KQAgwg9gdgbgpgJwC4GcQHcEEslLlEKAVwFsAjRNACmjgBoQl0IGkALBOekAOj9fwBKRhBABDQqURYAxmIA2IGAqJwAUKACCIAA4RkICADMQJAJ4gsUI2JIQiaMOPkBzfTjYkQRhBC%2BaAE3goJEMTSAC4EAAmAAZogGYNEABJE3YsNEyoAHJQnV9jMJAAFSJsKBcQGT8deTg8KDgUFAYUkADoPJAAaygIdAw2MVDMtWTNGRk4HSQrKpQkEbgALhAAR0np2fHQAAUxBBQo2jUqdZSoHAYIYQBaAD4Qc4BGAH0WEAB%2BBmwXNiQgjO63enyg9yerw%2BUAYgCxqX5Yf6A4GgmEgOAQ54g6HceEgP4AoHJADq2DwIBeKJxcMxUNocIY9SMyLpTQYX1pmymMyQDBejLgzKJ%2B0Ox0YVGYAB8OFxJUJgZdroxOYkXrE3rzvgikcLnoDmMDVerNegVRr0Az8YjCYbzTczUxPniCcjklRATL1OcjRqGGxOQkNWxLS6gedA%2BxfgGgwgQ9aWesIxwGBiQI8sUnOHGdcDM9xU%2BnwzGuNmbW7AfhDQk1b70Zya3hSwmG9xwWnISDjfgm7rSTgotEGAkbggKbFbY6ae2sdFzU6BUKJ8x2ZytjyGIOQEyE3ncdH2JxcQud8XuBzp%2Bc17Mh8ew52Nd2QLD6120Xjt3eW2jz4X1n28LEfLaja5z-nAgFPqu3LXiAEEfrsIAHEcURGDQ5SSlg8B3oqmpGJyAAsACsbxGOywGuqAVB4fYCDAkRJH2he6z4SR85Wjm5wsUYnxEARrFED2dH8VGTFcTRglunhmFesxxGkZYnJyVggnnEpDAwIpJGYSp6xKTAKaaUY0kSaAYEgPhhijoRQnceUU6-mJdlPreNnid8UHbJq%2BEuapWnwPZHZ6UeW6CgmQUrkxV6aoRLnJEhYooFQWAAB5ysE2FXJqKCcgAbAA7G8rRauxZaUdlKXAvlhUMFguWFcpzklQmOX1QwyV1SgKUmc82VwMElUFUVBYdoNwWhsCo3qZyo36Y143nDNBlMTNY3xneK0MG2v4rW%2B5G9mSUQ5ZZIB5ZV9XJQFWItZ1F2NfB5zXV17mRdBmo5T56w7ZdC2FX1j7vqF62-cEEW-lFDB5bFIrIei8YKplS2-gAHG8Z57cCKPcLVTGYw1zprRjqMNS4nK4y4Olk36pNE-8FM08Gyo4-Tmr4zmJIHSASOE3A8bfesZMApa9388zoMduDnNQ4hopRFcTTw0qW0dgAnG837o%2Bcqtotjv5a3jGvrHrm2cnru1NXepuIyratWKtbOmRzyvAqbe5MS7QuA87Ntss9YOvQwyu3kAA&name=Word+to+number&init=qInit&tape=seven">Word to number</a></h2> '.replaceAll("https://ture.ollieg.codes/?","./?"),easter_egg:'<p style="text-align: center">Congratulations! You have solved the halting problem!</p>\n        <p style="text-align: center"><img src="./public/precache/confetti.gif" style="text-align: center; width: 50%" /></p>'},o=document.getElementById("document-dialog"),s=document.getElementById("document-title"),r=document.getElementById("document-content"),g=(t,e)=>{s.innerText=t,"string"==typeof e?r.innerHTML=e:e instanceof HTMLElement&&(r.innerHTML="",r.appendChild(e)),o.dataset.title=t;const i=Object.keys(n).find(t=>n[t]===e);i?o.dataset.known_doc=i:o.dataset.known_doc&&delete o.dataset.known_doc,o.showModal(),r.scrollTop=0},A=()=>{o.close()}},83:(t,e,i)=>{"use strict";i.d(e,{AX:()=>h,DT:()=>l,IU:()=>C,Sx:()=>A,WQ:()=>a,Z$:()=>I,hA:()=>g});var n=i(623);let o=[];const s=document.getElementById("error-list"),r=document.getElementById("errors-container"),g=()=>o,A=()=>s,a=(t,e)=>{o.push({type:e,message:t}),s.value+=t+"\n",r.classList.remove("hidden"),s.style.height="auto",s.style.height=s.scrollHeight+5+"px"},C=()=>{o=[],s.value="",s.style.height="auto",r.classList.add("hidden")},I=t=>{for(let e=0;e<o.length;e++)if(o[e].type===t){o.splice(e,1);const t=s.value.split("\n");t.splice(e,1),s.value=t.join("\n"),e--}s.style.height="auto",s.style.height=s.scrollHeight+5+"px",0===o.length&&r.classList.add("hidden")},l=()=>{for(const t of o)console.error(`${t.type}: ${t.message}`)};class h{syntaxError(t,e,i,o,s,r){let g=`Syntax error at line ${i}, column ${o}: ${s}`;if(e){const t=n.Yw(e.start,e.start+e.text.length,"cm-error");n.iM(t),n.Z8(g,e.start,e.start+e.text.length,"cm-hover-msg error")}a(g,"syntax")}}},104:(t,e,i)=>{"use strict";t.exports=i.p+"manifest/icon_192x192-b812a9cc.png"},131:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var n=i(168);class o extends n.Uw{visitLetter;visitState;visitLhs;visitRhs;visitTuring_rule;visitProgram}},156:(t,e,i)=>{"use strict";i.a(t,async(t,e)=>{try{var n=i(623),o=i(83),s=i(811),r=i(576),g=i(772),A=i(967),a=i(830),C=(i(762),i(435)),I=(i(501),t([g,C]));[g,C]=I.then?(await I)():I,console.log("e08bb3b: move constants to config file (2025-07-22)"),r.Cu(),s.qg(n.RB()),o.DT(),r.eD(),new a.A(document.getElementById("program-tabs")).add_listener("transition-graph",A.l1),window.addEventListener("beforeunload",t=>{n.Kj()&&(t.preventDefault(),t.returnValue="You have unsaved changes. Are you sure you want to leave?")}),document.querySelectorAll(".mac-cmd").forEach(t=>{navigator.platform.startsWith("Mac")&&(t.textContent="⌘")});const l=document.getElementById("file-name"),h=()=>{let t="";g.r()||(t="Ture"),l.value&&(t=g.r()?l.value:`${l.value} - ${t}`),n.Kj()&&(t=`(*) ${t}`),document.title=t};l.addEventListener("input",h),n.jp(h),window.addEventListener("appinstalled",h),h(),e()}catch(t){e(t)}})},168:(t,e,i)=>{"use strict";i.d(e,{$t:()=>ti,Dj:()=>Ci,JG:()=>ii,M8:()=>$e,MG:()=>Qe,Pg:()=>Ai,Uw:()=>si,X2:()=>oi,Zo:()=>qe,ay:()=>ni,eP:()=>ei,fr:()=>Xe,iX:()=>ri,jB:()=>Je,ou:()=>Ii,re:()=>gi,tD:()=>ai});var n={763:()=>{}},o={};function s(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={exports:{}};return n[t](i,i.exports,s),i.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};s.d(r,{MG:()=>J,fr:()=>Nt,sR:()=>ke,Zo:()=>Se,iH:()=>Re,rt:()=>Bt,jB:()=>Fe,M8:()=>Ie,$t:()=>Ee,aq:()=>ye,pG:()=>Mt,eP:()=>ve,KU:()=>me,zW:()=>Oe,IX:()=>w,mY:()=>x,a7:()=>q,JG:()=>Zt,ay:()=>$t,X2:()=>oe,WU:()=>de,Uw:()=>ue,gw:()=>pe,iX:()=>ze,re:()=>re,Pg:()=>We,tD:()=>ge,R$:()=>ne,Dj:()=>zt,m7:()=>Z,NZ:()=>B,xo:()=>F,ou:()=>g,qC:()=>Ge,mD:()=>d,Ay:()=>Ke});class g{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function A(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!(t[i]===e[i]||t[i].equals&&t[i].equals(e[i])))return!1;return!0}g.INVALID_TYPE=0,g.EPSILON=-2,g.MIN_USER_TOKEN_TYPE=1,g.EOF=-1,g.DEFAULT_CHANNEL=0,g.HIDDEN_CHANNEL=1;const a=Math.round(Math.random()*Math.pow(2,32));function C(t){if(!t)return 0;const e=typeof t,i="string"===e?t:!("object"!==e||!t.toString)&&t.toString();if(!i)return 0;let n,o;const s=3&i.length,r=i.length-s;let g=a;const A=3432918353,C=461845907;let I=0;for(;I<r;)o=255&i.charCodeAt(I)|(255&i.charCodeAt(++I))<<8|(255&i.charCodeAt(++I))<<16|(255&i.charCodeAt(++I))<<24,++I,o=(65535&o)*A+(((o>>>16)*A&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*C+(((o>>>16)*C&65535)<<16)&4294967295,g^=o,g=g<<13|g>>>19,n=5*(65535&g)+((5*(g>>>16)&65535)<<16)&4294967295,g=27492+(65535&n)+((58964+(n>>>16)&65535)<<16);switch(o=0,s){case 3:o^=(255&i.charCodeAt(I+2))<<16;case 2:o^=(255&i.charCodeAt(I+1))<<8;case 1:o^=255&i.charCodeAt(I),o=(65535&o)*A+(((o>>>16)*A&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*C+(((o>>>16)*C&65535)<<16)&4294967295,g^=o}return g^=i.length,g^=g>>>16,g=2246822507*(65535&g)+((2246822507*(g>>>16)&65535)<<16)&4294967295,g^=g>>>13,g=3266489909*(65535&g)+((3266489909*(g>>>16)&65535)<<16)&4294967295,g^=g>>>16,g>>>0}class I{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{let t=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":t=e;break;case"string":t=C(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}t*=3432918353,t=t<<15|t>>>17,t*=461845907,this.count=this.count+1;let i=this.hash^t;i=i<<13|i>>>19,i=5*i+3864292196,this.hash=i}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new I;return t.update.apply(t,arguments),t.finish()}}function l(t){return t?"string"==typeof t?C(t):t.hashCode():-1}function h(t,e){return t&&t.equals?t.equals(e):t===e}function c(t){return null===t?"null":t}function d(t){return Array.isArray(t)?"["+t.map(c).join(", ")+"]":"null"}class u{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||l,this.equalsFunction=e||h}get(t){if(null==t)return t;const e=this._getBucket(t);if(!e)return null;for(const i of e)if(this.equalsFunction(i,t))return i;return null}add(t){return this.getOrAdd(t)===t}getOrAdd(t){this._expand();const e=this._getSlot(t);let i=this.buckets[e];if(!i)return i=[t],this.buckets[e]=i,this.itemCount++,t;for(const e of i)if(this.equalsFunction(e,t))return e;return i.push(t),this.itemCount++,t}has(t){return null!=this.get(t)}values(){return this.buckets.filter(t=>null!=t).flat(1)}toString(){return d(this.values())}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t);let i=this.buckets[e];i||(i=[],this.buckets[e]=i),i.push(t)}}}class p{hashCode(){const t=new I;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(null===t||t===p.NONE)return e;if(null===e||e===p.NONE)return t;const i=new f(t,e);return 1===i.opnds.length?i.opnds[0]:i}static orContext(t,e){if(null===t)return e;if(null===e)return t;if(t===p.NONE||e===p.NONE)return p.NONE;const i=new m(t,e);return 1===i.opnds.length?i.opnds[0]:i}}class f extends p{constructor(t,e){super();const i=new u;t instanceof f?t.opnds.map(function(t){i.add(t)}):i.add(t),e instanceof f?e.opnds.map(function(t){i.add(t)}):i.add(e);const n=v(i);if(n.length>0){let t=null;n.map(function(e){(null===t||e.precedence<t.precedence)&&(t=e)}),i.add(t)}this.opnds=Array.from(i.values())}equals(t){return this===t||t instanceof f&&A(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let i=0;i<this.opnds.length;i++)if(!this.opnds[i].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let i=!1;const n=[];for(let o=0;o<this.opnds.length;o++){const s=this.opnds[o],r=s.evalPrecedence(t,e);if(i|=r!==s,null===r)return null;r!==p.NONE&&n.push(r)}if(!i)return this;if(0===n.length)return p.NONE;let o=null;return n.map(function(t){o=null===o?t:p.andContext(o,t)}),o}toString(){const t=this.opnds.map(t=>t.toString());return(t.length>3?t.slice(3):t).join("&&")}}class m extends p{constructor(t,e){super();const i=new u;t instanceof m?t.opnds.map(function(t){i.add(t)}):i.add(t),e instanceof m?e.opnds.map(function(t){i.add(t)}):i.add(e);const n=v(i);if(n.length>0){const t=n.sort(function(t,e){return t.compareTo(e)}),e=t[t.length-1];i.add(e)}this.opnds=Array.from(i.values())}equals(t){return this===t||t instanceof m&&A(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let i=0;i<this.opnds.length;i++)if(this.opnds[i].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let i=!1;const n=[];for(let o=0;o<this.opnds.length;o++){const s=this.opnds[o],r=s.evalPrecedence(t,e);if(i|=r!==s,r===p.NONE)return p.NONE;null!==r&&n.push(r)}return i?(0===n.length||n.map(function(t){return t}),null):this}toString(){const t=this.opnds.map(t=>t.toString());return(t.length>3?t.slice(3):t).join("||")}}function v(t){const e=[];return t.values().map(function(t){t instanceof p.PrecedencePredicate&&e.push(t)}),e}function b(t,e){if(null===t){const t={state:null,alt:null,context:null,semanticContext:null};return e&&(t.reachesIntoOuterContext=0),t}{const i={};return i.state=t.state||null,i.alt=void 0===t.alt?null:t.alt,i.context=t.context||null,i.semanticContext=t.semanticContext||null,e&&(i.reachesIntoOuterContext=t.reachesIntoOuterContext||0,i.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),i}}class y{constructor(t,e){this.checkContext(t,e),t=b(t),e=b(e,!0),this.state=null!==t.state?t.state:e.state,this.alt=null!==t.alt?t.alt:e.alt,this.context=null!==t.context?t.context:e.context,this.semanticContext=null!==t.semanticContext?t.semanticContext:null!==e.semanticContext?e.semanticContext:p.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}hashCode(){const t=new I;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof y&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(null===this.context?null===t.context:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new I;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof y&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==p.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class w{constructor(t,e){this.start=t,this.stop=e}clone(){return new w(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}w.INVALID_INTERVAL=new w(-1,-2);class x{constructor(){this.intervals=null,this.readOnly=!1}first(t){return null===this.intervals||0===this.intervals.length?g.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new w(t,t+1))}addRange(t,e){this.addInterval(new w(t,e+1))}addInterval(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const i=this.intervals[e];if(t.stop<i.start)return void this.intervals.splice(e,0,t);if(t.stop===i.start)return void(this.intervals[e]=new w(t.start,i.stop));if(t.start<=i.stop)return this.intervals[e]=new w(Math.min(i.start,t.start),Math.max(i.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return null!==t.intervals&&t.intervals.forEach(t=>this.addInterval(t),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],i=this.intervals[t+1];e.stop>=i.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=i.start&&(this.intervals[t]=new w(e.start,i.stop),this.intervals.splice(t+1,1))}}complement(t,e){const i=new x;return i.addInterval(new w(t,e+1)),null!==this.intervals&&this.intervals.forEach(t=>i.removeRange(t)),i}contains(t){if(null===this.intervals)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals){let e=0;for(let i=0;i<this.intervals.length;i++){const i=this.intervals[e];if(t.stop<=i.start)return;if(t.start>i.start&&t.stop<i.stop){this.intervals[e]=new w(i.start,t.start);const n=new w(t.stop,i.stop);return void this.intervals.splice(e,0,n)}t.start<=i.start&&t.stop>=i.stop?(this.intervals.splice(e,1),e-=1):t.start<i.stop?this.intervals[e]=new w(i.start,t.start):t.stop<i.stop&&(this.intervals[e]=new w(t.stop,i.stop)),e+=1}}}removeOne(t){if(null!==this.intervals)for(let e=0;e<this.intervals.length;e++){const i=this.intervals[e];if(t<i.start)return;if(t===i.start&&t===i.stop-1)return void this.intervals.splice(e,1);if(t===i.start)return void(this.intervals[e]=new w(i.start+1,i.stop));if(t===i.stop-1)return void(this.intervals[e]=new w(i.start,i.stop-1));if(t<i.stop-1){const n=new w(i.start,t);return i.start=t+1,void this.intervals.splice(e,0,n)}}}toString(t,e,i){return t=t||null,e=e||null,i=i||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):i?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const i=this.intervals[e];i.stop===i.start+1?i.start===g.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(i.start)+"'"):t.push("'"+String.fromCharCode(i.start)+"'..'"+String.fromCharCode(i.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const i=this.intervals[e];i.stop===i.start+1?i.start===g.EOF?t.push("<EOF>"):t.push(i.start.toString()):t.push(i.start.toString()+".."+(i.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const i=[];for(let n=0;n<this.intervals.length;n++){const o=this.intervals[n];for(let n=o.start;n<o.stop;n++)i.push(this.elementName(t,e,n))}return i.length>1?"{"+i.join(", ")+"}":i[0]}elementName(t,e,i){return i===g.EOF?"<EOF>":i===g.EPSILON?"<EPSILON>":t[i]||e[i]}get length(){return this.intervals.map(t=>t.length).reduce((t,e)=>t+e)}}class E{constructor(){this.atn=null,this.stateNumber=E.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof E&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}E.INVALID_TYPE=0,E.BASIC=1,E.RULE_START=2,E.BLOCK_START=3,E.PLUS_BLOCK_START=4,E.STAR_BLOCK_START=5,E.TOKEN_START=6,E.RULE_STOP=7,E.BLOCK_END=8,E.STAR_LOOP_BACK=9,E.STAR_LOOP_ENTRY=10,E.PLUS_LOOP_BACK=11,E.LOOP_END=12,E.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],E.INVALID_STATE_NUMBER=-1;class k extends E{constructor(){return super(),this.stateType=E.RULE_STOP,this}}class T{constructor(t){if(null==t)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}T.EPSILON=1,T.RANGE=2,T.RULE=3,T.PREDICATE=4,T.ATOM=5,T.ACTION=6,T.SET=7,T.NOT_SET=8,T.WILDCARD=9,T.PRECEDENCE=10,T.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],T.serializationTypes={EpsilonTransition:T.EPSILON,RangeTransition:T.RANGE,RuleTransition:T.RULE,PredicateTransition:T.PREDICATE,AtomTransition:T.ATOM,ActionTransition:T.ACTION,SetTransition:T.SET,NotSetTransition:T.NOT_SET,WildcardTransition:T.WILDCARD,PrecedencePredicateTransition:T.PRECEDENCE};class S extends T{constructor(t,e,i,n){super(t),this.ruleIndex=e,this.precedence=i,this.followState=n,this.serializationType=T.RULE,this.isEpsilon=!0}matches(t,e,i){return!1}}class O extends T{constructor(t,e){super(t),this.serializationType=T.SET,null!=e?this.label=e:(this.label=new x,this.label.addOne(g.INVALID_TYPE))}matches(t,e,i){return this.label.contains(t)}toString(){return this.label.toString()}}class D extends O{constructor(t,e){super(t,e),this.serializationType=T.NOT_SET}matches(t,e,i){return t>=e&&t<=i&&!super.matches(t,e,i)}toString(){return"~"+super.toString()}}class N extends T{constructor(t){super(t),this.serializationType=T.WILDCARD}matches(t,e,i){return t>=e&&t<=i}toString(){return"."}}class M extends T{constructor(t){super(t)}}class R{}class P extends R{}class L extends P{}class B extends L{get ruleContext(){throw new Error("missing interface implementation")}}class F extends L{}class _ extends F{}const z={toStringTree:function(t,e,i){e=e||null,null!==(i=i||null)&&(e=i.ruleNames);let n=z.getNodeText(t,e);n=function(t){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(n);const o=t.getChildCount();if(0===o)return n;let s="("+n+" ";o>0&&(n=z.toStringTree(t.getChild(0),e),s=s.concat(n));for(let i=1;i<o;i++)n=z.toStringTree(t.getChild(i),e),s=s.concat(" "+n);return s=s.concat(")"),s},getNodeText:function(t,e,i){if(e=e||null,null!==(i=i||null)&&(e=i.ruleNames),null!==e){if(t instanceof B){const i=t.ruleContext.getAltNumber();return 0!=i?e[t.ruleIndex]+":"+i:e[t.ruleIndex]}if(t instanceof _)return t.toString();if(t instanceof F&&null!==t.symbol)return t.symbol.text}const n=t.getPayload();return n instanceof g?n.text:t.getPayload().toString()},getChildren:function(t){const e=[];for(let i=0;i<t.getChildCount();i++)e.push(t.getChild(i));return e},getAncestors:function(t){let e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return z.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return z.findAllNodes(t,e,!1)},findAllNodes:function(t,e,i){const n=[];return z._findAllNodes(t,e,i,n),n},_findAllNodes:function(t,e,i,n){i&&t instanceof F?t.symbol.type===e&&n.push(t):!i&&t instanceof B&&t.ruleIndex===e&&n.push(t);for(let o=0;o<t.getChildCount();o++)z._findAllNodes(t.getChild(o),e,i,n)},descendants:function(t){let e=[t];for(let i=0;i<t.getChildCount();i++)e=e.concat(z.descendants(t.getChild(i)));return e}},V=z;class Z extends B{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;null!==e;)e=e.parentCtx,t+=1;return t}isEmpty(){return-1===this.invokingState}getSourceInterval(){return w.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return 0===this.getChildCount()?"":this.children.map(function(t){return t.getText()}).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return V.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let i=this,n="[";for(;null!==i&&i!==e;){if(null===t)i.isEmpty()||(n+=i.invokingState);else{const e=i.ruleIndex;n+=e>=0&&e<t.length?t[e]:""+e}null===i.parentCtx||null===t&&i.parentCtx.isEmpty()||(n+=" "),i=i.parentCtx}return n+="]",n}}class W{constructor(t){this.cachedHashCode=t}isEmpty(){return this===W.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===W.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}W.EMPTY=null,W.EMPTY_RETURN_STATE=2147483647,W.globalNodeCount=1,W.id=W.globalNodeCount,W.trace_atn_sim=!1;class G extends W{constructor(t,e){const i=new I;return i.update(t,e),super(i.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===W.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof G&&this.hashCode()===t.hashCode()&&A(this.returnStates,t.returnStates)&&A(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==W.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class j extends W{constructor(t,e){let i=0;const n=new I;null!==t?n.update(t,e):n.update(1),i=n.finish(),super(i),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof j&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}toString(){const t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===W.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===W.EMPTY_RETURN_STATE&&null===t?W.EMPTY:new j(t,e)}}class H extends j{constructor(){super(null,W.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}W.EMPTY=new H;class Y{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||l,this.equalsFunction=e||h}set(t,e){this._expand();const i=this._getSlot(t);let n=this.buckets[i];if(!n)return n=[[t,e]],this.buckets[i]=n,this.itemCount++,e;const o=n.find(e=>this.equalsFunction(e[0],t),this);if(o){const t=o[1];return o[1]=e,t}return n.push([t,e]),this.itemCount++,e}containsKey(t){const e=this._getBucket(t);return!!e&&!!e.find(e=>this.equalsFunction(e[0],t),this)}get(t){const e=this._getBucket(t);if(!e)return null;const i=e.find(e=>this.equalsFunction(e[0],t),this);return i?i[1]:null}entries(){return this.buckets.filter(t=>null!=t).flat(1)}getKeys(){return this.entries().map(t=>t[0])}getValues(){return this.entries().map(t=>t[1])}toString(){return"["+this.entries().map(t=>"{"+t[0]+":"+t[1]+"}").join(", ")+"]"}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const e of t)if(e)for(const t of e){const e=this._getSlot(t[0]);let i=this.buckets[e];i||(i=[],this.buckets[e]=i),i.push(t)}}}function U(t,e){if(null==e&&(e=Z.EMPTY),null===e.parentCtx||e===Z.EMPTY)return W.EMPTY;const i=U(t,e.parentCtx),n=t.states[e.invokingState].transitions[0];return j.create(i,n.followState.stateNumber)}function K(t,e,i){if(t.isEmpty())return t;let n=i.get(t)||null;if(null!==n)return n;if(n=e.get(t),null!==n)return i.set(t,n),n;let o=!1,s=[];for(let n=0;n<s.length;n++){const r=K(t.getParent(n),e,i);if(o||r!==t.getParent(n)){if(!o){s=[];for(let e=0;e<t.length;e++)s[e]=t.getParent(e);o=!0}s[n]=r}}if(!o)return e.add(t),i.set(t,t),t;let r=null;return r=0===s.length?W.EMPTY:1===s.length?j.create(s[0],t.getReturnState(0)):new G(s,t.returnStates),e.add(r),i.set(r,r),i.set(t,r),r}function Q(t,e,i,n){if(t===e)return t;if(t instanceof j&&e instanceof j)return function(t,e,i,n){if(null!==n){let i=n.get(t,e);if(null!==i)return i;if(i=n.get(e,t),null!==i)return i}const o=function(t,e,i){if(i){if(t===W.EMPTY)return W.EMPTY;if(e===W.EMPTY)return W.EMPTY}else{if(t===W.EMPTY&&e===W.EMPTY)return W.EMPTY;if(t===W.EMPTY){const t=[e.returnState,W.EMPTY_RETURN_STATE],i=[e.parentCtx,null];return new G(i,t)}if(e===W.EMPTY){const e=[t.returnState,W.EMPTY_RETURN_STATE],i=[t.parentCtx,null];return new G(i,e)}}return null}(t,e,i);if(null!==o)return null!==n&&n.set(t,e,o),o;if(t.returnState===e.returnState){const o=Q(t.parentCtx,e.parentCtx,i,n);if(o===t.parentCtx)return t;if(o===e.parentCtx)return e;const s=j.create(o,t.returnState);return null!==n&&n.set(t,e,s),s}{let i=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(i=t.parentCtx),null!==i){const o=[t.returnState,e.returnState];t.returnState>e.returnState&&(o[0]=e.returnState,o[1]=t.returnState);const s=new G([i,i],o);return null!==n&&n.set(t,e,s),s}const o=[t.returnState,e.returnState];let s=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(o[0]=e.returnState,o[1]=t.returnState,s=[e.parentCtx,t.parentCtx]);const r=new G(s,o);return null!==n&&n.set(t,e,r),r}}(t,e,i,n);if(i){if(t instanceof H)return t;if(e instanceof H)return e}return t instanceof j&&(t=new G([t.getParent()],[t.returnState])),e instanceof j&&(e=new G([e.getParent()],[e.returnState])),function(t,e,i,n){if(null!==n){let i=n.get(t,e);if(null!==i)return W.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),i;if(i=n.get(e,t),null!==i)return W.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),i}let o=0,s=0,r=0,g=new Array(t.returnStates.length+e.returnStates.length).fill(0),A=new Array(t.returnStates.length+e.returnStates.length).fill(null);for(;o<t.returnStates.length&&s<e.returnStates.length;){const a=t.parents[o],C=e.parents[s];if(t.returnStates[o]===e.returnStates[s]){const e=t.returnStates[o];e===W.EMPTY_RETURN_STATE&&null===a&&null===C||null!==a&&null!==C&&a===C?(A[r]=a,g[r]=e):(A[r]=Q(a,C,i,n),g[r]=e),o+=1,s+=1}else t.returnStates[o]<e.returnStates[s]?(A[r]=a,g[r]=t.returnStates[o],o+=1):(A[r]=C,g[r]=e.returnStates[s],s+=1);r+=1}if(o<t.returnStates.length)for(let e=o;e<t.returnStates.length;e++)A[r]=t.parents[e],g[r]=t.returnStates[e],r+=1;else for(let t=s;t<e.returnStates.length;t++)A[r]=e.parents[t],g[r]=e.returnStates[t],r+=1;if(r<A.length){if(1===r){const i=j.create(A[0],g[0]);return null!==n&&n.set(t,e,i),i}A=A.slice(0,r),g=g.slice(0,r)}const a=new G(A,g);return a.equals(t)?(null!==n&&n.set(t,e,t),W.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):a.equals(e)?(null!==n&&n.set(t,e,e),W.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){const e=new Y;for(let i=0;i<t.length;i++){const n=t[i];e.containsKey(n)||e.set(n,n)}for(let i=0;i<t.length;i++)t[i]=e.get(t[i])}(A),null!==n&&n.set(t,e,a),W.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+a),a)}(t,e,i,n)}class X{constructor(){this.data=new Uint32Array(1)}set(t){X._checkIndex(t),this._resize(t),this.data[t>>>5]|=1<<t%32}get(t){X._checkIndex(t);const e=t>>>5;return!(e>=this.data.length||!(this.data[e]&1<<t%32))}clear(t){X._checkIndex(t);const e=t>>>5;e<this.data.length&&(this.data[e]&=~(1<<t))}or(t){const e=Math.min(this.data.length,t.data.length);for(let i=0;i<e;++i)this.data[i]|=t.data[i];if(this.data.length<t.data.length){this._resize((t.data.length<<5)-1);const i=t.data.length;for(let n=e;n<i;++n)this.data[n]=t.data[n]}}values(){const t=new Array(this.length);let e=0;const i=this.data.length;for(let n=0;n<i;++n){let i=this.data[n];for(;0!==i;){const o=i&-i;t[e++]=(n<<5)+X._bitCount(o-1),i^=o}}return t}minValue(){for(let t=0;t<this.data.length;++t){let e=this.data[t];if(0!==e){let i=0;for(;!(1&e);)i++,e>>=1;return i+32*t}}return 0}hashCode(){return I.hashStuff(this.values())}equals(t){return t instanceof X&&A(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.data.map(t=>X._bitCount(t)).reduce((t,e)=>t+e,0)}_resize(t){const e=t+32>>>5;if(e<=this.data.length)return;const i=new Uint32Array(e);i.set(this.data),i.fill(0,this.data.length),this.data=i}static _checkIndex(t){if(t<0)throw new RangeError("index cannot be negative")}static _bitCount(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,0+(t+=t>>16)&63}}class q{constructor(t){this.atn=t}getDecisionLookahead(t){if(null===t)return null;const e=t.transitions.length,i=[];for(let n=0;n<e;n++){i[n]=new x;const e=new u,o=!1;this._LOOK(t.transition(n).target,null,W.EMPTY,i[n],e,new X,o,!1),(0===i[n].length||i[n].contains(q.HIT_PRED))&&(i[n]=null)}return i}LOOK(t,e,i){const n=new x,o=null!==(i=i||null)?U(t.atn,i):null;return this._LOOK(t,e,o,n,new u,new X,!0,!0),n}_LOOK(t,e,i,n,o,s,r,A){const a=new y({state:t,alt:0,context:i},null);if(!o.has(a)){if(o.add(a),t===e){if(null===i)return void n.addOne(g.EPSILON);if(i.isEmpty()&&A)return void n.addOne(g.EOF)}if(t instanceof k){if(null===i)return void n.addOne(g.EPSILON);if(i.isEmpty()&&A)return void n.addOne(g.EOF);if(i!==W.EMPTY){const g=s.get(t.ruleIndex);try{s.clear(t.ruleIndex);for(let t=0;t<i.length;t++){const g=this.atn.states[i.getReturnState(t)];this._LOOK(g,e,i.getParent(t),n,o,s,r,A)}}finally{g&&s.set(t.ruleIndex)}return}}for(let a=0;a<t.transitions.length;a++){const C=t.transitions[a];if(C.constructor===S){if(s.get(C.target.ruleIndex))continue;const t=j.create(i,C.followState.stateNumber);try{s.set(C.target.ruleIndex),this._LOOK(C.target,e,t,n,o,s,r,A)}finally{s.clear(C.target.ruleIndex)}}else if(C instanceof M)r?this._LOOK(C.target,e,i,n,o,s,r,A):n.addOne(q.HIT_PRED);else if(C.isEpsilon)this._LOOK(C.target,e,i,n,o,s,r,A);else if(C.constructor===N)n.addRange(g.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let t=C.label;null!==t&&(C instanceof D&&(t=t.complement(g.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),n.addSet(t))}}}}}q.HIT_PRED=g.INVALID_TYPE;class J{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new q(this).LOOK(t,null,e)}nextTokensNoContext(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const i=this.states[t];let n=this.nextTokens(i);if(!n.contains(g.EPSILON))return n;const o=new x;for(o.addSet(n),o.removeOne(g.EPSILON);null!==e&&e.invokingState>=0&&n.contains(g.EPSILON);){const t=this.states[e.invokingState].transitions[0];n=this.nextTokens(t.followState),o.addSet(n),o.removeOne(g.EPSILON),e=e.parentCtx}return n.contains(g.EPSILON)&&o.addOne(g.EOF),o}}J.INVALID_ALT_NUMBER=0;class $ extends E{constructor(){super(),this.stateType=E.BASIC}}class tt extends E{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class et extends tt{constructor(){return super(),this.endState=null,this}}class it extends E{constructor(){return super(),this.stateType=E.BLOCK_END,this.startState=null,this}}class nt extends E{constructor(){return super(),this.stateType=E.LOOP_END,this.loopBackState=null,this}}class ot extends E{constructor(){return super(),this.stateType=E.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class st extends tt{constructor(){return super(),this.stateType=E.TOKEN_START,this}}class rt extends tt{constructor(){return super(),this.stateType=E.PLUS_LOOP_BACK,this}}class gt extends E{constructor(){return super(),this.stateType=E.STAR_LOOP_BACK,this}}class At extends tt{constructor(){return super(),this.stateType=E.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class at extends et{constructor(){return super(),this.stateType=E.PLUS_BLOCK_START,this.loopBackState=null,this}}class Ct extends et{constructor(){return super(),this.stateType=E.STAR_BLOCK_START,this}}class It extends et{constructor(){return super(),this.stateType=E.BLOCK_START,this}}class lt extends T{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=T.ATOM}makeLabel(){const t=new x;return t.addOne(this.label_),t}matches(t,e,i){return this.label_===t}toString(){return this.label_}}class ht extends T{constructor(t,e,i){super(t),this.serializationType=T.RANGE,this.start=e,this.stop=i,this.label=this.makeLabel()}makeLabel(){const t=new x;return t.addRange(this.start,this.stop),t}matches(t,e,i){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class ct extends T{constructor(t,e,i,n){super(t),this.serializationType=T.ACTION,this.ruleIndex=e,this.actionIndex=void 0===i?-1:i,this.isCtxDependent=void 0!==n&&n,this.isEpsilon=!0}matches(t,e,i){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class dt extends T{constructor(t,e){super(t),this.serializationType=T.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,i){return!1}toString(){return"epsilon"}}class ut extends p{constructor(t,e,i){super(),this.ruleIndex=void 0===t?-1:t,this.predIndex=void 0===e?-1:e,this.isCtxDependent=void 0!==i&&i}evaluate(t,e){const i=this.isCtxDependent?e:null;return t.sempred(i,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof ut&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}p.NONE=new ut;class pt extends M{constructor(t,e,i,n){super(t),this.serializationType=T.PREDICATE,this.ruleIndex=e,this.predIndex=i,this.isCtxDependent=n,this.isEpsilon=!0}matches(t,e,i){return!1}getPredicate(){return new ut(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class ft extends p{constructor(t){super(),this.precedence=void 0===t?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?p.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof ft&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}p.PrecedencePredicate=ft;class mt extends M{constructor(t,e){super(t),this.serializationType=T.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,i){return!1}getPredicate(){return new ft(this.precedence)}toString(){return this.precedence+" >= _p"}}class vt{constructor(t){void 0===t&&(t=null),this.readOnly=!1,this.verifyATN=null===t||t.verifyATN,this.generateRuleBypassTransitions=null!==t&&t.generateRuleBypassTransitions}}vt.defaultOptions=new vt,vt.defaultOptions.readOnly=!0;class bt{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new I;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class yt extends bt{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}yt.INSTANCE=new yt;class wt extends bt{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof wt&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class xt extends bt{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof xt&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class Et extends bt{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}Et.INSTANCE=new Et;class kt extends bt{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof kt&&this.type===t.type}toString(){return"type("+this.type+")"}}class Tt extends bt{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Tt&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class St extends bt{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}St.INSTANCE=new St;class Ot extends bt{constructor(t){super(2),this.mode=t}execute(t){t.setMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Ot&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function Dt(t,e){const i=[];return i[t-1]=e,i.map(function(t){return e})}class Nt{constructor(t){null==t&&(t=vt.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const i=this.readATN();this.readStates(i,e),this.readRules(i,e),this.readModes(i);const n=[];return this.readSets(i,n,this.readInt.bind(this)),e&&this.readSets(i,n,this.readInt32.bind(this)),this.readEdges(i,n),this.readDecisions(i),this.readLexerActions(i,e),this.markPrecedenceDecisions(i),this.verifyATN(i),this.deserializationOptions.generateRuleBypassTransitions&&1===i.grammarType&&(this.generateRuleBypassTransitions(i),this.verifyATN(i)),i}reset(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){const e=function(t){const e=t.charCodeAt(0);return e>1?e-2:e+65534},i=t.split("").map(e);return i[0]=t.charCodeAt(0),this.data=i,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new J(t,e)}readStates(t,e){let i,n,o;const s=[],r=[],g=this.readInt();for(let i=0;i<g;i++){const i=this.readInt();if(i===E.INVALID_TYPE){t.addState(null);continue}let n=this.readInt();e&&65535===n&&(n=-1);const o=this.stateFactory(i,n);if(i===E.LOOP_END){const t=this.readInt();s.push([o,t])}else if(o instanceof et){const t=this.readInt();r.push([o,t])}t.addState(o)}for(i=0;i<s.length;i++)n=s[i],n[0].loopBackState=t.states[n[1]];for(i=0;i<r.length;i++)n=r[i],n[0].endState=t.states[n[1]];let A=this.readInt();for(i=0;i<A;i++)o=this.readInt(),t.states[o].nonGreedy=!0;let a=this.readInt();for(i=0;i<a;i++)o=this.readInt(),t.states[o].isPrecedenceRule=!0}readRules(t,e){let i;const n=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=Dt(n,0)),t.ruleToStartState=Dt(n,0),i=0;i<n;i++){const n=this.readInt();if(t.ruleToStartState[i]=t.states[n],0===t.grammarType){let n=this.readInt();e&&65535===n&&(n=g.EOF),t.ruleToTokenType[i]=n}}for(t.ruleToStopState=Dt(n,0),i=0;i<t.states.length;i++){const e=t.states[i];e instanceof k&&(t.ruleToStopState[e.ruleIndex]=e,t.ruleToStartState[e.ruleIndex].stopState=e)}}readModes(t){const e=this.readInt();for(let i=0;i<e;i++){let e=this.readInt();t.modeToStartState.push(t.states[e])}}readSets(t,e,i){const n=this.readInt();for(let t=0;t<n;t++){const t=new x;e.push(t);const n=this.readInt();0!==this.readInt()&&t.addOne(-1);for(let e=0;e<n;e++){const e=i(),n=i();t.addRange(e,n)}}}readEdges(t,e){let i,n,o,s,r;const g=this.readInt();for(i=0;i<g;i++){const i=this.readInt(),n=this.readInt(),o=this.readInt(),r=this.readInt(),g=this.readInt(),A=this.readInt();s=this.edgeFactory(t,o,i,n,r,g,A,e),t.states[i].addTransition(s)}for(i=0;i<t.states.length;i++)for(o=t.states[i],n=0;n<o.transitions.length;n++){const e=o.transitions[n];if(!(e instanceof S))continue;let i=-1;t.ruleToStartState[e.target.ruleIndex].isPrecedenceRule&&0===e.precedence&&(i=e.target.ruleIndex),s=new dt(e.followState,i),t.ruleToStopState[e.target.ruleIndex].addTransition(s)}for(i=0;i<t.states.length;i++){if(o=t.states[i],o instanceof et){if(null===o.endState)throw"IllegalState";if(null!==o.endState.startState)throw"IllegalState";o.endState.startState=o}if(o instanceof rt)for(n=0;n<o.transitions.length;n++)r=o.transitions[n].target,r instanceof at&&(r.loopBackState=o);else if(o instanceof gt)for(n=0;n<o.transitions.length;n++)r=o.transitions[n].target,r instanceof At&&(r.loopBackState=o)}}readDecisions(t){const e=this.readInt();for(let i=0;i<e;i++){const e=this.readInt(),n=t.states[e];t.decisionToState.push(n),n.decision=i}}readLexerActions(t,e){if(0===t.grammarType){const i=this.readInt();t.lexerActions=Dt(i,null);for(let n=0;n<i;n++){const i=this.readInt();let o=this.readInt();e&&65535===o&&(o=-1);let s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[n]=this.lexerActionFactory(i,o,s)}}}generateRuleBypassTransitions(t){let e;const i=t.ruleToStartState.length;for(e=0;e<i;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<i;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let i,n;const o=new It;o.ruleIndex=e,t.addState(o);const s=new it;s.ruleIndex=e,t.addState(s),o.endState=s,t.defineDecisionState(o),s.startState=o;let r=null,g=null;if(t.ruleToStartState[e].isPrecedenceRule){for(g=null,i=0;i<t.states.length;i++)if(n=t.states[i],this.stateIsEndStateFor(n,e)){g=n,r=n.loopBackState.transitions[0];break}if(null===r)throw"Couldn't identify final state of the precedence rule prefix section."}else g=t.ruleToStopState[e];for(i=0;i<t.states.length;i++){n=t.states[i];for(let t=0;t<n.transitions.length;t++){const e=n.transitions[t];e!==r&&e.target===g&&(e.target=s)}}const A=t.ruleToStartState[e],a=A.transitions.length;for(;a>0;)o.addTransition(A.transitions[a-1]),A.transitions=A.transitions.slice(-1);t.ruleToStartState[e].addTransition(new dt(o)),s.addTransition(new dt(g));const C=new $;t.addState(C),C.addTransition(new lt(s,t.ruleToTokenType[e])),o.addTransition(new dt(C))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof At))return null;const i=t.transitions[t.transitions.length-1].target;return i instanceof nt&&i.epsilonOnlyTransitions&&i.transitions[0].target instanceof k?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const i=t.states[e];if(i instanceof At&&t.ruleToStartState[i.ruleIndex].isPrecedenceRule){const t=i.transitions[i.transitions.length-1].target;t instanceof nt&&t.epsilonOnlyTransitions&&t.transitions[0].target instanceof k&&(i.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const i=t.states[e];if(null!==i)if(this.checkCondition(i.epsilonOnlyTransitions||i.transitions.length<=1),i instanceof at)this.checkCondition(null!==i.loopBackState);else if(i instanceof At)if(this.checkCondition(null!==i.loopBackState),this.checkCondition(2===i.transitions.length),i.transitions[0].target instanceof Ct)this.checkCondition(i.transitions[1].target instanceof nt),this.checkCondition(!i.nonGreedy);else{if(!(i.transitions[0].target instanceof nt))throw"IllegalState";this.checkCondition(i.transitions[1].target instanceof Ct),this.checkCondition(i.nonGreedy)}else i instanceof gt?(this.checkCondition(1===i.transitions.length),this.checkCondition(i.transitions[0].target instanceof At)):i instanceof nt?this.checkCondition(null!==i.loopBackState):i instanceof ot?this.checkCondition(null!==i.stopState):i instanceof et?this.checkCondition(null!==i.endState):i instanceof it?this.checkCondition(null!==i.startState):i instanceof tt?this.checkCondition(i.transitions.length<=1||i.decision>=0):this.checkCondition(i.transitions.length<=1||i instanceof k)}}checkCondition(t,e){if(!t)throw null==e&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,i,n,o,s,r,A){const a=t.states[n];switch(e){case T.EPSILON:return new dt(a);case T.RANGE:return new ht(a,0!==r?g.EOF:o,s);case T.RULE:return new S(t.states[o],s,r,a);case T.PREDICATE:return new pt(a,o,s,0!==r);case T.PRECEDENCE:return new mt(a,o);case T.ATOM:return new lt(a,0!==r?g.EOF:o);case T.ACTION:return new ct(a,o,s,0!==r);case T.SET:return new O(a,A[o]);case T.NOT_SET:return new D(a,A[o]);case T.WILDCARD:return new N(a);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(null===this.stateFactories){const t=[];t[E.INVALID_TYPE]=null,t[E.BASIC]=()=>new $,t[E.RULE_START]=()=>new ot,t[E.BLOCK_START]=()=>new It,t[E.PLUS_BLOCK_START]=()=>new at,t[E.STAR_BLOCK_START]=()=>new Ct,t[E.TOKEN_START]=()=>new st,t[E.RULE_STOP]=()=>new k,t[E.BLOCK_END]=()=>new it,t[E.STAR_LOOP_BACK]=()=>new gt,t[E.STAR_LOOP_ENTRY]=()=>new At,t[E.PLUS_LOOP_BACK]=()=>new rt,t[E.LOOP_END]=()=>new nt,this.stateFactories=t}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";{const i=this.stateFactories[t]();if(null!==i)return i.ruleIndex=e,i}}lexerActionFactory(t,e,i){if(null===this.actionFactories){const t=[];t[0]=(t,e)=>new wt(t),t[1]=(t,e)=>new xt(t,e),t[2]=(t,e)=>new Ot(t),t[3]=(t,e)=>Et.INSTANCE,t[4]=(t,e)=>St.INSTANCE,t[5]=(t,e)=>new Tt(t),t[6]=(t,e)=>yt.INSTANCE,t[7]=(t,e)=>new kt(t),this.actionFactories=t}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,i)}}class Mt{syntaxError(t,e,i,n,o,s){}reportAmbiguity(t,e,i,n,o,s,r){}reportAttemptingFullContext(t,e,i,n,o,s){}reportContextSensitivity(t,e,i,n,o,s){}}class Rt extends Mt{constructor(){super()}syntaxError(t,e,i,n,o,s){console.error("line "+i+":"+n+" "+o)}}Rt.INSTANCE=new Rt;class Pt extends Mt{constructor(t){if(super(),null===t)throw"delegates";return this.delegates=t,this}syntaxError(t,e,i,n,o,s){this.delegates.map(r=>r.syntaxError(t,e,i,n,o,s))}reportAmbiguity(t,e,i,n,o,s,r){this.delegates.map(g=>g.reportAmbiguity(t,e,i,n,o,s,r))}reportAttemptingFullContext(t,e,i,n,o,s){this.delegates.map(r=>r.reportAttemptingFullContext(t,e,i,n,o,s))}reportContextSensitivity(t,e,i,n,o,s){this.delegates.map(r=>r.reportContextSensitivity(t,e,i,n,o,s))}}class Lt{constructor(){this._listeners=[Rt.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.2";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),i=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let n=0;n<i;n++)this.tokenNames[n]=t[n]||e[n]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce(function(t,e,i){t[e]=i}),e.EOF=g.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce(function(t,e,i){t[e]=i}),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return void 0!==e?e:g.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===g.EOF?"<EOF>":"<"+t.type+">"),e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return console.warn("Calling deprecated method in Recognizer class: getErrorListenerDispatch()"),this.getErrorListener()}getErrorListener(){return new Pt(this._listeners)}sempred(t,e,i){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}Lt.tokenTypeMapCache={},Lt.ruleIndexMapCache={};class Bt extends g{constructor(t,e,i,n,o){super(),this.source=void 0!==t?t:Bt.EMPTY_SOURCE,this.type=void 0!==e?e:null,this.channel=void 0!==i?i:g.DEFAULT_CHANNEL,this.start=void 0!==n?n:-1,this.stop=void 0!==o?o:-1,this.tokenIndex=-1,null!==this.source[0]?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new Bt(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(t){const e=new Bt(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===g.EOF&&(e.text=""),e}toString(){let t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(null!==this._text)return this._text;const t=this.getInputStream();if(null===t)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}Bt.EMPTY_SOURCE=[null,null];class Ft{}class _t extends Ft{constructor(t){super(),this.copyText=void 0!==t&&t}create(t,e,i,n,o,s,r,g){const A=new Bt(t,e,n,o,s);return A.line=r,A.column=g,null!==i?A.text=i:this.copyText&&null!==t[1]&&(A.text=t[1].getText(o,s)),A}createThin(t,e){const i=new Bt(null,t);return i.text=e,i}}_t.DEFAULT=new _t;class zt extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,zt),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,null!==this.recognizer&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class Vt extends zt{constructor(t,e,i,n){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=i,this.deadEndConfigs=n}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new w(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class Zt extends Lt{constructor(t){super(),this._input=t,this._factory=_t.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=g.DEFAULT_CHANNEL,this._type=g.INVALID_TYPE,this._modeStack=[],this._mode=Zt.DEFAULT_MODE,this._text=null}reset(){null!==this._input&&this._input.seek(0),this._token=null,this._type=g.INVALID_TYPE,this._channel=g.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=Zt.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(null===this._input)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=g.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=g.INVALID_TYPE;let i=Zt.SKIP;try{i=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof zt))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===g.EOF&&(this._hitEOF=!0),this._type===g.INVALID_TYPE&&(this._type=i),this._type===Zt.SKIP){e=!0;break}if(this._type!==Zt.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=Zt.SKIP}more(){this._type=Zt.MORE}mode(t){console.warn("Calling deprecated method in Lexer class: mode(...)"),this.setMode(t)}setMode(t){this._mode=t}getMode(){return this._mode}getModeStack(){return this._modeStack}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.setMode(t)}popMode(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.setMode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,i=this._factory.create(this._tokenFactorySourcePair,g.EOF,null,g.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(i),i}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==g.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,i=this._input.index,n=this._input.getText(e,i),o="token recognition error at: '"+this.getErrorDisplay(n)+"'";this.getErrorListener().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}getErrorDisplay(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===g.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==g.EOF&&(t instanceof Vt?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return null!==this._text?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function Wt(t){return t.hashCodeForConfigSet()}function Gt(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Zt.DEFAULT_MODE=0,Zt.MORE=-2,Zt.SKIP=-3,Zt.DEFAULT_TOKEN_CHANNEL=g.DEFAULT_CHANNEL,Zt.HIDDEN=g.HIDDEN_CHANNEL,Zt.MIN_CHAR_VALUE=0,Zt.MAX_CHAR_VALUE=1114111;class jt{constructor(t){this.configLookup=new u(Wt,Gt),this.fullCtx=void 0===t||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==p.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const i=this.configLookup.getOrAdd(t);if(i===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const n=!this.fullCtx,o=Q(i.context,t.context,n,e);return i.reachesIntoOuterContext=Math.max(i.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(i.precedenceFilterSuppressed=!0),i.context=o,!0}getStates(){const t=new u;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const i=this.configs[e].semanticContext;i!==p.NONE&&t.push(i.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(let e=0;e<this.configs.length;e++){const i=this.configs[e];i.context=t.getCachedContext(i.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof jt&&A(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new I;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return 0===this.configs.length}contains(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new u}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return d(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==J.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class Ht{constructor(t,e){return null===t&&(t=-1),null===e&&(e=new jt),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new u;if(null!==this.configs)for(let e=0;e<this.configs.length;e++){const i=this.configs[e];t.add(i.alt)}return 0===t.length?null:t}equals(t){return this===t||t instanceof Ht&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new I;return t.update(this.configs),t.finish()}}class Yt{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(null===this.sharedContextCache)return t;const e=new Y;return K(t,this.sharedContextCache,e)}}Yt.ERROR=new Ht(2147483647,new jt);class Ut extends jt{constructor(){super(),this.configLookup=new u}}class Kt extends y{constructor(t,e){super(t,e);const i=t.lexerActionExecutor||null;return this.lexerActionExecutor=i||(null!==e?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=null!==e&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=Kt.prototype.hashCode,this.equalsForConfigSet=Kt.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof Kt&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof tt&&e.nonGreedy}}class Qt extends bt{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof Qt&&this.offset===t.offset&&this.action===t.action}}class Xt{constructor(t){return this.lexerActions=null===t?[]:t,this.cachedHashCode=I.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let i=0;i<this.lexerActions.length;i++)!this.lexerActions[i].isPositionDependent||this.lexerActions[i]instanceof Qt||(null===e&&(e=this.lexerActions.concat([])),e[i]=new Qt(t,this.lexerActions[i]));return null===e?this:new Xt(e)}execute(t,e,i){let n=!1;const o=e.index;try{for(let s=0;s<this.lexerActions.length;s++){let r=this.lexerActions[s];if(r instanceof Qt){const t=r.offset;e.seek(i+t),r=r.action,n=i+t!==o}else r.isPositionDependent&&(e.seek(o),n=!1);r.execute(t)}}finally{n&&e.seek(o)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof Xt){if(this.cachedHashCode!=t.cachedHashCode)return!1;if(this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let i=0;i<e;++i)if(!this.lexerActions[i].equals(t.lexerActions[i]))return!1;return!0}}return!1}static append(t,e){if(null===t)return new Xt([e]);const i=t.lexerActions.concat([e]);return new Xt(i)}}function qt(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}class Jt{constructor(){qt(this)}reset(){qt(this)}}class $t extends Yt{constructor(t,e,i,n){super(e,n),this.decisionToDFA=i,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=Zt.DEFAULT_MODE,this.prevAccept=new Jt}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const i=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const i=this.decisionToDFA[e];return null===i.s0?this.matchATN(t):this.execATN(t,i.s0)}finally{t.release(i)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Zt.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];$t.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const i=this.mode,n=this.computeStartState(t,e),o=n.hasSemanticContext;n.hasSemanticContext=!1;const s=this.addDFAState(n);o||(this.decisionToDFA[this.mode].s0=s);const r=this.execATN(t,s);return $t.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[i].toLexerString()),r}execATN(t,e){$t.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let i=t.LA(1),n=e;for(;;){$t.debug&&console.log("execATN loop starting closure: "+n.configs);let e=this.getExistingTargetState(n,i);if(null===e&&(e=this.computeTargetState(t,n,i)),e===Yt.ERROR)break;if(i!==g.EOF&&this.consume(t),e.isAcceptState&&(this.captureSimState(this.prevAccept,t,e),i===g.EOF))break;i=t.LA(1),n=e}return this.failOrAccept(this.prevAccept,t,n.configs,i)}getExistingTargetState(t,e){if(null===t.edges||e<$t.MIN_DFA_EDGE||e>$t.MAX_DFA_EDGE)return null;let i=t.edges[e-$t.MIN_DFA_EDGE];return void 0===i&&(i=null),$t.debug&&null!==i&&console.log("reuse state "+t.stateNumber+" edge to "+i.stateNumber),i}computeTargetState(t,e,i){const n=new Ut;return this.getReachableConfigSet(t,e.configs,n,i),0===n.items.length?(n.hasSemanticContext||this.addDFAEdge(e,i,Yt.ERROR),Yt.ERROR):this.addDFAEdge(e,i,null,n)}failOrAccept(t,e,i,n){if(null!==this.prevAccept.dfaState){const i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(n===g.EOF&&e.index===this.startIndex)return g.EOF;throw new Vt(this.recog,e,this.startIndex,i)}getReachableConfigSet(t,e,i,n){let o=J.INVALID_ALT_NUMBER;for(let s=0;s<e.items.length;s++){const r=e.items[s],A=r.alt===o;if(!A||!r.passedThroughNonGreedyDecision){$t.debug&&console.log("testing %s at %s\n",this.getTokenName(n),r.toString(this.recog,!0));for(let e=0;e<r.state.transitions.length;e++){const s=r.state.transitions[e],a=this.getReachableTarget(s,n);if(null!==a){let e=r.lexerActionExecutor;null!==e&&(e=e.fixOffsetBeforeMatch(t.index-this.startIndex));const s=n===g.EOF,C=new Kt({state:a,lexerActionExecutor:e},r);this.closure(t,C,i,A,!0,s)&&(o=r.alt)}}}}}accept(t,e,i,n,o,s){$t.debug&&console.log("ACTION %s\n",e),t.seek(n),this.line=o,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,i)}getReachableTarget(t,e){return t.matches(e,0,Zt.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const i=W.EMPTY,n=new Ut;for(let o=0;o<e.transitions.length;o++){const s=e.transitions[o].target,r=new Kt({state:s,alt:o+1,context:i},null);this.closure(t,r,n,!1,!1,!1)}return n}closure(t,e,i,n,o,s){let r=null;if($t.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof k){if($t.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return i.add(e),!0;i.add(new Kt({state:e.state,context:W.EMPTY},e)),n=!0}if(null!==e.context&&!e.context.isEmpty())for(let g=0;g<e.context.length;g++)if(e.context.getReturnState(g)!==W.EMPTY_RETURN_STATE){const A=e.context.getParent(g),a=this.atn.states[e.context.getReturnState(g)];r=new Kt({state:a,context:A},e),n=this.closure(t,r,i,n,o,s)}return n}e.state.epsilonOnlyTransitions||n&&e.passedThroughNonGreedyDecision||i.add(e);for(let g=0;g<e.state.transitions.length;g++){const A=e.state.transitions[g];r=this.getEpsilonTarget(t,e,A,i,o,s),null!==r&&(n=this.closure(t,r,i,n,o,s))}return n}getEpsilonTarget(t,e,i,n,o,s){let r=null;if(i.serializationType===T.RULE){const t=j.create(e.context,i.followState.stateNumber);r=new Kt({state:i.target,context:t},e)}else{if(i.serializationType===T.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(i.serializationType===T.PREDICATE)$t.debug&&console.log("EVAL rule "+i.ruleIndex+":"+i.predIndex),n.hasSemanticContext=!0,this.evaluatePredicate(t,i.ruleIndex,i.predIndex,o)&&(r=new Kt({state:i.target},e));else if(i.serializationType===T.ACTION)if(null===e.context||e.context.hasEmptyPath()){const t=Xt.append(e.lexerActionExecutor,this.atn.lexerActions[i.actionIndex]);r=new Kt({state:i.target,lexerActionExecutor:t},e)}else r=new Kt({state:i.target},e);else i.serializationType===T.EPSILON?r=new Kt({state:i.target},e):i.serializationType!==T.ATOM&&i.serializationType!==T.RANGE&&i.serializationType!==T.SET||s&&i.matches(g.EOF,0,Zt.MAX_CHAR_VALUE)&&(r=new Kt({state:i.target},e))}return r}evaluatePredicate(t,e,i,n){if(null===this.recog)return!0;if(!n)return this.recog.sempred(null,e,i);const o=this.column,s=this.line,r=t.index,g=t.mark();try{return this.consume(t),this.recog.sempred(null,e,i)}finally{this.column=o,this.line=s,t.seek(r),t.release(g)}}captureSimState(t,e,i){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=i}addDFAEdge(t,e,i,n){if(void 0===i&&(i=null),void 0===n&&(n=null),null===i&&null!==n){const t=n.hasSemanticContext;if(n.hasSemanticContext=!1,i=this.addDFAState(n),t)return i}return e<$t.MIN_DFA_EDGE||e>$t.MAX_DFA_EDGE||($t.debug&&console.log("EDGE "+t+" -> "+i+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-$t.MIN_DFA_EDGE]=i),i}addDFAState(t){const e=new Ht(null,t);let i=null;for(let e=0;e<t.items.length;e++){const n=t.items[e];if(n.state instanceof k){i=n;break}}null!==i&&(e.isAcceptState=!0,e.lexerActionExecutor=i.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[i.state.ruleIndex]);const n=this.decisionToDFA[this.mode],o=n.states.get(e);if(null!==o)return o;const s=e;return s.stateNumber=n.states.length,t.setReadonly(!0),s.configs=t,n.states.add(s),s}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}$t.debug=!1,$t.dfa_debug=!1,$t.MIN_DFA_EDGE=0,$t.MAX_DFA_EDGE=127;class te{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class ee{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter(t=>t.startsWith("k-")).map(t=>this.data[t],this)}}const ie={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(ie.allConfigsInRuleStopStates(e))return!0;if(t===ie.SLL&&e.hasSemanticContext){const t=new jt;for(let i=0;i<e.items.length;i++){let n=e.items[i];n=new y({semanticContext:p.NONE},n),t.add(n)}e=t}const i=ie.getConflictingAltSubsets(e);return ie.hasConflictingAltSet(i)&&!ie.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(let e=0;e<t.items.length;e++)if(t.items[e].state instanceof k)return!0;return!1},allConfigsInRuleStopStates:function(t){for(let e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof k))return!1;return!0},resolvesToJustOneViableAlt:function(t){return ie.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!ie.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(let e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){let e=null;for(let i=0;i<t.length;i++){const n=t[i];if(null===e)e=n;else if(n!==e)return!1}return!0},getUniqueAlt:function(t){const e=ie.getAlts(t);return 1===e.length?e.minValue():J.INVALID_ALT_NUMBER},getAlts:function(t){const e=new X;return t.map(function(t){e.or(t)}),e},getConflictingAltSubsets:function(t){const e=new Y;return e.hashFunction=function(t){I.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map(function(t){let i=e.get(t);null===i&&(i=new X,e.set(t,i)),i.set(t.alt)}),e.getValues()},getStateToAltMap:function(t){const e=new ee;return t.items.map(function(t){let i=e.get(t.state);null===i&&(i=new X,e.set(t.state,i)),i.set(t.alt)}),e},hasStateAssociatedWithOneAlt:function(t){const e=ie.getStateToAltMap(t).values();for(let t=0;t<e.length;t++)if(1===e[t].length)return!0;return!1},getSingleViableAlt:function(t){let e=null;for(let i=0;i<t.length;i++){const n=t[i].minValue();if(null===e)e=n;else if(e!==n)return J.INVALID_ALT_NUMBER}return e}},ne=ie;class oe extends zt{constructor(t,e,i,n,o,s){s=s||t._ctx,n=n||t.getCurrentToken(),i=i||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:s}),this.deadEndConfigs=o,this.startToken=i,this.offendingToken=n}}class se{constructor(t){this.defaultMapCtor=t||Y,this.cacheMap=new this.defaultMapCtor}get(t,e){const i=this.cacheMap.get(t)||null;return null===i?null:i.get(e)||null}set(t,e,i){let n=this.cacheMap.get(t)||null;null===n&&(n=new this.defaultMapCtor,this.cacheMap.set(t,n)),n.set(e,i)}}class re extends Yt{constructor(t,e,i,n){super(e,n),this.parser=t,this.decisionToDFA=i,this.predictionMode=ne.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,i){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=i;const n=this.decisionToDFA[e];this._dfa=n;const o=t.mark(),s=t.index;try{let e;if(e=n.precedenceDfa?n.getPrecedenceStartState(this.parser.getPrecedence()):n.s0,null===e){null===i&&(i=Z.EMPTY),this.debug&&console.log("predictATN decision "+n.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+i.toString(this.parser.ruleNames));const o=!1;let s=this.computeStartState(n.atnStartState,Z.EMPTY,o);n.precedenceDfa?(n.s0.configs=s,s=this.applyPrecedenceFilter(s),e=this.addDFAState(n,new Ht(null,s)),n.setPrecedenceStartState(this.parser.getPrecedence(),e)):(e=this.addDFAState(n,new Ht(null,s)),n.s0=e)}const o=this.execATN(n,e,t,s,i);return this.debug&&console.log("DFA after predictATN: "+n.toString(this.parser.literalNames,this.parser.symbolicNames)),o}finally{this._dfa=null,this.mergeCache=null,t.seek(s),t.release(o)}}execATN(t,e,i,n,o){let s;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(i)+" line "+i.LT(1).line+":"+i.LT(1).column);let r=e;this.debug&&console.log("s0 = "+e);let A=i.LA(1);for(;;){let e=this.getExistingTargetState(r,A);if(null===e&&(e=this.computeTargetState(t,r,A)),e===Yt.ERROR){const t=this.noViableAlt(i,o,r.configs,n);if(i.seek(n),s=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(r.configs,o),s!==J.INVALID_ALT_NUMBER)return s;throw t}if(e.requiresFullContext&&this.predictionMode!==ne.SLL){let r=null;if(null!==e.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const t=i.index;if(t!==n&&i.seek(n),r=this.evalSemanticContext(e.predicates,o,!0),1===r.length)return this.debug&&console.log("Full LL avoided"),r.minValue();t!==n&&i.seek(t)}this.dfa_debug&&console.log("ctx sensitive state "+o+" in "+e);const g=!0,A=this.computeStartState(t.atnStartState,o,g);return this.reportAttemptingFullContext(t,r,e.configs,n,i.index),s=this.execATNWithFullContext(t,e,A,i,n,o),s}if(e.isAcceptState){if(null===e.predicates)return e.prediction;const s=i.index;i.seek(n);const r=this.evalSemanticContext(e.predicates,o,!0);if(0===r.length)throw this.noViableAlt(i,o,e.configs,n);return 1===r.length||this.reportAmbiguity(t,e,n,s,!1,r,e.configs),r.minValue()}r=e,A!==g.EOF&&(i.consume(),A=i.LA(1))}}getExistingTargetState(t,e){const i=t.edges;return null===i?null:i[e+1]||null}computeTargetState(t,e,i){const n=this.computeReachSet(e.configs,i,!1);if(null===n)return this.addDFAEdge(t,e,i,Yt.ERROR),Yt.ERROR;let o=new Ht(null,n);const s=this.getUniqueAlt(n);if(this.debug){const t=ne.getConflictingAltSubsets(n);console.log("SLL altSubSets="+d(t)+", configs="+n+", predict="+s+", allSubsetsConflict="+ne.allSubsetsConflict(t)+", conflictingAlts="+this.getConflictingAlts(n))}return s!==J.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=s,o.prediction=s):ne.hasSLLConflictTerminatingPrediction(this.predictionMode,n)&&(o.configs.conflictingAlts=this.getConflictingAlts(n),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.minValue()),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),null!==o.predicates&&(o.prediction=J.INVALID_ALT_NUMBER)),o=this.addDFAEdge(t,e,i,o),o}predicateDFAState(t,e){const i=e.transitions.length,n=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(n,t.configs,i);null!==o?(t.predicates=this.getPredicatePredictions(n,o),t.prediction=J.INVALID_ALT_NUMBER):t.prediction=n.minValue()}execATNWithFullContext(t,e,i,n,o,s){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+i);let r,A=!1,a=i;n.seek(o);let C=n.LA(1),I=-1;for(;;){if(r=this.computeReachSet(a,C,!0),null===r){const t=this.noViableAlt(n,s,a,o);n.seek(o);const e=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a,s);if(e!==J.INVALID_ALT_NUMBER)return e;throw t}const t=ne.getConflictingAltSubsets(r);if(this.debug&&console.log("LL altSubSets="+t+", predict="+ne.getUniqueAlt(t)+", resolvesToJustOneViableAlt="+ne.resolvesToJustOneViableAlt(t)),r.uniqueAlt=this.getUniqueAlt(r),r.uniqueAlt!==J.INVALID_ALT_NUMBER){I=r.uniqueAlt;break}if(this.predictionMode!==ne.LL_EXACT_AMBIG_DETECTION){if(I=ne.resolvesToJustOneViableAlt(t),I!==J.INVALID_ALT_NUMBER)break}else if(ne.allSubsetsConflict(t)&&ne.allSubsetsEqual(t)){A=!0,I=ne.getSingleViableAlt(t);break}a=r,C!==g.EOF&&(n.consume(),C=n.LA(1))}return r.uniqueAlt!==J.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,I,r,o,n.index),I):(this.reportAmbiguity(t,e,o,n.index,A,null,r),I)}computeReachSet(t,e,i){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new se);const n=new jt(i);let o=null;for(let s=0;s<t.items.length;s++){const r=t.items[s];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+r),r.state instanceof k)(i||e===g.EOF)&&(null===o&&(o=[]),o.push(r),this.debug_add&&console.log("added "+r+" to skippedStopStates"));else for(let t=0;t<r.state.transitions.length;t++){const i=r.state.transitions[t],o=this.getReachableTarget(i,e);if(null!==o){const t=new y({state:o},r);n.add(t,this.mergeCache),this.debug_add&&console.log("added "+t+" to intermediate")}}}let s=null;if(null===o&&e!==g.EOF&&(1===n.items.length||this.getUniqueAlt(n)!==J.INVALID_ALT_NUMBER)&&(s=n),null===s){s=new jt(i);const t=new u,o=e===g.EOF;for(let e=0;e<n.items.length;e++)this.closure(n.items[e],s,t,!1,i,o)}if(e===g.EOF&&(s=this.removeAllConfigsNotInRuleStopState(s,s===n)),!(null===o||i&&ne.hasConfigInRuleStopState(s)))for(let t=0;t<o.length;t++)s.add(o[t],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+s),0===s.items.length?null:s}removeAllConfigsNotInRuleStopState(t,e){if(ne.allConfigsInRuleStopStates(t))return t;const i=new jt(t.fullCtx);for(let n=0;n<t.items.length;n++){const o=t.items[n];if(o.state instanceof k)i.add(o,this.mergeCache);else if(e&&o.state.epsilonOnlyTransitions&&this.atn.nextTokens(o.state).contains(g.EPSILON)){const t=this.atn.ruleToStopState[o.state.ruleIndex];i.add(new y({state:t},o),this.mergeCache)}}return i}computeStartState(t,e,i){const n=U(this.atn,e),o=new jt(i);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+n.toString(this.parser));for(let e=0;e<t.transitions.length;e++){const s=t.transitions[e].target,r=new y({state:s,alt:e+1,context:n},null),g=new u;this.closure(r,o,g,!0,i,!1)}return o}applyPrecedenceFilter(t){let e;const i=[],n=new jt(t.fullCtx);for(let o=0;o<t.items.length;o++){if(e=t.items[o],1!==e.alt)continue;const s=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==s&&(i[e.state.stateNumber]=e.context,s!==e.semanticContext?n.add(new y({semanticContext:s},e),this.mergeCache):n.add(e,this.mergeCache))}for(let o=0;o<t.items.length;o++)if(e=t.items[o],1!==e.alt){if(!e.precedenceFilterSuppressed){const t=i[e.state.stateNumber]||null;if(null!==t&&t.equals(e.context))continue}n.add(e,this.mergeCache)}return n}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,i){let n=[];for(let i=0;i<e.items.length;i++){const o=e.items[i];t.get(o.alt)&&(n[o.alt]=p.orContext(n[o.alt]||null,o.semanticContext))}let o=0;for(let t=1;t<i+1;t++){const e=n[t]||null;null===e?n[t]=p.NONE:e!==p.NONE&&(o+=1)}return 0===o&&(n=null),this.debug&&console.log("getPredsForAmbigAlts result "+d(n)),n}getPredicatePredictions(t,e){const i=[];let n=!1;for(let o=1;o<e.length;o++){const s=e[o];null!==t&&t.get(o)&&i.push(new te(s,o)),s!==p.NONE&&(n=!0)}return n?i:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const i=this.splitAccordingToSemanticValidity(t,e),n=i[0],o=i[1];let s=this.getAltThatFinishedDecisionEntryRule(n);return s!==J.INVALID_ALT_NUMBER||o.items.length>0&&(s=this.getAltThatFinishedDecisionEntryRule(o),s!==J.INVALID_ALT_NUMBER)?s:J.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let i=0;i<t.items.length;i++){const n=t.items[i];(n.reachesIntoOuterContext>0||n.state instanceof k&&n.context.hasEmptyPath())&&e.indexOf(n.alt)<0&&e.push(n.alt)}return 0===e.length?J.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const i=new jt(t.fullCtx),n=new jt(t.fullCtx);for(let o=0;o<t.items.length;o++){const s=t.items[o];s.semanticContext!==p.NONE?s.semanticContext.evaluate(this.parser,e)?i.add(s):n.add(s):i.add(s)}return[i,n]}evalSemanticContext(t,e,i){const n=new X;for(let o=0;o<t.length;o++){const s=t[o];if(s.pred===p.NONE){if(n.set(s.alt),!i)break;continue}const r=s.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+s+"="+r),r&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+s.alt),n.set(s.alt),!i))break}return n}closure(t,e,i,n,o,s){this.closureCheckingStopState(t,e,i,n,o,0,s)}closureCheckingStopState(t,e,i,n,o,s,r){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof k){if(!t.context.isEmpty()){for(let g=0;g<t.context.length;g++){if(t.context.getReturnState(g)===W.EMPTY_RETURN_STATE){if(o){e.add(new y({state:t.state,context:W.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,i,n,o,s,r);continue}const A=this.atn.states[t.context.getReturnState(g)],a=t.context.getParent(g),C={state:A,alt:t.alt,context:a,semanticContext:t.semanticContext},I=new y(C,null);I.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(I,e,i,n,o,s-1,r)}return}if(o)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,i,n,o,s,r)}closure_(t,e,i,n,o,s,r){const g=t.state;g.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let A=0;A<g.transitions.length;A++){if(0===A&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const a=g.transitions[A],C=n&&!(a instanceof ct),I=this.getEpsilonTarget(t,a,C,0===s,o,r);if(null!==I){let n=s;if(t.state instanceof k){if(null!==this._dfa&&this._dfa.precedenceDfa&&a.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(I.precedenceFilterSuppressed=!0),I.reachesIntoOuterContext+=1,i.getOrAdd(I)!==I)continue;e.dipsIntoOuterContext=!0,n-=1,this.debug&&console.log("dips into outer ctx: "+I)}else{if(!a.isEpsilon&&i.getOrAdd(I)!==I)continue;a instanceof S&&n>=0&&(n+=1)}this.closureCheckingStopState(I,e,i,C,o,n,r)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==E.STAR_LOOP_ENTRY)return!1;if(e.stateType!==E.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const i=t.context.length;for(let n=0;n<i;n++)if(this.atn.states[t.context.getReturnState(n)].ruleIndex!==e.ruleIndex)return!1;const n=e.transitions[0].target.endState.stateNumber,o=this.atn.states[n];for(let n=0;n<i;n++){const i=t.context.getReturnState(n),s=this.atn.states[i];if(1!==s.transitions.length||!s.transitions[0].isEpsilon)return!1;const r=s.transitions[0].target;if(!(s.stateType===E.BLOCK_END&&r===e||s===o||r===o||r.stateType===E.BLOCK_END&&1===r.transitions.length&&r.transitions[0].isEpsilon&&r.transitions[0].target===e))return!1}return!0}getRuleName(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,i,n,o,s){switch(e.serializationType){case T.RULE:return this.ruleTransition(t,e);case T.PRECEDENCE:return this.precedenceTransition(t,e,i,n,o);case T.PREDICATE:return this.predTransition(t,e,i,n,o);case T.ACTION:return this.actionTransition(t,e);case T.EPSILON:return new y({state:e.target},t);case T.ATOM:case T.RANGE:case T.SET:return s&&e.matches(g.EOF,0,1)?new y({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const t=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+t)}return new y({state:e.target},t)}precedenceTransition(t,e,i,n,o){this.debug&&(console.log("PRED (collectPredicates="+i+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));let s=null;if(i&&n)if(o){const i=this._input.index;this._input.seek(this._startIndex);const n=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(i),n&&(s=new y({state:e.target},t))}else{const i=p.andContext(t.semanticContext,e.getPredicate());s=new y({state:e.target,semanticContext:i},t)}else s=new y({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}predTransition(t,e,i,n,o){this.debug&&(console.log("PRED (collectPredicates="+i+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));let s=null;if(i&&(e.isCtxDependent&&n||!e.isCtxDependent))if(o){const i=this._input.index;this._input.seek(this._startIndex);const n=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(i),n&&(s=new y({state:e.target},t))}else{const i=p.andContext(t.semanticContext,e.getPredicate());s=new y({state:e.target,semanticContext:i},t)}else s=new y({state:e.target},t);return this.debug&&console.log("config from pred transition="+s),s}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const i=e.followState,n=j.create(t.context,i.stateNumber);return new y({state:e.target,context:n},t)}getConflictingAlts(t){const e=ne.getConflictingAltSubsets(t);return ne.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==J.INVALID_ALT_NUMBER?(e=new X,e.set(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===g.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let t=0;t<e.length;t++){const i=e[t];let n="no edges";if(i.state.transitions.length>0){const t=i.state.transitions[0];t instanceof lt?n="Atom "+this.getTokenName(t.label):t instanceof O&&(n=(t instanceof D?"~":"")+"Set "+t.set)}console.error(i.toString(this.parser,!0)+":"+n)}}noViableAlt(t,e,i,n){return new oe(this.parser,t,t.get(n),t.LT(1),i,e)}getUniqueAlt(t){let e=J.INVALID_ALT_NUMBER;for(let i=0;i<t.items.length;i++){const n=t.items[i];if(e===J.INVALID_ALT_NUMBER)e=n.alt;else if(n.alt!==e)return J.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,i,n){if(this.debug&&console.log("EDGE "+e+" -> "+n+" upon "+this.getTokenName(i)),null===n)return null;if(n=this.addDFAState(t,n),null===e||i<-1||i>this.atn.maxTokenType)return n;if(null===e.edges&&(e.edges=[]),e.edges[i+1]=n,this.debug){const e=null===this.parser?null:this.parser.literalNames,i=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(e,i))}return n}addDFAState(t,e){if(e===Yt.ERROR)return e;const i=t.states.get(e);return null!==i?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),i):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,i,n,o){if(this.debug||this.retry_debug){const e=new w(n,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+i+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportAttemptingFullContext(this.parser,t,n,o,e,i)}reportContextSensitivity(t,e,i,n,o){if(this.debug||this.retry_debug){const e=new w(n,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+i+", input="+this.parser.getTokenStream().getText(e))}null!==this.parser&&this.parser.getErrorListener().reportContextSensitivity(this.parser,t,n,o,e,i)}reportAmbiguity(t,e,i,n,o,s,r){if(this.debug||this.retry_debug){const t=new w(i,n+1);console.log("reportAmbiguity "+s+":"+r+", input="+this.parser.getTokenStream().getText(t))}null!==this.parser&&this.parser.getErrorListener().reportAmbiguity(this.parser,t,i,n,o,s,r)}}class ge{constructor(){this.cache=new Y}add(t){if(t===W.EMPTY)return W.EMPTY;const e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const Ae={ATN:J,ATNDeserializer:Nt,LexerATNSimulator:$t,ParserATNSimulator:re,PredictionMode:ne,PredictionContextCache:ge};class ae{constructor(t,e,i){this.dfa=t,this.literalNames=e||[],this.symbolicNames=i||[]}toString(){if(null===this.dfa.s0)return null;let t="";const e=this.dfa.sortedStates();for(let i=0;i<e.length;i++){const n=e[i];if(null!==n.edges){const e=n.edges.length;for(let i=0;i<e;i++){const e=n.edges[i]||null;null!==e&&2147483647!==e.stateNumber&&(t=t.concat(this.getStateString(n)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(i)),t=t.concat("->"),t=t.concat(this.getStateString(e)),t=t.concat("\n"))}}}return 0===t.length?null:t}getEdgeLabel(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+d(t.predicates):e+"=>"+t.prediction.toString():e}}class Ce extends ae{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class Ie{constructor(t,e){if(void 0===e&&(e=0),this.atnStartState=t,this.decision=e,this._states=new u,this.s0=null,this.precedenceDfa=!1,t instanceof At&&t.isPrecedenceDecision){this.precedenceDfa=!0;const t=new Ht(null,new jt);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new u,t){const t=new Ht(null,new jt);t.edges=[],t.isAcceptState=!1,t.requiresFullContext=!1,this.s0=t}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort(function(t,e){return t.stateNumber-e.stateNumber})}toString(t,e){return t=t||null,e=e||null,null===this.s0?"":new ae(this,t,e).toString()}toLexerString(){return null===this.s0?"":new Ce(this).toString()}get states(){return this._states}}const le={DFA:Ie,DFASerializer:ae,LexerDFASerializer:Ce,PredPrediction:te},he={PredictionContext:W},ce={Interval:w,IntervalSet:x};class de{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class ue{visit(t){return Array.isArray(t)?t.map(function(t){return t.accept(this)},this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class pe{walk(t,e){if(e instanceof _||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof F)t.visitTerminal(e);else{this.enterRule(t,e);for(let i=0;i<e.getChildCount();i++){const n=e.getChild(i);this.walk(t,n)}this.exitRule(t,e)}}enterRule(t,e){const i=e.ruleContext;t.enterEveryRule(i),i.enterRule(t)}exitRule(t,e){const i=e.ruleContext;i.exitRule(t),t.exitEveryRule(i)}}pe.DEFAULT=new pe;const fe={Trees:V,RuleNode:B,ErrorNode:_,TerminalNode:F,ParseTreeListener:de,ParseTreeVisitor:ue,ParseTreeWalker:pe};class me extends zt{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class ve extends zt{constructor(t,e,i){super({message:be(e,i||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const n=t._interp.atn.states[t.state].transitions[0];n instanceof pt?(this.ruleIndex=n.ruleIndex,this.predicateIndex=n.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function be(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}class ye extends Mt{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,i,n,o,s,r){if(this.exactOnly&&!o)return;const g="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(s,r)+", input='"+t.getTokenStream().getText(new w(i,n))+"'";t.notifyErrorListeners(g)}reportAttemptingFullContext(t,e,i,n,o,s){const r="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new w(i,n))+"'";t.notifyErrorListeners(r)}reportContextSensitivity(t,e,i,n,o,s){const r="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new w(i,n))+"'";t.notifyErrorListeners(r)}getDecisionDescription(t,e){const i=e.decision,n=e.atnStartState.ruleIndex,o=t.ruleNames;if(n<0||n>=o.length)return""+i;const s=o[n]||null;return null===s||0===s.length?""+i:`${i} (${s})`}getConflictingAlts(t,e){if(null!==t)return t;const i=new X;for(let t=0;t<e.items.length;t++)i.set(e.items[t].alt);return`{${i.values().join(", ")}}`}}class we extends Error{constructor(){super(),Error.captureStackTrace(this,we)}}class xe{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class Ee extends xe{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof oe?this.reportNoViableAlternative(t,e):e instanceof me?this.reportInputMismatch(t,e):e instanceof ve?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const i=this.getErrorRecoverySet(t);this.consumeUntil(t,i)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],i=t.getTokenStream().LA(1),n=t.atn.nextTokens(e);if(n.contains(i))return this.nextTokensContext=null,void(this.nextTokenState=E.INVALID_STATE_NUMBER);if(n.contains(g.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case E.BLOCK_START:case E.STAR_BLOCK_START:case E.PLUS_BLOCK_START:case E.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new me(t);case E.PLUS_LOOP_BACK:case E.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const e=new x;e.addSet(t.getExpectedTokens());const i=e.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,i)}}}reportNoViableAlternative(t,e){const i=t.getTokenStream();let n;n=null!==i?e.startToken.type===g.EOF?"<EOF>":i.getText(new w(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const o="no viable alternative at input "+this.escapeWSAndQuote(n);t.notifyErrorListeners(o,e.offendingToken,e)}reportInputMismatch(t,e){const i="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(i,e.offendingToken,e)}reportFailedPredicate(t,e){const i="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(i,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),i="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(i,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),i="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(i,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new me(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),i=t._interp.atn,n=i.states[t.state].transitions[0].target;return!!i.nextTokens(n,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const e=t.getCurrentToken();return this.reportMatch(t),e}return null}getMissingSymbol(t){const e=t.getCurrentToken(),i=this.getExpectedTokens(t).first();let n;n=i===g.EOF?"<missing EOF>":"<missing "+t.literalNames[i]+">";let o=e;const s=t.getTokenStream().LT(-1);return o.type===g.EOF&&null!==s&&(o=s),t.getTokenFactory().create(o.source,i,n,g.DEFAULT_CHANNEL,-1,-1,o.line,o.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(null===t)return"<no token>";let e=t.text;return null===e&&(e=t.type===g.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let i=t._ctx;const n=new x;for(;null!==i&&i.invokingState>=0;){const t=e.states[i.invokingState].transitions[0],o=e.nextTokens(t.followState);n.addSet(o),i=i.parentCtx}return n.removeOne(g.EPSILON),n}consumeUntil(t,e){let i=t.getTokenStream().LA(1);for(;i!==g.EOF&&!e.contains(i);)t.consume(),i=t.getTokenStream().LA(1)}}class ke extends Ee{constructor(){super()}recover(t,e){let i=t._ctx;for(;null!==i;)i.exception=e,i=i.parentCtx;throw new we(e)}recoverInline(t){this.recover(t,new me(t))}sync(t){}}const Te={RecognitionException:zt,NoViableAltException:oe,LexerNoViableAltException:Vt,InputMismatchException:me,FailedPredicateException:ve,DiagnosticErrorListener:ye,BailErrorStrategy:ke,DefaultErrorStrategy:Ee,ErrorListener:Mt};class Se{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let t=0;t<this.strdata.length;){const e=this.strdata.codePointAt(t);this.data.push(e),t+=e<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let t=0;t<this.strdata.length;t++)this.data[t]=this.strdata.charCodeAt(t)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(0===t)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?g.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let i="";for(let n=t;n<=e;n++)i+=String.fromCodePoint(this.data[n]);return i}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Oe extends Se{constructor(t,e){super(t,e)}}var De=s(763);const Ne="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;class Me extends Oe{static fromPath(t,e,i){if(!Ne)throw new Error("FileStream is only available when running in Node!");De.readFile(t,e,function(t,e){let n=null;null!==e&&(n=new Se(e,!0)),i(t,n)})}constructor(t,e,i){if(!Ne)throw new Error("FileStream is only available when running in Node!");super(De.readFileSync(t,e||"utf-8"),i),this.fileName=t}}const Re={fromString:function(t){return new Se(t,!0)},fromBlob:function(t,e,i,n){const o=new window.FileReader;o.onload=function(t){const e=new Se(t.target.result,!0);i(e)},o.onerror=n,o.readAsText(t,e)},fromBuffer:function(t,e){return new Se(t.toString(e),!0)},fromPath:function(t,e,i){Me.fromPath(t,e,i)},fromPathSync:function(t,e){return new Me(t,e)}},Pe={arrayToString:d,stringToCharArray:function(t){let e=new Uint16Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}};class Le{}class Be extends Le{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===g.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const t=this.tokenSource.nextToken();if(t.tokenIndex=this.tokens.length,this.tokens.push(t),t.type===g.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,i){if(void 0===i&&(i=null),t<0||e<0)return null;this.lazyInit();const n=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let o=t;o<e;o++){const t=this.tokens[o];if(t.type===g.EOF)break;(null===i||i.contains(t.type))&&n.push(t)}return n}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){-1===this.index&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let i=this.tokens[t];for(;i.channel!==e;){if(i.type===g.EOF)return-1;t+=1,this.sync(t),i=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const i=this.nextTokenOnChannel(t+1,Zt.DEFAULT_TOKEN_CHANNEL),n=t+1,o=-1===i?this.tokens.length-1:i;return this.filterForChannel(n,o,e)}getHiddenTokensToLeft(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const i=this.previousTokenOnChannel(t-1,Zt.DEFAULT_TOKEN_CHANNEL);if(i===t-1)return null;const n=i+1,o=t-1;return this.filterForChannel(n,o,e)}filterForChannel(t,e,i){const n=[];for(let o=t;o<e+1;o++){const t=this.tokens[o];-1===i?t.channel!==Zt.DEFAULT_TOKEN_CHANNEL&&n.push(t):t.channel===i&&n.push(t)}return 0===n.length?null:n}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t||(t=new w(0,this.tokens.length-1));let e=t.start;e instanceof g&&(e=e.tokenIndex);let i=t.stop;if(i instanceof g&&(i=i.tokenIndex),null===e||null===i||e<0||i<0)return"";i>=this.tokens.length&&(i=this.tokens.length-1);let n="";for(let t=e;t<i+1;t++){const e=this.tokens[t];if(e.type===g.EOF)break;n+=e.text}return n}fill(){for(this.lazyInit();1e3===this.fetch(1e3););}}Object.defineProperty(Be,"size",{get:function(){return this.tokens.length}});class Fe extends Be{constructor(t,e){super(t),this.channel=void 0===e?g.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(0===t||this.index-t<0)return null;let e=this.index,i=1;for(;i<=t;)e=this.previousTokenOnChannel(e-1,this.channel),i+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);let e=this.index,i=1;for(;i<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),i+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const i=this.tokens[e];if(i.channel===this.channel&&(t+=1),i.type===g.EOF)break}return t}}class _e extends de{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class ze extends Lt{constructor(t){super(),this._input=null,this._errHandler=new Ee,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(null!==this._parseListeners){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.forEach(function(e){e.enterEveryRule(t),t.enterRule(e)})}}triggerExitRuleEvent(){if(null!==this._parseListeners){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach(function(e){t.exitRule(e),e.exitEveryRule(t)})}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(null===e){const i=new vt;i.generateRuleBypassTransitions=!0,e=new Nt(i).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,i){i=i||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const n=e.line,o=e.column;this.getErrorListener().syntaxError(this,e,n,o,t,i)}consume(){const t=this.getCurrentToken();t.type!==g.EOF&&this.getInputStream().consume();const e=null!==this._parseListeners&&this._parseListeners.length>0;if(this.buildParseTrees||e){let i;i=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),i.invokingState=this.state,e&&this._parseListeners.forEach(function(t){i instanceof _||void 0!==i.isErrorNode&&i.isErrorNode()?t.visitErrorNode(i):i instanceof F&&t.visitTerminal(i)})}return t}addContextToParseTree(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,i){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,i,n){this.state=e,this._precedenceStack.push(n),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,i){const n=this._ctx;n.parentCtx=t,n.invokingState=e,n.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=n.start,this.buildParseTrees&&this._ctx.addChild(n),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,i=this.getParseListeners();if(null!==i&&i.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let i=this._ctx;const n=e.states[this.state];let o=e.nextTokens(n);if(o.contains(t))return!0;if(!o.contains(g.EPSILON))return!1;for(;null!==i&&i.invokingState>=0&&o.contains(g.EPSILON);){const n=e.states[i.invokingState].transitions[0];if(o=e.nextTokens(n.followState),o.contains(t))return!0;i=i.parentCtx}return!(!o.contains(g.EPSILON)||t!==g.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return null!==e?e:-1}getRuleInvocationStack(t){null===(t=t||null)&&(t=this._ctx);const e=[];for(;null!==t;){const i=t.ruleIndex;i<0?e.push("n/a"):e.push(this.ruleNames[i]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const i=this._interp.decisionToDFA[e];i.states.length>0&&(t&&console.log(),this.printer.println("Decision "+i.decision+":"),this.printer.print(i.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.getSourceName()}setTrace(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new _e(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}ze.bypassAltsAtnCache={};class Ve extends F{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(null===this.symbol)return w.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new w(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===g.EOF?"<EOF>":this.symbol.text}}class Ze extends Ve{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class We extends Z{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map(function(t){t instanceof Ze&&(this.children.push(t),t.parentCtx=this)},this))}enterRule(t){}exitRule(t){}addChild(t){return null===this.children&&(this.children=[]),this.children.push(t),t}removeLastChild(){null!==this.children&&this.children.pop()}addTokenNode(t){const e=new Ve(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Ze(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(let i=0;i<this.children.length;i++){const n=this.children[i];if(n instanceof e){if(0===t)return n;t-=1}}return null}getToken(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(let i=0;i<this.children.length;i++){const n=this.children[i];if(n instanceof F&&n.symbol.type===t){if(0===e)return n;e-=1}}return null}getTokens(t){if(null===this.children)return[];{const e=[];for(let i=0;i<this.children.length;i++){const n=this.children[i];n instanceof F&&n.symbol.type===t&&e.push(n)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(null===this.children)return[];{const e=[];for(let i=0;i<this.children.length;i++){const n=this.children[i];n instanceof t&&e.push(n)}return e}}getChildCount(){return null===this.children?0:this.children.length}getSourceInterval(){return null===this.start||null===this.stop?w.INVALID_INTERVAL:new w(this.start.tokenIndex,this.stop.tokenIndex)}}Z.EMPTY=new We;class Ge{static DEFAULT_PROGRAM_NAME="default";constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge.DEFAULT_PROGRAM_NAME;i="number"==typeof t?t:t.tokenIndex;let o=this.getProgram(n),s=new Ye(this.tokens,i,o.length,e);o.push(s)}insertBefore(t,e){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge.DEFAULT_PROGRAM_NAME;i="number"==typeof t?t:t.tokenIndex;const o=this.getProgram(n),s=new He(this.tokens,i,o.length,e);o.push(s)}replaceSingle(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,i)}replace(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ge.DEFAULT_PROGRAM_NAME;if("number"!=typeof t&&(t=t.tokenIndex),"number"!=typeof e&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let o=this.getProgram(n),s=new Ue(this.tokens,t,e,o.length,i);o.push(s)}delete(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge.DEFAULT_PROGRAM_NAME;void 0===e&&(e=t),this.replace(t,e,null,i)}getProgram(t){let e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge.DEFAULT_PROGRAM_NAME;e=t instanceof w?t:new w(0,this.tokens.size-1),"string"==typeof t&&(i=t);const n=this.programs.get(i);let o=e.start,s=e.stop;if(s>this.tokens.size-1&&(s=this.tokens.size-1),o<0&&(o=0),null==n||0===n.length)return this.tokens.getText(new w(o,s));let r=[],A=this.reduceToSingleOperationPerIndex(n),a=o;for(;a<=s&&a<this.tokens.size;){let t=A.get(a);A.delete(a);let e=this.tokens.get(a);null==t?(e.type!==g.EOF&&r.push(String(e.text)),a++):a=t.execute(r)}if(s===this.tokens.size-1)for(const t of A.values())t.index>=this.tokens.size-1&&r.push(t.text.toString());return r.join("")}reduceToSingleOperationPerIndex(t){for(let e=0;e<t.length;e++){let i=t[e];if(null==i)continue;if(!(i instanceof Ue))continue;let n=i,o=this.getKindOfOps(t,He,e);for(let e of o)e.index===n.index?(t[e.instructionIndex]=void 0,n.text=e.text.toString()+(null!=n.text?n.text.toString():"")):e.index>n.index&&e.index<=n.lastIndex&&(t[e.instructionIndex]=void 0);let s=this.getKindOfOps(t,Ue,e);for(let e of s){if(e.index>=n.index&&e.lastIndex<=n.lastIndex){t[e.instructionIndex]=void 0;continue}let i=e.lastIndex<n.index||e.index>n.lastIndex;if(null!=e.text||null!=n.text||i){if(!i)throw new Error(`replace op boundaries of ${n} overlap with previous ${e}`)}else t[e.instructionIndex]=void 0,n.index=Math.min(e.index,n.index),n.lastIndex=Math.max(e.lastIndex,n.lastIndex)}}for(let e=0;e<t.length;e++){let i=t[e];if(null==i)continue;if(!(i instanceof He))continue;let n=i,o=this.getKindOfOps(t,He,e);for(let e of o)e.index===n.index&&(e instanceof Ye?(n.text=this.catOpText(e.text,n.text),t[e.instructionIndex]=void 0):e instanceof He&&(n.text=this.catOpText(n.text,e.text),t[e.instructionIndex]=void 0));let s=this.getKindOfOps(t,Ue,e);for(let i of s)if(n.index!==i.index){if(n.index>=i.index&&n.index<=i.lastIndex)throw new Error(`insert op ${n} within boundaries of previous ${i}`)}else i.text=this.catOpText(n.text,i.text),t[e]=void 0}let e=new Map;for(let i of t)if(null!=i){if(null!=e.get(i.index))throw new Error("should only be one op per index");e.set(i.index,i)}return e}catOpText(t,e){let i="",n="";return null!=t&&(i=t.toString()),null!=e&&(n=e.toString()),i+n}getKindOfOps(t,e,i){return t.slice(0,i).filter(t=>t&&t instanceof e)}}class je{constructor(t,e,i,n){this.tokens=t,this.instructionIndex=i,this.index=e,this.text=void 0===n?"":n}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class He extends je{constructor(t,e,i,n){super(t,e,i,n)}execute(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==g.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}class Ye extends He{constructor(t,e,i,n){super(t,e+1,i,n)}}class Ue extends je{constructor(t,e,i,n,o){super(t,e,n,o),this.lastIndex=i}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const Ke={atn:Ae,dfa:le,context:he,misc:ce,tree:fe,error:Te,Token:g,CommonToken:Bt,CharStreams:Re,CharStream:Se,InputStream:Oe,CommonTokenStream:Fe,Lexer:Zt,Parser:ze,ParserRuleContext:We,Interval:w,IntervalSet:x,LL1Analyzer:q,Utils:Pe,TokenStreamRewriter:Ge};var Qe=r.MG,Xe=r.fr,qe=r.Zo,Je=r.jB,$e=r.M8,ti=r.$t,ei=r.eP,ii=r.JG,ni=r.ay,oi=r.X2,si=r.Uw,ri=r.iX,gi=r.re,Ai=r.Pg,ai=r.tD,Ci=r.Dj,Ii=r.ou},172:(t,e,i)=>{"use strict";t.exports=i.p+"manifest/icon_436x436-954c03d8.png"},415:(t,e,i)=>{"use strict";i.d(e,{U:()=>I,r:()=>C});var n=i(83),o=i(623),s=i(811);const r=document.getElementById("upload-dialog"),g=document.getElementById("file-input"),A=document.getElementById("file-name"),a=document.getElementById("init-state"),C=()=>{g.value="",r.showModal()},I=()=>{const t=a.value;if(""===t)return void alert("Please select an initial state before downloading.");const e=`INIT ${t}\n\n`+o.RB(),i=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(i),s=document.createElement("a");s.href=n,s.download=`${A.value||"program"}.ture`,s.target="_blank",s.rel="noopener",document.body.appendChild(s),s.click(),s.remove(),o.P1()};g.addEventListener("change",()=>{if(!g.files)return void r.close();const t=g.files[0];if(!t)return void r.close();const e=new FileReader;e.onload=e=>{if(e.target&&e.target.result){let i=e.target.result,r=null;const g=/^INIT\s+(\w+)\s*\n/,C=i.match(g);C&&(r=C[1],console.log(`Read init declaration: ${r}`),i=i.replace(g,"")),o.Up.dispatch({changes:{from:0,to:o.Up.state.doc.length,insert:i}}),s.qg(i),n.DT(),r&&(a.querySelector(`option[value="${r}"]`)?a.value=r:(n.WQ(`Initial state declared in uploaded file "${r}" is not defined in the program.`,"no-init"),a.value="")),A.value=t.name.replace(/\.[^/.]+$/,"")}r.close()},e.readAsText(t,"UTF-8")}),document.getElementById("upload-button").addEventListener("click",C),document.getElementById("upload-cancel").addEventListener("click",()=>{r.close()}),document.getElementById("download-button").addEventListener("click",I)},435:(t,e,i)=>{"use strict";i.a(t,async(t,e)=>{try{var n=i(623),o=i(415),s=i(576),r=i(811),g=i(772),A=i(28),a=t([g]);g=(a.then?(await a)():a)[0];const C=()=>{if(!window.matchMedia("(hover: none) and (pointer: coarse)").matches)return;const t=document.createElement("style");t.innerHTML="\n        kbd.auto-hide, .kbd-plus.auto-hide {\n            display: inline-block !important;\n        }\n    ",document.head.appendChild(t)},I=document.getElementById("copy-empty"),l=I.innerHTML;document.addEventListener("keydown",t=>{const e=navigator.platform.startsWith("Mac")?t.metaKey:t.ctrlKey;if(e&&!t.altKey){if("s"===t.key||"S"===t.key)return t.preventDefault(),C(),void o.U();if("o"===t.key||"O"===t.key)return t.preventDefault(),C(),void o.r()}if(!e&&t.altKey&&("e"===t.key||"E"===t.key))return t.preventDefault(),C(),void navigator.clipboard.writeText(A.wg).then(()=>{I.innerText="Copied!",setTimeout(()=>{I.innerHTML=l},2e3)});if(e&&t.altKey){if("s"===t.key||"S"===t.key)return t.preventDefault(),C(),void s.E8();if(("o"===t.key||"O"===t.key||"ó"===t.key)&&g.r())return t.preventDefault(),C(),void s.q$()}if("F8"===t.key){if(t.preventDefault(),C(),r.K0())return void r.NU();const e=n.RB();return void r.eF(e)}if("F9"===t.key)return t.preventDefault(),C(),void r.VC();"Escape"===t.key&&r.K0()&&(t.preventDefault(),C(),r.l3())}),e()}catch(t){e(t)}})},501:()=>{"use strict";function t(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function e(e){return e instanceof t(e).Element||e instanceof Element}function i(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function n(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var o=Math.max,s=Math.min,r=Math.round;function g(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function A(){return!/^((?!chrome|android).)*safari/i.test(g())}function a(n,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var g=n.getBoundingClientRect(),a=1,C=1;o&&i(n)&&(a=n.offsetWidth>0&&r(g.width)/n.offsetWidth||1,C=n.offsetHeight>0&&r(g.height)/n.offsetHeight||1);var I=(e(n)?t(n):window).visualViewport,l=!A()&&s,h=(g.left+(l&&I?I.offsetLeft:0))/a,c=(g.top+(l&&I?I.offsetTop:0))/C,d=g.width/a,u=g.height/C;return{width:d,height:u,top:c,right:h+d,bottom:c+u,left:h,x:h,y:c}}function C(e){var i=t(e);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function I(t){return t?(t.nodeName||"").toLowerCase():null}function l(t){return((e(t)?t.ownerDocument:t.document)||window.document).documentElement}function h(t){return a(l(t)).left+C(t).scrollLeft}function c(e){return t(e).getComputedStyle(e)}function d(t){var e=c(t),i=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function u(e,n,o){void 0===o&&(o=!1);var s,g,A=i(n),c=i(n)&&function(t){var e=t.getBoundingClientRect(),i=r(e.width)/t.offsetWidth||1,n=r(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(n),u=l(n),p=a(e,c,o),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(A||!A&&!o)&&(("body"!==I(n)||d(u))&&(f=(s=n)!==t(s)&&i(s)?{scrollLeft:(g=s).scrollLeft,scrollTop:g.scrollTop}:C(s)),i(n)?((m=a(n,!0)).x+=n.clientLeft,m.y+=n.clientTop):u&&(m.x=h(u))),{x:p.left+f.scrollLeft-m.x,y:p.top+f.scrollTop-m.y,width:p.width,height:p.height}}function p(t){var e=a(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function f(t){return"html"===I(t)?t:t.assignedSlot||t.parentNode||(n(t)?t.host:null)||l(t)}function m(t){return["html","body","#document"].indexOf(I(t))>=0?t.ownerDocument.body:i(t)&&d(t)?t:m(f(t))}function v(e,i){var n;void 0===i&&(i=[]);var o=m(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),r=t(o),g=s?[r].concat(r.visualViewport||[],d(o)?o:[]):o,A=i.concat(g);return s?A:A.concat(v(f(g)))}function b(t){return["table","td","th"].indexOf(I(t))>=0}function y(t){return i(t)&&"fixed"!==c(t).position?t.offsetParent:null}function w(e){for(var o=t(e),s=y(e);s&&b(s)&&"static"===c(s).position;)s=y(s);return s&&("html"===I(s)||"body"===I(s)&&"static"===c(s).position)?o:s||function(t){var e=/firefox/i.test(g());if(/Trident/i.test(g())&&i(t)&&"fixed"===c(t).position)return null;var o=f(t);for(n(o)&&(o=o.host);i(o)&&["html","body"].indexOf(I(o))<0;){var s=c(o);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return o;o=o.parentNode}return null}(e)||o}var x="top",E="bottom",k="right",T="left",S="auto",O=[x,E,k,T],D="start",N="end",M="viewport",R="popper",P=O.reduce(function(t,e){return t.concat([e+"-"+D,e+"-"+N])},[]),L=[].concat(O,[S]).reduce(function(t,e){return t.concat([e,e+"-"+D,e+"-"+N])},[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(t){var e=new Map,i=new Set,n=[];function o(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!i.has(t)){var n=e.get(t);n&&o(n)}}),n.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){i.has(t.name)||o(t)}),n}var _={placement:"bottom",modifiers:[],strategy:"absolute"};function z(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function V(t){void 0===t&&(t={});var i=t,n=i.defaultModifiers,o=void 0===n?[]:n,s=i.defaultOptions,r=void 0===s?_:s;return function(t,i,n){void 0===n&&(n=r);var s,g,A={placement:"bottom",orderedModifiers:[],options:Object.assign({},_,r),modifiersData:{},elements:{reference:t,popper:i},attributes:{},styles:{}},a=[],C=!1,I={state:A,setOptions:function(n){var s="function"==typeof n?n(A.options):n;l(),A.options=Object.assign({},r,A.options,s),A.scrollParents={reference:e(t)?v(t):t.contextElement?v(t.contextElement):[],popper:v(i)};var g,C,h=function(t){var e=F(t);return B.reduce(function(t,i){return t.concat(e.filter(function(t){return t.phase===i}))},[])}((g=[].concat(o,A.options.modifiers),C=g.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),Object.keys(C).map(function(t){return C[t]})));return A.orderedModifiers=h.filter(function(t){return t.enabled}),A.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,o=t.effect;if("function"==typeof o){var s=o({state:A,name:e,instance:I,options:n});a.push(s||function(){})}}),I.update()},forceUpdate:function(){if(!C){var t=A.elements,e=t.reference,i=t.popper;if(z(e,i)){A.rects={reference:u(e,w(i),"fixed"===A.options.strategy),popper:p(i)},A.reset=!1,A.placement=A.options.placement,A.orderedModifiers.forEach(function(t){return A.modifiersData[t.name]=Object.assign({},t.data)});for(var n=0;n<A.orderedModifiers.length;n++)if(!0!==A.reset){var o=A.orderedModifiers[n],s=o.fn,r=o.options,g=void 0===r?{}:r,a=o.name;"function"==typeof s&&(A=s({state:A,options:g,name:a,instance:I})||A)}else A.reset=!1,n=-1}}},update:(s=function(){return new Promise(function(t){I.forceUpdate(),t(A)})},function(){return g||(g=new Promise(function(t){Promise.resolve().then(function(){g=void 0,t(s())})})),g}),destroy:function(){l(),C=!0}};if(!z(t,i))return I;function l(){a.forEach(function(t){return t()}),a=[]}return I.setOptions(n).then(function(t){!C&&n.onFirstUpdate&&n.onFirstUpdate(t)}),I}}var Z={passive:!0};function W(t){return t.split("-")[0]}function G(t){return t.split("-")[1]}function j(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function H(t){var e,i=t.reference,n=t.element,o=t.placement,s=o?W(o):null,r=o?G(o):null,g=i.x+i.width/2-n.width/2,A=i.y+i.height/2-n.height/2;switch(s){case x:e={x:g,y:i.y-n.height};break;case E:e={x:g,y:i.y+i.height};break;case k:e={x:i.x+i.width,y:A};break;case T:e={x:i.x-n.width,y:A};break;default:e={x:i.x,y:i.y}}var a=s?j(s):null;if(null!=a){var C="y"===a?"height":"width";switch(r){case D:e[a]=e[a]-(i[C]/2-n[C]/2);break;case N:e[a]=e[a]+(i[C]/2-n[C]/2)}}return e}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U(e){var i,n=e.popper,o=e.popperRect,s=e.placement,g=e.variation,A=e.offsets,a=e.position,C=e.gpuAcceleration,I=e.adaptive,h=e.roundOffsets,d=e.isFixed,u=A.x,p=void 0===u?0:u,f=A.y,m=void 0===f?0:f,v="function"==typeof h?h({x:p,y:m}):{x:p,y:m};p=v.x,m=v.y;var b=A.hasOwnProperty("x"),y=A.hasOwnProperty("y"),S=T,O=x,D=window;if(I){var M=w(n),R="clientHeight",P="clientWidth";M===t(n)&&"static"!==c(M=l(n)).position&&"absolute"===a&&(R="scrollHeight",P="scrollWidth"),(s===x||(s===T||s===k)&&g===N)&&(O=E,m-=(d&&M===D&&D.visualViewport?D.visualViewport.height:M[R])-o.height,m*=C?1:-1),s!==T&&(s!==x&&s!==E||g!==N)||(S=k,p-=(d&&M===D&&D.visualViewport?D.visualViewport.width:M[P])-o.width,p*=C?1:-1)}var L,B=Object.assign({position:a},I&&Y),F=!0===h?function(t,e){var i=t.x,n=t.y,o=e.devicePixelRatio||1;return{x:r(i*o)/o||0,y:r(n*o)/o||0}}({x:p,y:m},t(n)):{x:p,y:m};return p=F.x,m=F.y,C?Object.assign({},B,((L={})[O]=y?"0":"",L[S]=b?"0":"",L.transform=(D.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",L)):Object.assign({},B,((i={})[O]=y?m+"px":"",i[S]=b?p+"px":"",i.transform="",i))}const K={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},s=e.elements[t];i(s)&&I(s)&&(Object.assign(s.style,n),Object.keys(o).forEach(function(t){var e=o[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var o=e.elements[t],s=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});i(o)&&I(o)&&(Object.assign(o.style,r),Object.keys(s).forEach(function(t){o.removeAttribute(t)}))})}},requires:["computeStyles"]};var Q={left:"right",right:"left",bottom:"top",top:"bottom"};function X(t){return t.replace(/left|right|bottom|top/g,function(t){return Q[t]})}var q={start:"end",end:"start"};function J(t){return t.replace(/start|end/g,function(t){return q[t]})}function $(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&n(i)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function tt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function et(i,n,s){return n===M?tt(function(e,i){var n=t(e),o=l(e),s=n.visualViewport,r=o.clientWidth,g=o.clientHeight,a=0,C=0;if(s){r=s.width,g=s.height;var I=A();(I||!I&&"fixed"===i)&&(a=s.offsetLeft,C=s.offsetTop)}return{width:r,height:g,x:a+h(e),y:C}}(i,s)):e(n)?function(t,e){var i=a(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(n,s):tt(function(t){var e,i=l(t),n=C(t),s=null==(e=t.ownerDocument)?void 0:e.body,r=o(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),g=o(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),A=-n.scrollLeft+h(t),a=-n.scrollTop;return"rtl"===c(s||i).direction&&(A+=o(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:g,x:A,y:a}}(l(i)))}function it(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function nt(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}function ot(t,n){void 0===n&&(n={});var r=n,g=r.placement,A=void 0===g?t.placement:g,C=r.strategy,h=void 0===C?t.strategy:C,d=r.boundary,u=void 0===d?"clippingParents":d,p=r.rootBoundary,m=void 0===p?M:p,b=r.elementContext,y=void 0===b?R:b,T=r.altBoundary,S=void 0!==T&&T,D=r.padding,N=void 0===D?0:D,P=it("number"!=typeof N?N:nt(N,O)),L=y===R?"reference":R,B=t.rects.popper,F=t.elements[S?L:y],_=function(t,n,r,g){var A="clippingParents"===n?function(t){var n=v(f(t)),o=["absolute","fixed"].indexOf(c(t).position)>=0&&i(t)?w(t):t;return e(o)?n.filter(function(t){return e(t)&&$(t,o)&&"body"!==I(t)}):[]}(t):[].concat(n),a=[].concat(A,[r]),C=a[0],l=a.reduce(function(e,i){var n=et(t,i,g);return e.top=o(n.top,e.top),e.right=s(n.right,e.right),e.bottom=s(n.bottom,e.bottom),e.left=o(n.left,e.left),e},et(t,C,g));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(e(F)?F:F.contextElement||l(t.elements.popper),u,m,h),z=a(t.elements.reference),V=H({reference:z,element:B,strategy:"absolute",placement:A}),Z=tt(Object.assign({},B,V)),W=y===R?Z:z,G={top:_.top-W.top+P.top,bottom:W.bottom-_.bottom+P.bottom,left:_.left-W.left+P.left,right:W.right-_.right+P.right},j=t.modifiersData.offset;if(y===R&&j){var Y=j[A];Object.keys(G).forEach(function(t){var e=[k,E].indexOf(t)>=0?1:-1,i=[x,E].indexOf(t)>=0?"y":"x";G[t]+=Y[i]*e})}return G}function st(t,e,i){return o(t,s(e,i))}function rt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function gt(t){return[x,k,E,T].some(function(e){return t[e]>=0})}var At=V({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var i=e.state,n=e.instance,o=e.options,s=o.scroll,r=void 0===s||s,g=o.resize,A=void 0===g||g,a=t(i.elements.popper),C=[].concat(i.scrollParents.reference,i.scrollParents.popper);return r&&C.forEach(function(t){t.addEventListener("scroll",n.update,Z)}),A&&a.addEventListener("resize",n.update,Z),function(){r&&C.forEach(function(t){t.removeEventListener("scroll",n.update,Z)}),A&&a.removeEventListener("resize",n.update,Z)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=H({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,o=void 0===n||n,s=i.adaptive,r=void 0===s||s,g=i.roundOffsets,A=void 0===g||g,a={placement:W(e.placement),variation:G(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,U(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:A})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,U(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},K,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,o=i.offset,s=void 0===o?[0,0]:o,r=L.reduce(function(t,i){return t[i]=function(t,e,i){var n=W(t),o=[T,x].indexOf(n)>=0?-1:1,s="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=s[0],g=s[1];return r=r||0,g=(g||0)*o,[T,k].indexOf(n)>=0?{x:g,y:r}:{x:r,y:g}}(i,e.rects,s),t},{}),g=r[e.placement],A=g.x,a=g.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=A,e.modifiersData.popperOffsets.y+=a),e.modifiersData[n]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=i.mainAxis,s=void 0===o||o,r=i.altAxis,g=void 0===r||r,A=i.fallbackPlacements,a=i.padding,C=i.boundary,I=i.rootBoundary,l=i.altBoundary,h=i.flipVariations,c=void 0===h||h,d=i.allowedAutoPlacements,u=e.options.placement,p=W(u),f=A||(p!==u&&c?function(t){if(W(t)===S)return[];var e=X(t);return[J(t),e,J(e)]}(u):[X(u)]),m=[u].concat(f).reduce(function(t,i){return t.concat(W(i)===S?function(t,e){void 0===e&&(e={});var i=e,n=i.placement,o=i.boundary,s=i.rootBoundary,r=i.padding,g=i.flipVariations,A=i.allowedAutoPlacements,a=void 0===A?L:A,C=G(n),I=C?g?P:P.filter(function(t){return G(t)===C}):O,l=I.filter(function(t){return a.indexOf(t)>=0});0===l.length&&(l=I);var h=l.reduce(function(e,i){return e[i]=ot(t,{placement:i,boundary:o,rootBoundary:s,padding:r})[W(i)],e},{});return Object.keys(h).sort(function(t,e){return h[t]-h[e]})}(e,{placement:i,boundary:C,rootBoundary:I,padding:a,flipVariations:c,allowedAutoPlacements:d}):i)},[]),v=e.rects.reference,b=e.rects.popper,y=new Map,w=!0,N=m[0],M=0;M<m.length;M++){var R=m[M],B=W(R),F=G(R)===D,_=[x,E].indexOf(B)>=0,z=_?"width":"height",V=ot(e,{placement:R,boundary:C,rootBoundary:I,altBoundary:l,padding:a}),Z=_?F?k:T:F?E:x;v[z]>b[z]&&(Z=X(Z));var j=X(Z),H=[];if(s&&H.push(V[B]<=0),g&&H.push(V[Z]<=0,V[j]<=0),H.every(function(t){return t})){N=R,w=!1;break}y.set(R,H)}if(w)for(var Y=function(t){var e=m.find(function(e){var i=y.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return N=e,"break"},U=c?3:1;U>0&&"break"!==Y(U);U--);e.placement!==N&&(e.modifiersData[n]._skip=!0,e.placement=N,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,g=void 0===r||r,A=i.altAxis,a=void 0!==A&&A,C=i.boundary,I=i.rootBoundary,l=i.altBoundary,h=i.padding,c=i.tether,d=void 0===c||c,u=i.tetherOffset,f=void 0===u?0:u,m=ot(e,{boundary:C,rootBoundary:I,padding:h,altBoundary:l}),v=W(e.placement),b=G(e.placement),y=!b,S=j(v),O="x"===S?"y":"x",N=e.modifiersData.popperOffsets,M=e.rects.reference,R=e.rects.popper,P="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,L="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(N){if(g){var _,z="y"===S?x:T,V="y"===S?E:k,Z="y"===S?"height":"width",H=N[S],Y=H+m[z],U=H-m[V],K=d?-R[Z]/2:0,Q=b===D?M[Z]:R[Z],X=b===D?-R[Z]:-M[Z],q=e.elements.arrow,J=d&&q?p(q):{width:0,height:0},$=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tt=$[z],et=$[V],it=st(0,M[Z],J[Z]),nt=y?M[Z]/2-K-it-tt-L.mainAxis:Q-it-tt-L.mainAxis,rt=y?-M[Z]/2+K+it+et+L.mainAxis:X+it+et+L.mainAxis,gt=e.elements.arrow&&w(e.elements.arrow),At=gt?"y"===S?gt.clientTop||0:gt.clientLeft||0:0,at=null!=(_=null==B?void 0:B[S])?_:0,Ct=H+rt-at,It=st(d?s(Y,H+nt-at-At):Y,H,d?o(U,Ct):U);N[S]=It,F[S]=It-H}if(a){var lt,ht="x"===S?x:T,ct="x"===S?E:k,dt=N[O],ut="y"===O?"height":"width",pt=dt+m[ht],ft=dt-m[ct],mt=-1!==[x,T].indexOf(v),vt=null!=(lt=null==B?void 0:B[O])?lt:0,bt=mt?pt:dt-M[ut]-R[ut]-vt+L.altAxis,yt=mt?dt+M[ut]+R[ut]-vt-L.altAxis:ft,wt=d&&mt?function(t,e,i){var n=st(t,e,i);return n>i?i:n}(bt,dt,yt):st(d?bt:pt,dt,d?yt:ft);N[O]=wt,F[O]=wt-dt}e.modifiersData[n]=F}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,o=t.options,s=i.elements.arrow,r=i.modifiersData.popperOffsets,g=W(i.placement),A=j(g),a=[T,k].indexOf(g)>=0?"height":"width";if(s&&r){var C=function(t,e){return it("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:nt(t,O))}(o.padding,i),I=p(s),l="y"===A?x:T,h="y"===A?E:k,c=i.rects.reference[a]+i.rects.reference[A]-r[A]-i.rects.popper[a],d=r[A]-i.rects.reference[A],u=w(s),f=u?"y"===A?u.clientHeight||0:u.clientWidth||0:0,m=c/2-d/2,v=C[l],b=f-I[a]-C[h],y=f/2-I[a]/2+m,S=st(v,y,b),D=A;i.modifiersData[n]=((e={})[D]=S,e.centerOffset=S-y,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&$(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,r=ot(e,{elementContext:"reference"}),g=ot(e,{altBoundary:!0}),A=rt(r,n),a=rt(g,o,s),C=gt(A),I=gt(a);e.modifiersData[i]={referenceClippingOffsets:A,popperEscapeOffsets:a,isReferenceHidden:C,hasPopperEscaped:I},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":I})}}]}),at="tippy-content",Ct="tippy-arrow",It="tippy-svg-arrow",lt={passive:!0,capture:!0},ht=function(){return document.body};function ct(t,e,i){if(Array.isArray(t)){var n=t[e];return null==n?Array.isArray(i)?i[e]:i:n}return t}function dt(t,e){var i={}.toString.call(t);return 0===i.indexOf("[object")&&i.indexOf(e+"]")>-1}function ut(t,e){return"function"==typeof t?t.apply(void 0,e):t}function pt(t,e){return 0===e?t:function(n){clearTimeout(i),i=setTimeout(function(){t(n)},e)};var i}function ft(t){return[].concat(t)}function mt(t,e){-1===t.indexOf(e)&&t.push(e)}function vt(t){return[].slice.call(t)}function bt(t){return Object.keys(t).reduce(function(e,i){return void 0!==t[i]&&(e[i]=t[i]),e},{})}function yt(){return document.createElement("div")}function wt(t){return["Element","Fragment"].some(function(e){return dt(t,e)})}function xt(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Et(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function kt(t,e,i){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[n](e,i)})}function Tt(t,e){for(var i=e;i;){var n;if(t.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var St={isTouch:!1},Ot=0;function Dt(){St.isTouch||(St.isTouch=!0,window.performance&&document.addEventListener("mousemove",Nt))}function Nt(){var t=performance.now();t-Ot<20&&(St.isTouch=!1,document.removeEventListener("mousemove",Nt)),Ot=t}function Mt(){var t,e=document.activeElement;if((t=e)&&t._tippy&&t._tippy.reference===t){var i=e._tippy;e.blur&&!i.state.isVisible&&e.blur()}}var Rt=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),Pt=Object.assign({appendTo:ht,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Lt=Object.keys(Pt);function Bt(t){var e=(t.plugins||[]).reduce(function(e,i){var n,o=i.name,s=i.defaultValue;return o&&(e[o]=void 0!==t[o]?t[o]:null!=(n=Pt[o])?n:s),e},{});return Object.assign({},t,e)}function Ft(t,e){var i=Object.assign({},e,{content:ut(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Bt(Object.assign({},Pt,{plugins:e}))):Lt).reduce(function(e,i){var n=(t.getAttribute("data-tippy-"+i)||"").trim();if(!n)return e;if("content"===i)e[i]=n;else try{e[i]=JSON.parse(n)}catch(t){e[i]=n}return e},{})}(t,e.plugins));return i.aria=Object.assign({},Pt.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?e.interactive:i.aria.expanded,content:"auto"===i.aria.content?e.interactive?null:"describedby":i.aria.content},i}function _t(t,e){t.innerHTML=e}function zt(t){var e=yt();return!0===t?e.className=Ct:(e.className=It,wt(t)?e.appendChild(t):_t(e,t)),e}function Vt(t,e){wt(e.content)?(_t(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?_t(t,e.content):t.textContent=e.content)}function Zt(t){var e=t.firstElementChild,i=vt(e.children);return{box:e,content:i.find(function(t){return t.classList.contains(at)}),arrow:i.find(function(t){return t.classList.contains(Ct)||t.classList.contains(It)}),backdrop:i.find(function(t){return t.classList.contains("tippy-backdrop")})}}function Wt(t){var e=yt(),i=yt();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=yt();function o(i,n){var o=Zt(e),s=o.box,r=o.content,g=o.arrow;n.theme?s.setAttribute("data-theme",n.theme):s.removeAttribute("data-theme"),"string"==typeof n.animation?s.setAttribute("data-animation",n.animation):s.removeAttribute("data-animation"),n.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?s.setAttribute("role",n.role):s.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||Vt(r,t.props),n.arrow?g?i.arrow!==n.arrow&&(s.removeChild(g),s.appendChild(zt(n.arrow))):s.appendChild(zt(n.arrow)):g&&s.removeChild(g)}return n.className=at,n.setAttribute("data-state","hidden"),Vt(n,t.props),e.appendChild(i),i.appendChild(n),o(t.props,t.props),{popper:e,onUpdate:o}}Wt.$$tippy=!0;var Gt=1,jt=[],Ht=[];function Yt(t,e){var i,n,o,s,r,g,A,a,C=Ft(t,Object.assign({},Pt,Bt(bt(e)))),I=!1,l=!1,h=!1,c=!1,d=[],u=pt(U,C.interactiveDebounce),p=Gt++,f=(a=C.plugins).filter(function(t,e){return a.indexOf(t)===e}),m={id:p,reference:t,popper:yt(),popperInstance:null,props:C,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:f,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(o)},setProps:function(e){if(!m.state.isDestroyed){R("onBeforeUpdate",[m,e]),H();var i=m.props,n=Ft(t,Object.assign({},i,bt(e),{ignoreAttributes:!0}));m.props=n,j(),i.interactiveDebounce!==n.interactiveDebounce&&(B(),u=pt(U,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?ft(i.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):n.triggerTarget&&t.removeAttribute("aria-expanded"),L(),M(),y&&y(i,n),m.popperInstance&&(q(),$().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})),R("onAfterUpdate",[m,e])}},setContent:function(t){m.setProps({content:t})},show:function(){var t=m.state.isVisible,e=m.state.isDestroyed,i=!m.state.isEnabled,n=St.isTouch&&!m.props.touch,o=ct(m.props.duration,0,Pt.duration);if(!(t||e||i||n||S().hasAttribute("disabled")||(R("onShow",[m],!1),!1===m.props.onShow(m)))){if(m.state.isVisible=!0,T()&&(b.style.visibility="visible"),M(),V(),m.state.isMounted||(b.style.transition="none"),T()){var s=D();xt([s.box,s.content],0)}var r,A,a;g=function(){var t;if(m.state.isVisible&&!c){if(c=!0,b.offsetHeight,b.style.transition=m.props.moveTransition,T()&&m.props.animation){var e=D(),i=e.box,n=e.content;xt([i,n],o),Et([i,n],"visible")}P(),L(),mt(Ht,m),null==(t=m.popperInstance)||t.forceUpdate(),R("onMount",[m]),m.props.animation&&T()&&function(t){W(t,function(){m.state.isShown=!0,R("onShown",[m])})}(o)}},A=m.props.appendTo,a=S(),(r=m.props.interactive&&A===ht||"parent"===A?a.parentNode:ut(A,[a])).contains(b)||r.appendChild(b),m.state.isMounted=!0,q()}},hide:function(){var t=!m.state.isVisible,e=m.state.isDestroyed,i=!m.state.isEnabled,n=ct(m.props.duration,1,Pt.duration);if(!(t||e||i)&&(R("onHide",[m],!1),!1!==m.props.onHide(m))){if(m.state.isVisible=!1,m.state.isShown=!1,c=!1,I=!1,T()&&(b.style.visibility="hidden"),B(),Z(),M(!0),T()){var o=D(),s=o.box,r=o.content;m.props.animation&&(xt([s,r],n),Et([s,r],"hidden"))}P(),L(),m.props.animation?T()&&function(t,e){W(t,function(){!m.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&e()})}(n,m.unmount):m.unmount()}},hideWithInteractivity:function(t){O().addEventListener("mousemove",u),mt(jt,u),u(t)},enable:function(){m.state.isEnabled=!0},disable:function(){m.hide(),m.state.isEnabled=!1},unmount:function(){m.state.isVisible&&m.hide(),m.state.isMounted&&(J(),$().forEach(function(t){t._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),Ht=Ht.filter(function(t){return t!==m}),m.state.isMounted=!1,R("onHidden",[m]))},destroy:function(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),H(),delete t._tippy,m.state.isDestroyed=!0,R("onDestroy",[m]))}};if(!C.render)return m;var v=C.render(m),b=v.popper,y=v.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+m.id,m.popper=b,t._tippy=m,b._tippy=m;var w=f.map(function(t){return t.fn(m)}),x=t.hasAttribute("aria-expanded");return j(),L(),M(),R("onCreate",[m]),C.showOnCreate&&tt(),b.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",u)}),m;function E(){var t=m.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===E()[0]}function T(){var t;return!(null==(t=m.props.render)||!t.$$tippy)}function S(){return A||t}function O(){var t,e,i=S().parentNode;return i?null!=(e=ft(i)[0])&&null!=(t=e.ownerDocument)&&t.body?e.ownerDocument:document:document}function D(){return Zt(b)}function N(t){return m.state.isMounted&&!m.state.isVisible||St.isTouch||s&&"focus"===s.type?0:ct(m.props.delay,t?0:1,Pt.delay)}function M(t){void 0===t&&(t=!1),b.style.pointerEvents=m.props.interactive&&!t?"":"none",b.style.zIndex=""+m.props.zIndex}function R(t,e,i){var n;void 0===i&&(i=!0),w.forEach(function(i){i[t]&&i[t].apply(i,e)}),i&&(n=m.props)[t].apply(n,e)}function P(){var e=m.props.aria;if(e.content){var i="aria-"+e.content,n=b.id;ft(m.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(i);if(m.state.isVisible)t.setAttribute(i,e?e+" "+n:n);else{var o=e&&e.replace(n,"").trim();o?t.setAttribute(i,o):t.removeAttribute(i)}})}}function L(){!x&&m.props.aria.expanded&&ft(m.props.triggerTarget||t).forEach(function(t){m.props.interactive?t.setAttribute("aria-expanded",m.state.isVisible&&t===S()?"true":"false"):t.removeAttribute("aria-expanded")})}function B(){O().removeEventListener("mousemove",u),jt=jt.filter(function(t){return t!==u})}function F(e){if(!St.isTouch||!h&&"mousedown"!==e.type){var i=e.composedPath&&e.composedPath()[0]||e.target;if(!m.props.interactive||!Tt(b,i)){if(ft(m.props.triggerTarget||t).some(function(t){return Tt(t,i)})){if(St.isTouch)return;if(m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[m,e]);!0===m.props.hideOnClick&&(m.clearDelayTimeouts(),m.hide(),l=!0,setTimeout(function(){l=!1}),m.state.isMounted||Z())}}}function _(){h=!0}function z(){h=!1}function V(){var t=O();t.addEventListener("mousedown",F,!0),t.addEventListener("touchend",F,lt),t.addEventListener("touchstart",z,lt),t.addEventListener("touchmove",_,lt)}function Z(){var t=O();t.removeEventListener("mousedown",F,!0),t.removeEventListener("touchend",F,lt),t.removeEventListener("touchstart",z,lt),t.removeEventListener("touchmove",_,lt)}function W(t,e){var i=D().box;function n(t){t.target===i&&(kt(i,"remove",n),e())}if(0===t)return e();kt(i,"remove",r),kt(i,"add",n),r=n}function G(e,i,n){void 0===n&&(n=!1),ft(m.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,i,n),d.push({node:t,eventType:e,handler:i,options:n})})}function j(){var t;k()&&(G("touchstart",Y,{passive:!0}),G("touchend",K,{passive:!0})),(t=m.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(G(t,Y),t){case"mouseenter":G("mouseleave",K);break;case"focus":G(Rt?"focusout":"blur",Q);break;case"focusin":G("focusout",Q)}})}function H(){d.forEach(function(t){var e=t.node,i=t.eventType,n=t.handler,o=t.options;e.removeEventListener(i,n,o)}),d=[]}function Y(t){var e,i=!1;if(m.state.isEnabled&&!X(t)&&!l){var n="focus"===(null==(e=s)?void 0:e.type);s=t,A=t.currentTarget,L(),!m.state.isVisible&&dt(t,"MouseEvent")&&jt.forEach(function(e){return e(t)}),"click"===t.type&&(m.props.trigger.indexOf("mouseenter")<0||I)&&!1!==m.props.hideOnClick&&m.state.isVisible?i=!0:tt(t),"click"===t.type&&(I=!i),i&&!n&&et(t)}}function U(t){var e=t.target,i=S().contains(e)||b.contains(e);if("mousemove"!==t.type||!i){var n=$().concat(b).map(function(t){var e,i=null==(e=t._tippy.popperInstance)?void 0:e.state;return i?{popperRect:t.getBoundingClientRect(),popperState:i,props:C}:null}).filter(Boolean);(function(t,e){var i=e.clientX,n=e.clientY;return t.every(function(t){var e=t.popperRect,o=t.popperState,s=t.props.interactiveBorder,r=o.placement.split("-")[0],g=o.modifiersData.offset;if(!g)return!0;var A="bottom"===r?g.top.y:0,a="top"===r?g.bottom.y:0,C="right"===r?g.left.x:0,I="left"===r?g.right.x:0,l=e.top-n+A>s,h=n-e.bottom-a>s,c=e.left-i+C>s,d=i-e.right-I>s;return l||h||c||d})})(n,t)&&(B(),et(t))}}function K(t){X(t)||m.props.trigger.indexOf("click")>=0&&I||(m.props.interactive?m.hideWithInteractivity(t):et(t))}function Q(t){m.props.trigger.indexOf("focusin")<0&&t.target!==S()||m.props.interactive&&t.relatedTarget&&b.contains(t.relatedTarget)||et(t)}function X(t){return!!St.isTouch&&k()!==t.type.indexOf("touch")>=0}function q(){J();var e=m.props,i=e.popperOptions,n=e.placement,o=e.offset,s=e.getReferenceClientRect,r=e.moveTransition,A=T()?Zt(b).arrow:null,a=s?{getBoundingClientRect:s,contextElement:s.contextElement||S()}:t,C=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(T()){var i=D().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?i.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?i.setAttribute("data-"+t,""):i.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];T()&&A&&C.push({name:"arrow",options:{element:A,padding:3}}),C.push.apply(C,(null==i?void 0:i.modifiers)||[]),m.popperInstance=At(a,b,Object.assign({},i,{placement:n,onFirstUpdate:g,modifiers:C}))}function J(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function $(){return vt(b.querySelectorAll("[data-tippy-root]"))}function tt(t){m.clearDelayTimeouts(),t&&R("onTrigger",[m,t]),V();var e=N(!0),n=E(),o=n[0],s=n[1];St.isTouch&&"hold"===o&&s&&(e=s),e?i=setTimeout(function(){m.show()},e):m.show()}function et(t){if(m.clearDelayTimeouts(),R("onUntrigger",[m,t]),m.state.isVisible){if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&I)){var e=N(!1);e?n=setTimeout(function(){m.state.isVisible&&m.hide()},e):o=requestAnimationFrame(function(){m.hide()})}}else Z()}}function Ut(t,e){void 0===e&&(e={});var i=Pt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Dt,lt),window.addEventListener("blur",Mt);var n,o=Object.assign({},e,{plugins:i}),s=(n=t,wt(n)?[n]:function(t){return dt(t,"NodeList")}(n)?vt(n):Array.isArray(n)?n:vt(document.querySelectorAll(n))).reduce(function(t,e){var i=e&&Yt(e,o);return i&&t.push(i),t},[]);return wt(t)?s[0]:s}Ut.defaultProps=Pt,Ut.setDefaultProps=function(t){Object.keys(t).forEach(function(e){Pt[e]=t[e]})},Ut.currentInput=St,Object.assign({},K,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}}),Ut.setDefaultProps({render:Wt});const Kt=Ut,Qt=(t,e=!1)=>{const i=document.createElement("div");for(const n of t){const o=document.createElement("kbd");if(o.innerText=n,e&&o.classList.add("auto-hide"),"Ctrl"===n&&(o.classList.add("mac-cmd"),navigator.platform.startsWith("Mac")&&(o.textContent="⌘")),i.appendChild(o),n!==t[t.length-1]){const t=document.createElement("span");t.innerText=" + ",t.classList.add("kbd-plus"),i.appendChild(t)}}return i};Kt("#restrict-label",{content:"Restricts input tape to letters in the input alphabet Σ.\nDetermined from letters found in the left-hand side of the rules.",placement:"bottom",touch:!1}),Kt("#download-button",{content:Qt(["Ctrl","S"]),placement:"bottom",touch:!1}),Kt("#upload-button",{content:Qt(["Ctrl","O"]),placement:"bottom",touch:!1}),Kt("#copy-empty",{content:Qt(["Alt","E"]),placement:"bottom",touch:!1}),Kt("#open-share-button",{content:Qt(["Ctrl","Alt","O"]),placement:"bottom",touch:!1}),Kt("#share-dialog-button",{content:Qt(["Ctrl","Alt","S"]),placement:"bottom",touch:!1})},576:(t,e,i)=>{"use strict";i.d(e,{Cu:()=>b,E8:()=>m,eD:()=>y,q$:()=>D,xh:()=>w});var n=i(992),o=i(623),s=i(83),r=i(997),g=i(28);const A=["script","name","init","tape"],a=["lock_restrict","unrestrict"],C=[...A,...a],I=document.getElementById("share-dialog"),l=document.getElementById("file-name"),h=document.getElementById("init-state"),c=document.getElementById("upload-button"),d=document.getElementById("restrict-input"),u=document.getElementById("open-share-dialog"),p=document.getElementById("open-share-url"),f=t=>{const e=new URL(window.location.href);if(e.hash="",e.search="",t.script&&""!==o.RB()&&o.RB()!==g.rE){const i=(0,n.compressToEncodedURIComponent)(o.RB());e.searchParams.set("script",i),t.script.readonly&&e.searchParams.set("script_ro","true")}if(t.name&&l.value&&(e.searchParams.set("name",l.value),t.name.readonly&&e.searchParams.set("name_ro","true")),t.init&&h.value&&(e.searchParams.set("init",h.value),t.init.readonly&&e.searchParams.set("init_ro","true")),t.tape&&r.tS()){let i=r.tS(),n=i.length;for(let t=i.length-1;t>=0;t--)if(i[t]!==g.wg){n=t+1;break}const o=i.substring(0,n);e.searchParams.set("tape",o),t.tape.readonly&&(e.searchParams.set("tape_ro","true"),delete t.unrestrict,delete t.lock_restrict)}return t.unrestrict&&e.searchParams.set("unrestrict",""),t.lock_restrict&&e.searchParams.set("lock_restrict",""),e.toString()},m=()=>{const t=document.getElementById("include-script"),e=document.getElementById("include-name"),i=document.getElementById("include-init"),n=document.getElementById("include-tape");""!==o.RB()&&o.RB()!==g.rE?t.disabled=!1:(t.disabled=!0,t.checked=!1),""!==l.value?e.disabled=!1:(e.disabled=!0,e.checked=!1),""!==h.value?i.disabled=!1:(i.disabled=!0,i.checked=!1),""!==r.tS()&&r.tS()!==g.wg.repeat(r.tS().length)?n.disabled=!1:(n.disabled=!0,n.checked=!1),I.showModal()};let v=null;const b=()=>{const t=new URL(window.location.href),e=t.searchParams.get("script"),i=t.searchParams.get("init"),g=t.searchParams.get("tape"),A=t.searchParams.get("name"),a=t.searchParams.has("unrestrict"),C=t.searchParams.has("lock_restrict");if(v={},e){const i=(0,n.decompressFromEncodedURIComponent)(e);if(i){o.Up.dispatch({changes:{from:0,to:o.Up.state.doc.length,insert:i}});const e="true"===t.searchParams.get("script_ro");e&&(o.G9(!0),c.disabled=!0),o.P1(),v.script={readonly:e,value:i}}else console.error("Failed to decompress script from URL."),s.WQ("Failed to decompress script from URL","decompress")}if(i){const e="true"===t.searchParams.get("init_ro");e&&(h.disabled=!0),v.init={readonly:e,value:i}}if(g){r.to(g);const e="true"===t.searchParams.get("tape_ro");e&&(r.GD(!0),document.getElementById("restrict-label").classList.add("hidden")),v.tape={readonly:e,value:g}}if(A){l.value=A;const e="true"===t.searchParams.get("name_ro");e&&(l.disabled=!0),v.name={readonly:e,value:A}}return C&&(d.disabled=!0,v.lock_restrict=!0),a&&(r.z5(!1),d.checked=!1,v.unrestrict=!0),console.table(v),v},y=()=>{if(!v)throw new Error("No properties loaded from URL. Call load_from_url() first.");v.init&&(h.querySelector(`option[value="${v.init.value}"]`)?h.value=v.init.value:(s.WQ(`Initial state declared in URL "${v.init.value}" is not defined in the program.`,"no-init"),h.value=""))},w=()=>v,x=()=>{const t={};return A.forEach(e=>{const i=document.getElementById(`include-${e}`),n=document.getElementById(`readonly-${e}`);i.checked&&(t[e]={readonly:n.checked})}),a.forEach(e=>{document.getElementById(`flag-${e}`).checked&&(t[e]=!0)}),t.unrestrict=!t.unrestrict,t.lock_restrict=!t.lock_restrict,t};document.getElementById("share-dialog-button").addEventListener("click",m),document.getElementById("share-close").addEventListener("click",()=>{I.close()}),C.forEach(t=>{const e=document.getElementById(`include-${t}`),i=document.getElementById(`${t}-sub`);e&&e.addEventListener("change",()=>{const t=document.getElementById("select-all"),n=A.every(t=>{const e=document.getElementById(`include-${t}`);return e.checked||e.disabled});t.checked=n,i&&i.classList.toggle("hidden",!e.checked)})});const E=document.getElementById("readonly-tape");E.addEventListener("change",()=>{document.getElementById("tape-restrict-sub").classList.toggle("hidden",E.checked)}),document.getElementById("select-all").addEventListener("change",t=>{t.target.checked?A.forEach(t=>{const e=document.getElementById(`include-${t}`);if(e.disabled)return;e.checked=!0;const i=document.getElementById(`${t}-sub`);i&&i.classList.remove("hidden")}):A.forEach(t=>{const e=document.getElementById(`include-${t}`);if(e.disabled)return;e.checked=!1;const i=document.getElementById(`${t}-sub`);i&&i.classList.add("hidden")})});const k=document.getElementById("share-button"),T=k.innerHTML;k.addEventListener("click",async()=>{const t=f(x());try{await navigator.clipboard.writeText(t)}catch(t){return void console.error("Failed to copy share URL: ",t)}o.P1(),k.innerText="Copied!",setTimeout(()=>{k.innerHTML=T},2e3)});const S=document.getElementById("share-iframe-button");S.innerHTML,S.addEventListener("click",async()=>{const t=x(),e=f(t),i=document.createElement("iframe");i.src=e,i.style.border="none",i.loading="lazy",i.allowFullscreen=!0,i.width="1200";let n=520;t.script&&(n+=18*((o.RB().match(/\n/g)||[]).length+1)),i.height=n.toString();try{await navigator.clipboard.writeText(i.outerHTML)}catch(t){return void console.error("Failed to copy share URL: ",t)}o.P1(),k.innerText="Copied!",setTimeout(()=>{k.innerHTML=T},2e3)});const O=new URL(window.location.href);p.placeholder=`${O.origin}${O.pathname}?script=...`;const D=()=>u.showModal();document.getElementById("open-share-button").addEventListener("click",D),document.getElementById("open-share-cancel").addEventListener("click",()=>{u.close()}),p.addEventListener("paste",t=>{if(t.preventDefault(),s.Z$("open-url"),!t.clipboardData)return console.error("Clipboard data not available for paste event."),s.WQ("Clipboard data not available.","open-url"),void u.close();const e=t.clipboardData.getData("text/plain");let i;try{i=new URL(e)}catch(t){return console.error("Invalid URL pasted: "+e,t),s.WQ("Invalid URL pasted: "+e,"open-url"),void u.close()}const n=O;n.search=i.search,u.close(),window.location.assign(n.href)})},623:(t,e,i)=>{"use strict";i.d(e,{jp:()=>nc,Z8:()=>Kh,TT:()=>Xh,iM:()=>Vh,P1:()=>ec,$p:()=>Zh,Yw:()=>Bh,RB:()=>Lh,Kj:()=>tc,fz:()=>Gh,pu:()=>Qh,Qd:()=>Wh,G9:()=>Jh,Up:()=>Ph});let n=[],o=[];function s(t){if(t<768)return!1;for(let e=0,i=n.length;;){let s=e+i>>1;if(t<n[s])i=s;else{if(!(t>=o[s]))return!0;e=s+1}if(e==i)return!1}}function r(t){return t>=127462&&t<=127487}function g(t,e,i=!0,n=!0){return(i?A:a)(t,e,n)}function A(t,e,i){if(e==t.length)return e;e&&I(t.charCodeAt(e))&&l(t.charCodeAt(e-1))&&e--;let n=C(t,e);for(e+=h(n);e<t.length;){let o=C(t,e);if(8205==n||8205==o||i&&s(o))e+=h(o),n=o;else{if(!r(o))break;{let i=0,n=e-2;for(;n>=0&&r(C(t,n));)i++,n-=2;if(i%2==0)break;e+=2}}}return e}function a(t,e,i){for(;e>0;){let n=A(t,e-2,i);if(n<e)return n;e--}return 0}function C(t,e){let i=t.charCodeAt(e);if(!l(i)||e+1==t.length)return i;let n=t.charCodeAt(e+1);return I(n)?n-56320+(i-55296<<10)+65536:i}function I(t){return t>=56320&&t<57344}function l(t){return t>=55296&&t<56320}function h(t){return t<65536?1:2}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let e=0,i=0;e<t.length;e++)(e%2?o:n).push(i+=t[e])})();class c{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){[t,e]=w(this,t,e);let n=[];return this.decompose(0,t,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(e,this.length,n,1),u.from(n,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=w(this,t,e);let i=[];return this.decompose(t,e,i,0),u.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),n=new m(this),o=new m(t);for(let t=e,s=e;;){if(n.next(t),o.next(t),t=0,n.lineBreak!=o.lineBreak||n.done!=o.done||n.value!=o.value)return!1;if(s+=n.value.length,n.done||s>=i)return!0}}iter(t=1){return new m(this,t)}iterRange(t,e=this.length){return new v(this,t,e)}iterLines(t,e){let i;if(null==t)i=this.iter();else{null==e&&(e=this.lines+1);let n=this.line(t).from;i=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new b(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new d(t):u.from(d.split(t,[])):c.empty}}class d extends c{constructor(t,e=function(t){let e=-1;for(let i of t)e+=i.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,n){for(let o=0;;o++){let s=this.text[o],r=n+s.length;if((e?i:r)>=t)return new y(n,r,i,s);n=r+1,i++}}decompose(t,e,i,n){let o=t<=0&&e>=this.length?this:new d(f(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&n){let t=i.pop(),e=p(o.text,t.text.slice(),0,o.length);if(e.length<=32)i.push(new d(e,t.length+o.length));else{let t=e.length>>1;i.push(new d(e.slice(0,t)),new d(e.slice(t)))}}else i.push(o)}replace(t,e,i){if(!(i instanceof d))return super.replace(t,e,i);[t,e]=w(this,t,e);let n=p(this.text,p(i.text,f(this.text,0,t)),e),o=this.length+i.length-(e-t);return n.length<=32?new d(n,o):u.from(d.split(n,[]),o)}sliceString(t,e=this.length,i="\n"){[t,e]=w(this,t,e);let n="";for(let o=0,s=0;o<=e&&s<this.text.length;s++){let r=this.text[s],g=o+r.length;o>t&&s&&(n+=i),t<g&&e>o&&(n+=r.slice(Math.max(0,t-o),e-o)),o=g+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],n=-1;for(let o of t)i.push(o),n+=o.length+1,32==i.length&&(e.push(new d(i,n)),i=[],n=-1);return n>-1&&e.push(new d(i,n)),e}}class u extends c{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,i,n){for(let o=0;;o++){let s=this.children[o],r=n+s.length,g=i+s.lines-1;if((e?g:r)>=t)return s.lineInner(t,e,i,n);n=r+1,i=g+1}}decompose(t,e,i,n){for(let o=0,s=0;s<=e&&o<this.children.length;o++){let r=this.children[o],g=s+r.length;if(t<=g&&e>=s){let o=n&((s<=t?1:0)|(g>=e?2:0));s>=t&&g<=e&&!o?i.push(r):r.decompose(t-s,e-s,i,o)}s=g+1}}replace(t,e,i){if([t,e]=w(this,t,e),i.lines<this.lines)for(let n=0,o=0;n<this.children.length;n++){let s=this.children[n],r=o+s.length;if(t>=o&&e<=r){let g=s.replace(t-o,e-o,i),A=this.lines-s.lines+g.lines;if(g.lines<A>>4&&g.lines>A>>6){let o=this.children.slice();return o[n]=g,new u(o,this.length-(e-t)+i.length)}return super.replace(o,r,g)}o=r+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i="\n"){[t,e]=w(this,t,e);let n="";for(let o=0,s=0;o<this.children.length&&s<=e;o++){let r=this.children[o],g=s+r.length;s>t&&o&&(n+=i),t<g&&e>s&&(n+=r.sliceString(t-s,e-s,i)),s=g+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof u))return 0;let i=0,[n,o,s,r]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,o+=e){if(n==s||o==r)return i;let g=this.children[n],A=t.children[o];if(g!=A)return i+g.scanIdentical(A,e);i+=g.length+1}}static from(t,e=t.reduce((t,e)=>t+e.length+1,-1)){let i=0;for(let e of t)i+=e.lines;if(i<32){let i=[];for(let e of t)e.flatten(i);return new d(i,e)}let n=Math.max(32,i>>5),o=n<<1,s=n>>1,r=[],g=0,A=-1,a=[];function C(t){let e;if(t.lines>o&&t instanceof u)for(let e of t.children)C(e);else t.lines>s&&(g>s||!g)?(I(),r.push(t)):t instanceof d&&g&&(e=a[a.length-1])instanceof d&&t.lines+e.lines<=32?(g+=t.lines,A+=t.length+1,a[a.length-1]=new d(e.text.concat(t.text),e.length+1+t.length)):(g+t.lines>n&&I(),g+=t.lines,A+=t.length+1,a.push(t))}function I(){0!=g&&(r.push(1==a.length?a[0]:u.from(a,A)),A=-1,g=a.length=0)}for(let e of t)C(e);return I(),1==r.length?r[0]:new u(r,e)}}function p(t,e,i=0,n=1e9){for(let o=0,s=0,r=!0;s<t.length&&o<=n;s++){let g=t[s],A=o+g.length;A>=i&&(A>n&&(g=g.slice(0,n-o)),o<i&&(g=g.slice(i-o)),r?(e[e.length-1]+=g,r=!1):e.push(g)),o=A+1}return e}function f(t,e,i){return p(t,[""],e,i)}c.empty=new d([""],0);class m{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof d?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],o=this.offsets[i],s=o>>1,r=n instanceof d?n.text.length:n.children.length;if(s==(e>0?r:0)){if(0==i)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(e>0?0:1)){if(this.offsets[i]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(n instanceof d){let o=n.text[s+(e<0?-1:0)];if(this.offsets[i]+=e,o.length>Math.max(0,t))return this.value=0==t?o:e>0?o.slice(t):o.slice(0,o.length-t),this;t-=o.length}else{let o=n.children[s+(e<0?-1:0)];t>o.length?(t-=o.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(o),this.offsets.push(e>0?1:(o instanceof d?o.text.length:o.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class v{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new m(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=i?n:e<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class b{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:n}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(c.prototype[Symbol.iterator]=function(){return this.iter()},m.prototype[Symbol.iterator]=v.prototype[Symbol.iterator]=b.prototype[Symbol.iterator]=function(){return this});class y{constructor(t,e,i,n){this.from=t,this.to=e,this.number=i,this.text=n}get length(){return this.to-this.from}}function w(t,e,i){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,i))]}function x(t,e,i=!0,n=!0){return g(t,e,i,n)}function E(t,e){let i=t.charCodeAt(e);if(!((n=i)>=55296&&n<56320&&e+1!=t.length))return i;var n;let o=t.charCodeAt(e+1);return function(t){return t>=56320&&t<57344}(o)?o-56320+(i-55296<<10)+65536:i}function k(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function T(t){return t<65536?1:2}const S=/\r\n?|\n/;var O=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(O||(O={}));class D{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,n=0;e<this.sections.length;){let o=this.sections[e++],s=this.sections[e++];s<0?(t(i,n,o),n+=o):n+=s,i+=o}}iterChangedRanges(t,e=!1){P(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];n<0?t.push(i,n):t.push(n,i)}return new D(t)}composeDesc(t){return this.empty?t:t.empty?this:B(this,t)}mapDesc(t,e=!1){return t.empty?this:L(this,t,e)}mapPos(t,e=-1,i=O.Simple){let n=0,o=0;for(let s=0;s<this.sections.length;){let r=this.sections[s++],g=this.sections[s++],A=n+r;if(g<0){if(A>t)return o+(t-n);o+=r}else{if(i!=O.Simple&&A>=t&&(i==O.TrackDel&&n<t&&A>t||i==O.TrackBefore&&n<t||i==O.TrackAfter&&A>t))return null;if(A>t||A==t&&e<0&&!r)return t==n||e<0?o:o+g;o+=g}n=A}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return o}touchesRange(t,e=t){for(let i=0,n=0;i<this.sections.length&&n<=e;){let o=n+this.sections[i++];if(this.sections[i++]>=0&&n<=e&&o>=t)return!(n<t&&o>e)||"cover";n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+i+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new D(t)}static create(t){return new D(t)}}class N extends D{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return P(this,(e,i,n,o,s)=>t=t.replace(n,n+(i-e),s),!1),t}mapDesc(t,e=!1){return L(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let n=0,o=0;n<e.length;n+=2){let s=e[n],r=e[n+1];if(r>=0){e[n]=r,e[n+1]=s;let g=n>>1;for(;i.length<g;)i.push(c.empty);i.push(s?t.slice(o,o+s):c.empty)}o+=s}return new N(e,i)}compose(t){return this.empty?t:t.empty?this:B(this,t,!0)}map(t,e=!1){return t.empty?this:L(this,t,e,!0)}iterChanges(t,e=!1){P(this,t,e)}get desc(){return D.create(this.sections)}filter(t){let e=[],i=[],n=[],o=new F(this);t:for(let s=0,r=0;;){let g=s==t.length?1e9:t[s++];for(;r<g||r==g&&0==o.len;){if(o.done)break t;let t=Math.min(o.len,g-r);M(n,t,-1);let s=-1==o.ins?-1:0==o.off?o.ins:0;M(e,t,s),s>0&&R(i,e,o.text),o.forward(t),r+=t}let A=t[s++];for(;r<A;){if(o.done)break t;let t=Math.min(o.len,A-r);M(e,t,-1),M(n,t,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(t),r+=t}}return{changes:new N(e,i),filtered:D.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],n=this.sections[e+1];n<0?t.push(i):0==n?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let n=[],o=[],s=0,r=null;function g(t=!1){if(!t&&!n.length)return;s<e&&M(n,e-s,-1);let i=new N(n,o);r=r?r.compose(i.map(r)):i,n=[],o=[],s=0}return function t(A){if(Array.isArray(A))for(let e of A)t(e);else if(A instanceof N){if(A.length!=e)throw new RangeError(`Mismatched change set length (got ${A.length}, expected ${e})`);g(),r=r?r.compose(A.map(r)):A}else{let{from:t,to:r=t,insert:a}=A;if(t>r||t<0||r>e)throw new RangeError(`Invalid change range ${t} to ${r} (in doc of length ${e})`);let C=a?"string"==typeof a?c.of(a.split(i||S)):a:c.empty,I=C.length;if(t==r&&0==I)return;t<s&&g(),t>s&&M(n,t-s,-1),M(n,r-t,I),R(o,n,C),s=r}}(t),g(!r),r}static empty(t){return new N(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let n=0;n<t.length;n++){let o=t[n];if("number"==typeof o)e.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((t,e)=>e&&"string"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)e.push(o[0],0);else{for(;i.length<n;)i.push(c.empty);i[n]=c.of(o.slice(1)),e.push(o[0],i[n].length)}}}return new N(e,i)}static createSet(t,e){return new N(t,e)}}function M(t,e,i,n=!1){if(0==e&&i<=0)return;let o=t.length-2;o>=0&&i<=0&&i==t[o+1]?t[o]+=e:o>=0&&0==e&&0==t[o]?t[o+1]+=i:n?(t[o]+=e,t[o+1]+=i):t.push(e,i)}function R(t,e,i){if(0==i.length)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<n;)t.push(c.empty);t.push(i)}}function P(t,e,i){let n=t.inserted;for(let o=0,s=0,r=0;r<t.sections.length;){let g=t.sections[r++],A=t.sections[r++];if(A<0)o+=g,s+=g;else{let a=o,C=s,I=c.empty;for(;a+=g,C+=A,A&&n&&(I=I.append(n[r-2>>1])),!(i||r==t.sections.length||t.sections[r+1]<0);)g=t.sections[r++],A=t.sections[r++];e(o,a,s,C,I),o=a,s=C}}}function L(t,e,i,n=!1){let o=[],s=n?[]:null,r=new F(t),g=new F(e);for(let t=-1;;){if(r.done&&g.len||g.done&&r.len)throw new Error("Mismatched change set lengths");if(-1==r.ins&&-1==g.ins){let t=Math.min(r.len,g.len);M(o,t,-1),r.forward(t),g.forward(t)}else if(g.ins>=0&&(r.ins<0||t==r.i||0==r.off&&(g.len<r.len||g.len==r.len&&!i))){let e=g.len;for(M(o,g.ins,-1);e;){let i=Math.min(r.len,e);r.ins>=0&&t<r.i&&r.len<=i&&(M(o,0,r.ins),s&&R(s,o,r.text),t=r.i),r.forward(i),e-=i}g.next()}else{if(!(r.ins>=0)){if(r.done&&g.done)return s?N.createSet(o,s):D.create(o);throw new Error("Mismatched change set lengths")}{let e=0,i=r.len;for(;i;)if(-1==g.ins){let t=Math.min(i,g.len);e+=t,i-=t,g.forward(t)}else{if(!(0==g.ins&&g.len<i))break;i-=g.len,g.next()}M(o,e,t<r.i?r.ins:0),s&&t<r.i&&R(s,o,r.text),t=r.i,r.forward(r.len-i)}}}}function B(t,e,i=!1){let n=[],o=i?[]:null,s=new F(t),r=new F(e);for(let t=!1;;){if(s.done&&r.done)return o?N.createSet(n,o):D.create(n);if(0==s.ins)M(n,s.len,0,t),s.next();else if(0!=r.len||r.done){if(s.done||r.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,r.len),i=n.length;if(-1==s.ins){let i=-1==r.ins?-1:r.off?0:r.ins;M(n,e,i,t),o&&i&&R(o,n,r.text)}else-1==r.ins?(M(n,s.off?0:s.len,e,t),o&&R(o,n,s.textBit(e))):(M(n,s.off?0:s.len,r.off?0:r.ins,t),o&&!r.off&&R(o,n,r.text));t=(s.ins>e||r.ins>=0&&r.len>e)&&(t||n.length>i),s.forward2(e),r.forward(e)}}else M(n,0,r.ins,t),o&&R(o,n,r.text),r.next()}}class F{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?c.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?c.empty:e[i].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class _{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let i,n;return this.empty?i=n=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new _(i,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return z.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return z.range(this.anchor,i)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return z.range(t.anchor,t.head)}static create(t,e,i){return new _(t,e,i)}}class z{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:z.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new z([this.main],0)}addRange(t,e=!0){return z.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,z.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new z(t.ranges.map(t=>_.fromJSON(t)),t.main)}static single(t,e=t){return new z([z.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<t.length;n++){let o=t[n];if(o.empty?o.from<=i:o.from<i)return z.normalized(t.slice(),e);i=o.to}return new z(t,e)}static cursor(t,e=0,i,n){return _.create(t,t,(0==e?0:e<0?8:16)|(null==i?7:Math.min(6,i))|(null!=n?n:16777215)<<6)}static range(t,e,i,n){let o=(null!=i?i:16777215)<<6|(null==n?7:Math.min(6,n));return e<t?_.create(e,t,48|o):_.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let i=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(i);for(let i=1;i<t.length;i++){let n=t[i],o=t[i-1];if(n.empty?n.from<=o.to:n.from<o.to){let s=o.from,r=Math.max(n.to,o.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?z.range(r,s):z.range(s,r))}}return new z(t,e)}}function V(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let Z=0;class W{constructor(t,e,i,n,o){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=n,this.id=Z++,this.default=t([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(t={}){return new W(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:G),!!t.static,t.enables)}of(t){return new j([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],i=>e(i.field(t)))}}function G(t,e){return t==e||t.length==e.length&&t.every((t,i)=>t===e[i])}class j{constructor(t,e,i,n){this.dependencies=t,this.facet=e,this.type=i,this.value=n,this.id=Z++}dynamicSlot(t){var e;let i=this.value,n=this.facet.compareInput,o=this.id,s=t[o]>>1,r=2==this.type,g=!1,A=!1,a=[];for(let i of this.dependencies)"doc"==i?g=!0:"selection"==i?A=!0:1&(null!==(e=t[i.id])&&void 0!==e?e:1)||a.push(t[i.id]);return{create:t=>(t.values[s]=i(t),1),update(t,e){if(g&&e.docChanged||A&&(e.docChanged||e.selection)||Y(t,a)){let e=i(t);if(r?!H(e,t.values[s],n):!n(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let g,A=e.config.address[o];if(null!=A){let o=nt(e,A);if(this.dependencies.every(i=>i instanceof W?e.facet(i)===t.facet(i):!(i instanceof Q)||e.field(i,!1)==t.field(i,!1))||(r?H(g=i(t),o,n):n(g=i(t),o)))return t.values[s]=o,0}else g=i(t);return t.values[s]=g,1}}}}function H(t,e,i){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function Y(t,e){let i=!1;for(let n of e)1&it(t,n)&&(i=!0);return i}function U(t,e,i){let n=i.map(e=>t[e.id]),o=i.map(t=>t.type),s=n.filter(t=>!(1&t)),r=t[e.id]>>1;function g(t){let i=[];for(let e=0;e<n.length;e++){let s=nt(t,n[e]);if(2==o[e])for(let t of s)i.push(t);else i.push(s)}return e.combine(i)}return{create(t){for(let e of n)it(t,e);return t.values[r]=g(t),1},update(t,i){if(!Y(t,s))return 0;let n=g(t);return e.compare(n,t.values[r])?0:(t.values[r]=n,1)},reconfigure(t,o){let s=Y(t,n),A=o.config.facets[e.id],a=o.facet(e);if(A&&!s&&G(i,A))return t.values[r]=a,0;let C=g(t);return e.compare(C,a)?(t.values[r]=a,0):(t.values[r]=C,1)}}}const K=W.define({static:!0});class Q{constructor(t,e,i,n,o){this.id=t,this.createF=e,this.updateF=i,this.compareF=n,this.spec=o,this.provides=void 0}static define(t){let e=new Q(Z++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(K).find(t=>t.field==this);return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,i)=>{let n=t.values[e],o=this.updateF(n,i);return this.compareF(n,o)?0:(t.values[e]=o,1)},reconfigure:(t,i)=>{let n,o=t.facet(K),s=i.facet(K);return(n=o.find(t=>t.field==this))&&n!=s.find(t=>t.field==this)?(t.values[e]=n.create(t),1):null!=i.config.address[this.id]?(t.values[e]=i.field(this),0):(t.values[e]=this.create(t),1)}}}init(t){return[this,K.of({field:this,create:t})]}get extension(){return this}}function X(t){return e=>new J(e,t)}const q={highest:X(0),high:X(1),default:X(2),low:X(3),lowest:X(4)};class J{constructor(t,e){this.inner=t,this.prec=e}}class ${of(t){return new tt(this,t)}reconfigure(t){return $.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tt{constructor(t,e){this.compartment=t,this.inner=e}}class et{constructor(t,e,i,n,o,s){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=n,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let n=[],o=Object.create(null),s=new Map;for(let i of function(t,e,i){let n=[[],[],[],[],[]],o=new Map;return function t(s,r){let g=o.get(s);if(null!=g){if(g<=r)return;let t=n[g].indexOf(s);t>-1&&n[g].splice(t,1),s instanceof tt&&i.delete(s.compartment)}if(o.set(s,r),Array.isArray(s))for(let e of s)t(e,r);else if(s instanceof tt){if(i.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=e.get(s.compartment)||s.inner;i.set(s.compartment,n),t(n,r)}else if(s instanceof J)t(s.inner,s.prec);else if(s instanceof Q)n[r].push(s),s.provides&&t(s.provides,r);else if(s instanceof j)n[r].push(s),s.facet.extensions&&t(s.facet.extensions,2);else{let e=s.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,r)}}(t,2),n.reduce((t,e)=>t.concat(e))}(t,e,s))i instanceof Q?n.push(i):(o[i.facet.id]||(o[i.facet.id]=[])).push(i);let r=Object.create(null),g=[],A=[];for(let t of n)r[t.id]=A.length<<1,A.push(e=>t.slot(e));let a=null==i?void 0:i.config.facets;for(let t in o){let e=o[t],n=e[0].facet,s=a&&a[t]||[];if(e.every(t=>0==t.type))if(r[n.id]=g.length<<1|1,G(s,e))g.push(i.facet(n));else{let t=n.combine(e.map(t=>t.value));g.push(i&&n.compare(t,i.facet(n))?i.facet(n):t)}else{for(let t of e)0==t.type?(r[t.id]=g.length<<1|1,g.push(t.value)):(r[t.id]=A.length<<1,A.push(e=>t.dynamicSlot(e)));r[n.id]=A.length<<1,A.push(t=>U(t,n,e))}}let C=A.map(t=>t(r));return new et(t,s,C,r,g,o)}}function it(t,e){if(1&e)return 2;let i=e>>1,n=t.status[i];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;t.status[i]=4;let o=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|o}function nt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const ot=W.define(),st=W.define({combine:t=>t.some(t=>t),static:!0}),rt=W.define({combine:t=>t.length?t[0]:void 0,static:!0}),gt=W.define(),At=W.define(),at=W.define(),Ct=W.define({combine:t=>!!t.length&&t[0]});class It{constructor(t,e){this.type=t,this.value=e}static define(){return new lt}}class lt{of(t){return new It(this,t)}}class ht{constructor(t){this.map=t}of(t){return new ct(this,t)}}class ct{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new ct(this.type,e)}is(t){return this.type==t}static define(t={}){return new ht(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let n of t){let t=n.map(e);t&&i.push(t)}return i}}ct.reconfigure=ct.define(),ct.appendConfig=ct.define();class dt{constructor(t,e,i,n,o,s){this.startState=t,this.changes=e,this.selection=i,this.effects=n,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&V(i,e.newLength),o.some(t=>t.type==dt.time)||(this.annotations=o.concat(dt.time.of(Date.now())))}static create(t,e,i,n,o,s){return new dt(t,e,i,n,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(dt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function ut(t,e){let i=[];for(let n=0,o=0;;){let s,r;if(n<t.length&&(o==e.length||e[o]>=t[n]))s=t[n++],r=t[n++];else{if(!(o<e.length))return i;s=e[o++],r=e[o++]}!i.length||i[i.length-1]<s?i.push(s,r):i[i.length-1]<r&&(i[i.length-1]=r)}}function pt(t,e,i){var n;let o,s,r;return i?(o=e.changes,s=N.empty(e.changes.length),r=t.changes.compose(e.changes)):(o=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),r=t.changes.compose(o)),{changes:r,selection:e.selection?e.selection.map(s):null===(n=t.selection)||void 0===n?void 0:n.map(o),effects:ct.mapEffects(t.effects,o).concat(ct.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ft(t,e,i){let n=e.selection,o=bt(e.annotations);return e.userEvent&&(o=o.concat(dt.userEvent.of(e.userEvent))),{changes:e.changes instanceof N?e.changes:N.of(e.changes||[],i,t.facet(rt)),selection:n&&(n instanceof z?n:z.single(n.anchor,n.head)),effects:bt(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function mt(t,e,i){let n=ft(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(i=!1);for(let o=1;o<e.length;o++){!1===e[o].filter&&(i=!1);let s=!!e[o].sequential;n=pt(n,ft(t,e[o],s?n.changes.newLength:t.doc.length),s)}let o=dt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function(t){let e=t.startState,i=e.facet(at),n=t;for(let o=i.length-1;o>=0;o--){let s=i[o](t);s&&Object.keys(s).length&&(n=pt(n,ft(e,s,t.changes.newLength),!0))}return n==t?t:dt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}(i?function(t){let e=t.startState,i=!0;for(let n of e.facet(gt)){let e=n(t);if(!1===e){i=!1;break}Array.isArray(e)&&(i=!0===i?e:ut(i,e))}if(!0!==i){let n,o;if(!1===i)o=t.changes.invertedDesc,n=N.empty(e.doc.length);else{let e=t.changes.filter(i);n=e.changes,o=e.filtered.mapDesc(e.changes).invertedDesc}t=dt.create(e,n,t.selection&&t.selection.map(o),ct.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let n=e.facet(At);for(let i=n.length-1;i>=0;i--){let o=n[i](t);t=o instanceof dt?o:Array.isArray(o)&&1==o.length&&o[0]instanceof dt?o[0]:mt(e,bt(o),!1)}return t}(o):o)}dt.time=It.define(),dt.userEvent=It.define(),dt.addToHistory=It.define(),dt.remote=It.define();const vt=[];function bt(t){return null==t?vt:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const wt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let xt;try{xt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class Et{constructor(t,e,i,n,o,s){this.config=t,this.doc=e,this.selection=i,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)it(this,t<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(null!=i)return it(this,i),nt(this,i);if(e)throw new RangeError("Field is not present in this state")}update(...t){return mt(this,t,!0)}applyTransaction(t){let e,i=this.config,{base:n,compartments:o}=i;for(let e of t.effects)e.is($.reconfigure)?(i&&(o=new Map,i.compartments.forEach((t,e)=>o.set(e,t)),i=null),o.set(e.value.compartment,e.value.extension)):e.is(ct.reconfigure)?(i=null,n=e.value):e.is(ct.appendConfig)&&(i=null,n=bt(n).concat(e.value));i?e=t.startState.values.slice():(i=et.resolve(n,o,this),e=new Et(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(t,e)=>e.reconfigure(t,this),null).values);let s=t.startState.facet(st)?t.newSelection:t.newSelection.asSingle();new Et(i,t.newDoc,s,e,(e,i)=>i.update(e,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:z.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),n=this.changes(i.changes),o=[i.range],s=bt(i.effects);for(let i=1;i<e.ranges.length;i++){let r=t(e.ranges[i]),g=this.changes(r.changes),A=g.map(n);for(let t=0;t<i;t++)o[t]=o[t].map(A);let a=n.mapDesc(g,!0);o.push(r.range.map(a)),n=n.compose(A),s=ct.mapEffects(s,A).concat(ct.mapEffects(bt(r.effects),a))}return{changes:n,selection:z.create(o,e.mainIndex),effects:s}}changes(t=[]){return t instanceof N?t:N.of(t,this.doc.length,this.facet(Et.lineSeparator))}toText(t){return c.of(t.split(this.facet(Et.lineSeparator)||S))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(it(this,e),nt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let n=t[i];n instanceof Q&&null!=this.config.address[n.id]&&(e[i]=n.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i)for(let e in i)if(Object.prototype.hasOwnProperty.call(t,e)){let o=i[e],s=t[e];n.push(o.init(t=>o.spec.fromJSON(s,t)))}return Et.create({doc:t.doc,selection:z.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=et.resolve(t.extensions||[],new Map),i=t.doc instanceof c?t.doc:c.of((t.doc||"").split(e.staticFacet(Et.lineSeparator)||S)),n=t.selection?t.selection instanceof z?t.selection:z.single(t.selection.anchor,t.selection.head):z.single(0);return V(n,i.length),e.staticFacet(st)||(n=n.asSingle()),new Et(e,i,n,e.dynamicSlots.map(()=>null),(t,e)=>e.create(t),null)}get tabSize(){return this.facet(Et.tabSize)}get lineBreak(){return this.facet(Et.lineSeparator)||"\n"}get readOnly(){return this.facet(Ct)}phrase(t,...e){for(let e of this.facet(Et.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(t,i)=>{if("$"==i)return"$";let n=+(i||1);return!n||n>e.length?t:e[n-1]})),t}languageDataAt(t,e,i=-1){let n=[];for(let o of this.facet(ot))for(let s of o(this,e,i))Object.prototype.hasOwnProperty.call(s,t)&&n.push(s[t]);return n}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return yt.Space;if(function(t){if(xt)return xt.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||wt.test(i)))return!0}return!1}(t))return yt.Word;for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return yt.Word;return yt.Other};var e}wordAt(t){let{text:e,from:i,length:n}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-i,r=t-i;for(;s>0;){let t=x(e,s,!1);if(o(e.slice(t,s))!=yt.Word)break;s=t}for(;r<n;){let t=x(e,r);if(o(e.slice(r,t))!=yt.Word)break;r=t}return s==r?null:z.range(s+i,r+i)}}function kt(t,e,i={}){let n={};for(let e of t)for(let t of Object.keys(e)){let o=e[t],s=n[t];if(void 0===s)n[t]=o;else if(s===o||void 0===o);else{if(!Object.hasOwnProperty.call(i,t))throw new Error("Config merge conflict for field "+t);n[t]=i[t](s,o)}}for(let t in e)void 0===n[t]&&(n[t]=e[t]);return n}Et.allowMultipleSelections=st,Et.tabSize=W.define({combine:t=>t.length?t[0]:4}),Et.lineSeparator=rt,Et.readOnly=Ct,Et.phrases=W.define({compare(t,e){let i=Object.keys(t),n=Object.keys(e);return i.length==n.length&&i.every(i=>t[i]==e[i])}}),Et.languageData=ot,Et.changeFilter=gt,Et.transactionFilter=At,Et.transactionExtender=at,$.reconfigure=ct.define();class Tt{eq(t){return this==t}range(t,e=t){return St.create(t,e,this)}}Tt.prototype.startSide=Tt.prototype.endSide=0,Tt.prototype.point=!1,Tt.prototype.mapMode=O.TrackDel;class St{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new St(t,e,i)}}function Ot(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Dt{constructor(t,e,i,n){this.from=t,this.to=e,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,n=0){let o=i?this.to:this.from;for(let s=n,r=o.length;;){if(s==r)return s;let n=s+r>>1,g=o[n]-t||(i?this.value[n].endSide:this.value[n].startSide)-e;if(n==s)return g>=0?s:r;g>=0?r=n:s=n+1}}between(t,e,i,n){for(let o=this.findIndex(e,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(!1===n(this.from[o]+t,this.to[o]+t,this.value[o]))return!1}map(t,e){let i=[],n=[],o=[],s=-1,r=-1;for(let g=0;g<this.value.length;g++){let A,a,C=this.value[g],I=this.from[g]+t,l=this.to[g]+t;if(I==l){let t=e.mapPos(I,C.startSide,C.mapMode);if(null==t)continue;if(A=a=t,C.startSide!=C.endSide&&(a=e.mapPos(I,C.endSide),a<A))continue}else if(A=e.mapPos(I,C.startSide),a=e.mapPos(l,C.endSide),A>a||A==a&&C.startSide>0&&C.endSide<=0)continue;(a-A||C.endSide-C.startSide)<0||(s<0&&(s=A),C.point&&(r=Math.max(r,a-A)),i.push(C),n.push(A-s),o.push(a-s))}return{mapped:i.length?new Dt(n,o,i,r):null,pos:s}}}class Nt{constructor(t,e,i,n){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=n}static create(t,e,i,n){return new Nt(t,e,i,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:n=0,filterTo:o=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(i&&(e=e.slice().sort(Ot)),this.isEmpty)return e.length?Nt.of(e):this;let r=new Pt(this,null,-1).goto(0),g=0,A=[],a=new Mt;for(;r.value||g<e.length;)if(g<e.length&&(r.from-e[g].from||r.startSide-e[g].value.startSide)>=0){let t=e[g++];a.addInner(t.from,t.to,t.value)||A.push(t)}else 1==r.rangeIndex&&r.chunkIndex<this.chunk.length&&(g==e.length||this.chunkEnd(r.chunkIndex)<e[g].from)&&(!s||n>this.chunkEnd(r.chunkIndex)||o<this.chunkPos[r.chunkIndex])&&a.addChunk(this.chunkPos[r.chunkIndex],this.chunk[r.chunkIndex])?r.nextChunk():((!s||n>r.to||o<r.from||s(r.from,r.to,r.value))&&(a.addInner(r.from,r.to,r.value)||A.push(St.create(r.from,r.to,r.value))),r.next());return a.finishInner(this.nextLayer.isEmpty&&!A.length?Nt.empty:this.nextLayer.update({add:A,filter:s,filterFrom:n,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],r=this.chunk[o],g=t.touchesRange(s,s+r.length);if(!1===g)n=Math.max(n,r.maxPoint),e.push(r),i.push(t.mapPos(s));else if(!0===g){let{mapped:o,pos:g}=r.map(s,t);o&&(n=Math.max(n,o.maxPoint),e.push(o),i.push(g))}}let o=this.nextLayer.map(t);return 0==e.length?o:new Nt(i,e,o||Nt.empty,n)}between(t,e,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let o=this.chunkPos[n],s=this.chunk[n];if(e>=o&&t<=o+s.length&&!1===s.between(o,t-o,e-o,i))return}this.nextLayer.between(t,e,i)}}iter(t=0){return Lt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Lt.from(t).goto(e)}static compare(t,e,i,n,o=-1){let s=t.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=o),r=e.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=o),g=Rt(s,r,i),A=new Ft(s,g,o),a=new Ft(r,g,o);i.iterGaps((t,e,i)=>_t(A,t,a,e,i,n)),i.empty&&0==i.length&&_t(A,0,a,0,0,n)}static eq(t,e,i=0,n){null==n&&(n=999999999);let o=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0),s=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let r=Rt(o,s),g=new Ft(o,r,0).goto(i),A=new Ft(s,r,0).goto(i);for(;;){if(g.to!=A.to||!zt(g.active,A.active)||g.point&&(!A.point||!g.point.eq(A.point)))return!1;if(g.to>n)return!0;g.next(),A.next()}}static spans(t,e,i,n,o=-1){let s=new Ft(t,null,o).goto(e),r=e,g=s.openStart;for(;;){let t=Math.min(s.to,i);if(s.point){let i=s.activeForPoint(s.to),o=s.pointFrom<e?i.length+1:s.point.startSide<0?i.length:Math.min(i.length,g);n.point(r,t,s.point,i,o,s.pointRank),g=Math.min(s.openEnd(t),i.length)}else t>r&&(n.span(r,t,s.active,g),g=s.openEnd(t));if(s.to>i)return g+(s.point&&s.to>i?1:0);r=s.to,s.next()}}static of(t,e=!1){let i=new Mt;for(let n of t instanceof St?[t]:e?function(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let n=t[i];if(Ot(e,n)>0)return t.slice().sort(Ot);e=n}return t}(t):t)i.add(n.from,n.to,n.value);return i.finish()}static join(t){if(!t.length)return Nt.empty;let e=t[t.length-1];for(let i=t.length-2;i>=0;i--)for(let n=t[i];n!=Nt.empty;n=n.nextLayer)e=new Nt(n.chunkPos,n.chunk,e,Math.max(n.maxPoint,e.maxPoint));return e}}Nt.empty=new Nt([],[],null,-1),Nt.empty.nextLayer=Nt.empty;class Mt{finishChunk(t){this.chunks.push(new Dt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new Mt)).add(t,e,i)}addInner(t,e,i){let n=t-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner(Nt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Nt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Rt(t,e,i){let n=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&n.set(e.chunk[t],e.chunkPos[t]);let o=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=n.get(t.chunk[e]);null==s||(i?i.mapPos(s):s)!=t.chunkPos[e]||(null==i?void 0:i.touchesRange(s,s+t.chunk[e].length))||o.add(t.chunk[e])}return o}class Pt{constructor(t,e,i,n=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Lt{constructor(t){this.heap=t}static from(t,e=null,i=-1){let n=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&n.push(new Pt(s,e,i,o));return 1==n.length?n[0]:new Lt(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)Bt(this.heap,t);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)Bt(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Bt(this.heap,0)}}}function Bt(t,e){for(let i=t[e];;){let n=1+(e<<1);if(n>=t.length)break;let o=t[n];if(n+1<t.length&&o.compare(t[n+1])>=0&&(o=t[n+1],n++),i.compare(o)<0)break;t[n]=i,t[e]=o,e=n}}class Ft{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Lt.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Vt(this.active,t),Vt(this.activeTo,t),Vt(this.activeRank,t),this.minActive=Wt(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:n,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||n-this.activeTo[e])>0;)e++;Zt(this.active,e,i),Zt(this.activeTo,e,n),Zt(this.activeRank,e,o),t&&Zt(t,e,this.cursor.from),this.minActive=Wt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&Vt(i,n)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){this.openStart=0;for(let e=i.length-1;e>=0&&i[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function _t(t,e,i,n,o,s){t.goto(e),i.goto(n);let r=n+o,g=n,A=n-e;for(;;){let e=t.to+A-i.to,n=e||t.endSide-i.endSide,o=n<0?t.to+A:i.to,a=Math.min(o,r);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&zt(t.activeForPoint(t.to),i.activeForPoint(i.to))||s.comparePoint(g,a,t.point,i.point):a>g&&!zt(t.active,i.active)&&s.compareRange(g,a,t.active,i.active),o>r)break;(e||t.openEnd!=i.openEnd)&&s.boundChange&&s.boundChange(o),g=o,n<=0&&t.next(),n>=0&&i.next()}}function zt(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function Vt(t,e){for(let i=e,n=t.length-1;i<n;i++)t[i]=t[i+1];t.pop()}function Zt(t,e,i){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=i}function Wt(t,e){let i=-1,n=1e9;for(let o=0;o<e.length;o++)(e[o]-n||t[o].endSide-t[i].endSide)<0&&(i=o,n=e[o]);return i}function Gt(t,e,i=t.length){let n=0;for(let o=0;o<i&&o<t.length;)9==t.charCodeAt(o)?(n+=e-n%e,o++):(n++,o=x(t,o));return n}function jt(t,e,i,n){for(let n=0,o=0;;){if(o>=e)return n;if(n==t.length)break;o+=9==t.charCodeAt(n)?i-o%i:1,n=x(t,n)}return!0===n?-1:t.length}const Ht="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),Yt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Kt{constructor(t,e){this.rules=[];let{finish:i}=e||{};function n(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function o(t,e,s,r){let g=[],A=/^@(\w+)\b/.exec(t[0]),a=A&&"keyframes"==A[1];if(A&&null==e)return s.push(t[0]+";");for(let i in e){let r=e[i];if(/&/.test(i))o(i.split(/,\s*/).map(e=>t.map(t=>e.replace(/&/,t))).reduce((t,e)=>t.concat(e)),r,s);else if(r&&"object"==typeof r){if(!A)throw new RangeError("The value of a property ("+i+") should be a primitive value.");o(n(i),r,g,a)}else null!=r&&g.push(i.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+r+";")}(g.length||a)&&s.push((!i||A||r?t:t.map(i)).join(", ")+" {"+g.join(" ")+"}")}for(let e in t)o(n(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=Ut[Ht]||1;return Ut[Ht]=t+1,"ͼ"+t.toString(36)}static mount(t,e,i){let n=t[Yt],o=i&&i.nonce;n?o&&n.setNonce(o):n=new Xt(t,o),n.mount(Array.isArray(e)?e:[e],t)}}let Qt=new Map;class Xt{constructor(t,e){let i=t.ownerDocument||t,n=i.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let e=Qt.get(i);if(e)return t[Yt]=e;this.sheet=new n.CSSStyleSheet,Qt.set(i,this)}else this.styleTag=i.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[Yt]=this}mount(t,e){let i=this.sheet,n=0,o=0;for(let e=0;e<t.length;e++){let s=t[e],r=this.modules.indexOf(s);if(r<o&&r>-1&&(this.modules.splice(r,1),o--,r=-1),-1==r){if(this.modules.splice(o++,0,s),i)for(let t=0;t<s.rules.length;t++)i.insertRule(s.rules[t],n++)}else{for(;o<r;)n+=this.modules[o++].rules.length;n+=s.rules.length,o++}}if(i)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let i=e.head||e;this.styleTag.parentNode!=i&&i.insertBefore(this.styleTag,i.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var qt={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$t="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),te="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ee=0;ee<10;ee++)qt[48+ee]=qt[96+ee]=String(ee);for(ee=1;ee<=24;ee++)qt[ee+111]="F"+ee;for(ee=65;ee<=90;ee++)qt[ee]=String.fromCharCode(ee+32),Jt[ee]=String.fromCharCode(ee);for(var ie in qt)Jt.hasOwnProperty(ie)||(Jt[ie]=qt[ie]);function ne(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function oe(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function se(t,e){if(!e.anchorNode)return!1;try{return oe(t,e.anchorNode)}catch(t){return!1}}function re(t){return 3==t.nodeType?me(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function ge(t,e,i,n){return!!i&&(Ce(t,e,i,n,-1)||Ce(t,e,i,n,1))}function Ae(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function ae(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Ce(t,e,i,n,o){for(;;){if(t==i&&e==n)return!0;if(e==(o<0?0:Ie(t))){if("DIV"==t.nodeName)return!1;let i=t.parentNode;if(!i||1!=i.nodeType)return!1;e=Ae(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(o<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=o<0?Ie(t):0}}}function Ie(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function le(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function he(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function ce(t,e){let i=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.width-t.offsetWidth)<1)&&(i=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:i,scaleY:n}}class de{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:i}=t;this.set(e,Math.min(t.anchorOffset,e?Ie(e):0),i,Math.min(t.focusOffset,i?Ie(i):0))}set(t,e,i,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=n}}let ue,pe=null;function fe(t){if(t.setActive)return t.setActive();if(pe)return t.focus(pe);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(null==pe?{get preventScroll(){return pe={preventScroll:!0},!0}}:void 0),!pe){pe=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],o=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=o&&(i.scrollLeft=o)}}}function me(t,e,i=e){let n=ue||(ue=document.createRange());return n.setEnd(t,i),n.setStart(t,e),n}function ve(t,e,i,n){let o={key:e,code:e,keyCode:i,which:i,cancelable:!0};n&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=n);let s=new KeyboardEvent("keydown",o);s.synthetic=!0,t.dispatchEvent(s);let r=new KeyboardEvent("keyup",o);return r.synthetic=!0,t.dispatchEvent(r),s.defaultPrevented||r.defaultPrevented}function be(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function ye(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function we(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n>0)return{node:i,offset:n};if(1==i.nodeType&&n>0){if("false"==i.contentEditable)return null;i=i.childNodes[n-1],n=Ie(i)}else{if(!i.parentNode||ae(i))return null;n=Ae(i),i=i.parentNode}}}function xe(t,e){for(let i=t,n=e;;){if(3==i.nodeType&&n<i.nodeValue.length)return{node:i,offset:n};if(1==i.nodeType&&n<i.childNodes.length){if("false"==i.contentEditable)return null;i=i.childNodes[n],n=0}else{if(!i.parentNode||ae(i))return null;n=Ae(i)+1,i=i.parentNode}}}class Ee{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Ee(t.parentNode,Ae(t),e)}static after(t,e){return new Ee(t.parentNode,Ae(t)+1,e)}}const ke=[];class Te{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let i,n=this.dom,o=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(i=o?o.nextSibling:n.firstChild)){let t=Te.get(i);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(t,e),s.flags&=-8}if(i=o?o.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&i!=s.dom&&(e.written=!0),s.dom.parentNode==n)for(;i&&i!=s.dom;)i=Se(i);else n.insertBefore(s.dom,i);o=s.dom}for(i=o?o.nextSibling:n.firstChild,i&&e&&e.node==n&&(e.written=!0);i;)i=Se(i)}else if(1&this.flags)for(let i of this.children)7&i.flags&&(i.sync(t,e),i.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let n=0==Ie(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}i=n<0?t:t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Te.get(i);)i=i.nextSibling;if(!i)return this.length;for(let t=0,e=0;;t++){let n=this.children[t];if(n.dom==i)return e;e+=n.length+n.breakAfter}}domBoundsAround(t,e,i=0){let n=-1,o=-1,s=-1,r=-1;for(let g=0,A=i,a=i;g<this.children.length;g++){let i=this.children[g],C=A+i.length;if(A<t&&C>e)return i.domBoundsAround(t,e,A);if(C>=t&&-1==n&&(n=g,o=A),A>e&&i.dom.parentNode==this.dom){s=g,r=a;break}a=C,A=C+i.breakAfter}return{from:o,to:r<0?i+this.length:r,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=ke){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&i.indexOf(t)<0&&t.destroy()}i.length<250?this.children.splice(t,e-t,...i):this.children=[].concat(this.children.slice(0,t),i,this.children.slice(e));for(let t=0;t<i.length;t++)i[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Oe(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,n,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function Se(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}Te.prototype.breakAfter=0;class Oe{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function De(t,e,i,n,o,s,r,g,A){let{children:a}=t,C=a.length?a[e]:null,I=s.length?s[s.length-1]:null,l=I?I.breakAfter:r;if(!(e==n&&C&&!r&&!l&&s.length<2&&C.merge(i,o,s.length?I:null,0==i,g,A))){if(n<a.length){let t=a[n];t&&(o<t.length||t.breakAfter&&(null==I?void 0:I.breakAfter))?(e==n&&(t=t.split(o),o=0),!l&&I&&t.merge(0,o,I,!0,0,A)?s[s.length-1]=t:((o||t.children.length&&!t.children[0].length)&&t.merge(0,o,null,!1,0,A),s.push(t))):(null==t?void 0:t.breakAfter)&&(I?I.breakAfter=1:r=1),n++}for(C&&(C.breakAfter=r,i>0&&(!r&&s.length&&C.merge(i,C.length,s[0],!1,g,0)?C.breakAfter=s.shift().breakAfter:(i<C.length||C.children.length&&0==C.children[C.children.length-1].length)&&C.merge(i,C.length,null,!1,g,0),e++));e<n&&s.length;)if(a[n-1].become(s[s.length-1]))n--,s.pop(),A=s.length?0:g;else{if(!a[e].become(s[0]))break;e++,s.shift(),g=s.length?0:A}!s.length&&e&&n<a.length&&!a[e-1].breakAfter&&a[n].merge(0,0,a[e-1],!1,g,A)&&e--,(e<n||s.length)&&t.replaceChildren(e,n,s)}}function Ne(t,e,i,n,o,s){let r=t.childCursor(),{i:g,off:A}=r.findPos(i,1),{i:a,off:C}=r.findPos(e,-1),I=e-i;for(let t of n)I+=t.length;t.length+=I,De(t,a,C,g,A,n,0,o,s)}let Me="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Re="undefined"!=typeof document?document:{documentElement:{style:{}}};const Pe=/Edge\/(\d+)/.exec(Me.userAgent),Le=/MSIE \d/.test(Me.userAgent),Be=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Me.userAgent),Fe=!!(Le||Be||Pe),_e=!Fe&&/gecko\/(\d+)/i.test(Me.userAgent),ze=!Fe&&/Chrome\/(\d+)/.exec(Me.userAgent),Ve="webkitFontSmoothing"in Re.documentElement.style,Ze=!Fe&&/Apple Computer/.test(Me.vendor),We=Ze&&(/Mobile\/\w+/.test(Me.userAgent)||Me.maxTouchPoints>2);var Ge={mac:We||/Mac/.test(Me.platform),windows:/Win/.test(Me.platform),linux:/Linux|X11/.test(Me.platform),ie:Fe,ie_version:Le?Re.documentMode||6:Be?+Be[1]:Pe?+Pe[1]:0,gecko:_e,gecko_version:_e?+(/Firefox\/(\d+)/.exec(Me.userAgent)||[0,0])[1]:0,chrome:!!ze,chrome_version:ze?+ze[1]:0,ios:We,android:/Android\b/.test(Me.userAgent),webkit:Ve,safari:Ze,webkit_version:Ve?+(/\bAppleWebKit\/(\d+)/.exec(Me.userAgent)||[0,0])[1]:0,tabSize:null!=Re.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class je extends Te{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,i){return!(8&this.flags||i&&(!(i instanceof je)||this.length-(e-t)+i.length>256||8&i.flags)||(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new je(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Ee(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,i){let n=t.nodeValue.length;e>n&&(e=n);let o=e,s=e,r=0;0==e&&i<0||e==n&&i>=0?Ge.chrome||Ge.gecko||(e?(o--,r=1):s<n&&(s++,r=-1)):i<0?o--:s<n&&s++;let g=me(t,o,s).getClientRects();if(!g.length)return null;let A=g[(r?r<0:i>=0)?0:g.length-1];return Ge.safari&&!r&&0==A.width&&(A=Array.prototype.find.call(g,t=>t.width)||A),r?le(A,r<0):A||null}(this.dom,t,e)}}class He extends Te{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let t of e)t.setParent(this)}setAttrs(t){if(be(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,n,o,s){return!(i&&(!(i instanceof He&&i.mark.eq(this.mark))||t&&o<=0||e<this.length&&s<=0)||(Ne(this,t,e,i?i.children.slice():[],o-1,s-1),this.markDirty(),0))}split(t){let e=[],i=0,n=-1,o=0;for(let s of this.children){let r=i+s.length;r>t&&e.push(i<t?s.split(t-i):s),n<0&&i>=t&&(n=o),i=r,o++}let s=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new He(this.mark,e,s)}domAtPos(t){return Ke(this,t)}coordsAt(t,e){return Xe(this,t,e)}}class Ye extends Te{static create(t,e,i){return new Ye(t,e,i)}constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}split(t){let e=Ye.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,i,n,o,s){return!(i&&(!(i instanceof Ye&&this.widget.compare(i.widget))||t>0&&o<=0||e<this.length&&s<=0)||(this.length=t+(i?i.length:0)+(this.length-e),0))}become(t){return t instanceof Ye&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return c.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):c.empty}domAtPos(t){return(this.length?0==t:this.side>0)?Ee.before(this.dom):Ee.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let n=this.dom.getClientRects(),o=null;if(!n.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?n.length-1:0;o=n[e],!(t>0?0==e:e==n.length-1||o.top<o.bottom);e+=s?-1:1);return le(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ue extends Te{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Ue&&t.side==this.side}split(){return new Ue(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ee.before(this.dom):Ee.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return c.empty}get isHidden(){return!0}}function Ke(t,e){let i=t.dom,{children:n}=t,o=0;for(let t=0;o<n.length;o++){let s=n[o],r=t+s.length;if(!(r==t&&s.getSide()<=0)){if(e>t&&e<r&&s.dom.parentNode==i)return s.domAtPos(e-t);if(e<=t)break;t=r}}for(let t=o;t>0;t--){let e=n[t-1];if(e.dom.parentNode==i)return e.domAtPos(e.length)}for(let t=o;t<n.length;t++){let e=n[t];if(e.dom.parentNode==i)return e.domAtPos(0)}return new Ee(i,0)}function Qe(t,e,i){let n,{children:o}=t;i>0&&e instanceof He&&o.length&&(n=o[o.length-1])instanceof He&&n.mark.eq(e.mark)?Qe(n,e.children[0],i-1):(o.push(e),e.setParent(t)),t.length+=e.length}function Xe(t,e,i){let n=null,o=-1,s=null,r=-1;!function t(e,g){for(let A=0,a=0;A<e.children.length&&a<=g;A++){let C=e.children[A],I=a+C.length;I>=g&&(C.children.length?t(C,g-a):(!s||s.isHidden&&(i>0||qe(s,C)))&&(I>g||a==I&&C.getSide()>0)?(s=C,r=g-a):(a<g||a==I&&C.getSide()<0&&!C.isHidden)&&(n=C,o=g-a)),a=I}}(t,e);let g=(i<0?n:s)||n||s;return g?g.coordsAt(Math.max(0,g==n?o:r),i):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=re(e);return i[i.length-1]||null}(t)}function qe(t,e){let i=t.coordsAt(0,1),n=e.coordsAt(0,1);return i&&n&&n.top<i.bottom}function Je(t,e){for(let i in t)"class"==i&&e.class?e.class+=" "+t.class:"style"==i&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}je.prototype.children=Ye.prototype.children=Ue.prototype.children=ke;const $e=Object.create(null);function ti(t,e,i){if(t==e)return!0;t||(t=$e),e||(e=$e);let n=Object.keys(t),o=Object.keys(e);if(n.length-(i&&n.indexOf(i)>-1?1:0)!=o.length-(i&&o.indexOf(i)>-1?1:0))return!1;for(let s of n)if(s!=i&&(-1==o.indexOf(s)||t[s]!==e[s]))return!1;return!0}function ei(t,e,i){let n=!1;if(e)for(let o in e)i&&o in i||(n=!0,"style"==o?t.style.cssText="":t.removeAttribute(o));if(i)for(let o in i)e&&e[o]==i[o]||(n=!0,"style"==o?t.style.cssText=i[o]:t.setAttribute(o,i[o]));return n}function ii(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let n=t.attributes[i];e[n.name]=n.value}return e}class ni{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var oi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(oi||(oi={}));class si extends Tt{constructor(t,e,i,n){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(t){return new ri(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),i=!!t.block;return e+=i&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Ai(t,e,e,i,t.widget||null,!1)}static replace(t){let e,i,n=!!t.block;if(t.isBlockGap)e=-5e8,i=4e8;else{let{start:o,end:s}=ai(t,n);e=(o?n?-3e8:-1:5e8)-1,i=1+(s?n?2e8:1:-6e8)}return new Ai(t,e,i,n,t.widget||null,!0)}static line(t){return new gi(t)}static set(t,e=!1){return Nt.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}si.none=Nt.empty;class ri extends si{constructor(t){let{start:e,end:i}=ai(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,i;return this==t||t instanceof ri&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(i=t.attrs)||void 0===i?void 0:i.class))&&ti(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}ri.prototype.point=!1;class gi extends si{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof gi&&this.spec.class==t.spec.class&&ti(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}gi.prototype.mapMode=O.TrackBefore,gi.prototype.point=!0;class Ai extends si{constructor(t,e,i,n,o,s){super(e,i,o,t),this.block=n,this.isReplace=s,this.mapMode=n?e<=0?O.TrackBefore:O.TrackAfter:O.TrackDel}get type(){return this.startSide!=this.endSide?oi.WidgetRange:this.startSide<=0?oi.WidgetBefore:oi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Ai&&((e=this.widget)==(i=t.widget)||!!(e&&i&&e.compare(i)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,i}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function ai(t,e=!1){let{inclusiveStart:i,inclusiveEnd:n}=t;return null==i&&(i=t.inclusive),null==n&&(n=t.inclusive),{start:null!=i?i:e,end:null!=n?n:e}}function Ci(t,e,i,n=0){let o=i.length-1;o>=0&&i[o]+n>=t?i[o]=Math.max(i[o],e):i.push(t,e)}Ai.prototype.point=!0;class Ii extends Te{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,n,o,s){if(i){if(!(i instanceof Ii))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),Ne(this,t,e,i?i.children.slice():[],o,s),!0}split(t){let e=new Ii;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i,off:n}=this.childPos(t);n&&(e.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let t=i;t<this.children.length;t++)e.append(this.children[t],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){ti(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){Qe(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=Je(e,this.attrs||{})),i&&(this.attrs=Je({class:i},this.attrs||{}))}domAtPos(t){return Ke(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var i;this.dom?4&this.flags&&(be(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ei(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let n=this.dom.lastChild;for(;n&&Te.get(n)instanceof He;)n=n.lastChild;if(!(n&&this.length&&("BR"==n.nodeName||0!=(null===(i=Te.get(n))||void 0===i?void 0:i.isEditable)||Ge.ios&&this.children.some(t=>t instanceof je)))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let i of this.children){if(!(i instanceof je)||/[^ -~]/.test(i.text))return null;let n=re(i.dom);if(1!=n.length)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let i=Xe(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=i.bottom-i.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let n=(e-t.textHeight)/2;return{top:i.top+n,bottom:i.bottom-n,left:i.left,right:i.left}}}return i}become(t){return t instanceof Ii&&0==this.children.length&&0==t.children.length&&ti(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let i=0,n=0;i<t.children.length;i++){let o=t.children[i],s=n+o.length;if(s>=e){if(o instanceof Ii)return o;if(s>e)break}n=s+o.breakAfter}return null}}class li extends Te{constructor(t,e,i){super(),this.widget=t,this.length=e,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,n,o,s){return!(i&&(!(i instanceof li&&this.widget.compare(i.widget))||t>0&&o<=0||e<this.length&&s<=0)||(this.length=t+(i?i.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?Ee.before(this.dom):Ee.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new li(this.widget,e,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return ke}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):c.empty}domBoundsAround(){return null}become(t){return t instanceof li&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof hi?null:le(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:i}=this.deco;return e!=i&&(t<0?e<0:i>0)}}class hi extends ni{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ci{constructor(t,e,i,n){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof li&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ii),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(di(new Ue(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof li||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:i,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(i){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(di(new je(this.text.slice(this.textOff,this.textOff+n)),e),i),this.atCursorPos=!0,this.textOff+=n,t-=n,i=0}}span(t,e,i,n){this.buildText(e-t,i,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,i,n,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Ai){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let r=e-t;if(i instanceof Ai)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new li(i.widget||ui.block,r,i));else{let s=Ye.create(i.widget||ui.inline,r,r?0:i.startSide),g=this.atCursorPos&&!s.isEditable&&o<=n.length&&(t<e||i.startSide>0),A=!s.isEditable&&(t<e||o>n.length||i.startSide<=0),a=this.getLine();2!=this.pendingBuffer||g||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),g&&(a.append(di(new Ue(1),n),o),o=n.length+Math.max(0,o-n.length)),a.append(di(s,n),o),this.atCursorPos=A,this.pendingBuffer=A?t<e||o>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);r&&(this.textOff+r<=this.text.length?this.textOff+=r:(this.skip+=r-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,i,n,o){let s=new ci(t,e,i,o);return s.openEnd=Nt.spans(n,e,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function di(t,e){for(let i of e)t=new He(i,[t],t.length);return t}class ui extends ni{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ui.inline=new ui("span"),ui.block=new ui("div");var pi=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(pi||(pi={}));const fi=pi.LTR,mi=pi.RTL;function vi(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const bi=vi("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),yi=vi("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),wi=Object.create(null),xi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);wi[e]=i,wi[i]=-e}function Ei(t){return t<=247?bi[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?yi[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const ki=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ti{get dir(){return this.level%2?mi:fi}constructor(t,e,i){this.from=t,this.to=e,this.level=i}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,i,n){let o=-1;for(let s=0;s<t.length;s++){let r=t[s];if(r.from<=e&&r.to>=e){if(r.level==i)return s;(o<0||(0!=n?n<0?r.from<e:r.to>e:t[o].level>r.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function Si(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],o=e[i];if(n.from!=o.from||n.to!=o.to||n.direction!=o.direction||!Si(n.inner,o.inner))return!1}return!0}const Oi=[];function Di(t,e,i,n,o,s,r){let g=n%2?2:1;if(n%2==o%2)for(let A=e,a=0;A<i;){let e=!0,C=!1;if(a==s.length||A<s[a].from){let t=Oi[A];t!=g&&(e=!1,C=16==t)}let I=e||1!=g?null:[],l=e?n:n+1,h=A;t:for(;;)if(a<s.length&&h==s[a].from){if(C)break t;let c=s[a];if(!e)for(let t=c.to,e=a+1;;){if(t==i)break t;if(!(e<s.length&&s[e].from==t)){if(Oi[t]==g)break t;break}t=s[e++].to}a++,I?I.push(c):(c.from>A&&r.push(new Ti(A,c.from,l)),Ni(t,c.direction==fi!=!(l%2)?n+1:n,o,c.inner,c.from,c.to,r),A=c.to),h=c.to}else{if(h==i||(e?Oi[h]!=g:Oi[h]==g))break;h++}I?Di(t,A,h,n+1,o,I,r):A<h&&r.push(new Ti(A,h,l)),A=h}else for(let A=i,a=s.length;A>e;){let i=!0,C=!1;if(!a||A>s[a-1].to){let t=Oi[A-1];t!=g&&(i=!1,C=16==t)}let I=i||1!=g?null:[],l=i?n:n+1,h=A;t:for(;;)if(a&&h==s[a-1].to){if(C)break t;let c=s[--a];if(!i)for(let t=c.from,i=a;;){if(t==e)break t;if(!i||s[i-1].to!=t){if(Oi[t-1]==g)break t;break}t=s[--i].from}I?I.push(c):(c.to<A&&r.push(new Ti(c.to,A,l)),Ni(t,c.direction==fi!=!(l%2)?n+1:n,o,c.inner,c.from,c.to,r),A=c.from),h=c.from}else{if(h==e||(i?Oi[h-1]!=g:Oi[h-1]==g))break;h--}I?Di(t,h,A,n+1,o,I,r):h<A&&r.push(new Ti(h,A,l)),A=h}}function Ni(t,e,i,n,o,s,r){let g=e%2?2:1;!function(t,e,i,n,o){for(let s=0;s<=n.length;s++){let r=s?n[s-1].to:e,g=s<n.length?n[s].from:i,A=s?256:o;for(let e=r,i=A,n=A;e<g;e++){let o=Ei(t.charCodeAt(e));512==o?o=i:8==o&&4==n&&(o=16),Oi[e]=4==o?2:o,7&o&&(n=o),i=o}for(let t=r,e=A,n=A;t<g;t++){let o=Oi[t];if(128==o)t<g-1&&e==Oi[t+1]&&24&e?o=Oi[t]=e:Oi[t]=256;else if(64==o){let o=t+1;for(;o<g&&64==Oi[o];)o++;let s=t&&8==e||o<i&&8==Oi[o]?1==n?1:8:256;for(let e=t;e<o;e++)Oi[e]=s;t=o-1}else 8==o&&1==n&&(Oi[t]=1);e=o,7&o&&(n=o)}}}(t,o,s,n,g),function(t,e,i,n,o){let s=1==o?2:1;for(let r=0,g=0,A=0;r<=n.length;r++){let a=r?n[r-1].to:e,C=r<n.length?n[r].from:i;for(let e,i,n,r=a;r<C;r++)if(i=wi[e=t.charCodeAt(r)])if(i<0){for(let t=g-3;t>=0;t-=3)if(xi[t+1]==-i){let e=xi[t+2],i=2&e?o:4&e?1&e?s:o:0;i&&(Oi[r]=Oi[xi[t]]=i),g=t;break}}else{if(189==xi.length)break;xi[g++]=r,xi[g++]=e,xi[g++]=A}else if(2==(n=Oi[r])||1==n){let t=n==o;A=t?0:1;for(let e=g-3;e>=0;e-=3){let i=xi[e+2];if(2&i)break;if(t)xi[e+2]|=2;else{if(4&i)break;xi[e+2]|=4}}}}}(t,o,s,n,g),function(t,e,i,n){for(let o=0,s=n;o<=i.length;o++){let r=o?i[o-1].to:t,g=o<i.length?i[o].from:e;for(let A=r;A<g;){let r=Oi[A];if(256==r){let r=A+1;for(;;)if(r==g){if(o==i.length)break;r=i[o++].to,g=o<i.length?i[o].from:e}else{if(256!=Oi[r])break;r++}let a=1==s,C=a==(1==(r<e?Oi[r]:n))?a?1:2:n;for(let e=r,n=o,s=n?i[n-1].to:t;e>A;)e==s&&(e=i[--n].from,s=n?i[n-1].to:t),Oi[--e]=C;A=r}else s=r,A++}}}(o,s,n,g),Di(t,o,s,e,i,n,r)}function Mi(t){return[new Ti(0,t,0)]}let Ri="";function Pi(t,e,i,n,o){var s;let r=n.head-t.from,g=Ti.find(e,r,null!==(s=n.bidiLevel)&&void 0!==s?s:-1,n.assoc),A=e[g],a=A.side(o,i);if(r==a){let t=g+=o?1:-1;if(t<0||t>=e.length)return null;A=e[g=t],r=A.side(!o,i),a=A.side(o,i)}let C=x(t.text,r,A.forward(o,i));(C<A.from||C>A.to)&&(C=a),Ri=t.text.slice(Math.min(r,C),Math.max(r,C));let I=g==(o?e.length-1:0)?null:e[g+(o?1:-1)];return I&&C==a&&I.level+(o?0:1)<A.level?z.cursor(I.side(!o,i)+t.from,I.forward(o,i)?1:-1,I.level):z.cursor(C+t.from,A.forward(o,i)?-1:1,A.level)}function Li(t,e,i){for(let n=e;n<i;n++){let e=Ei(t.charCodeAt(n));if(1==e)return fi;if(2==e||4==e)return mi}return fi}const Bi=W.define(),Fi=W.define(),_i=W.define(),zi=W.define(),Vi=W.define(),Zi=W.define(),Wi=W.define(),Gi=W.define(),ji=W.define(),Hi=W.define({combine:t=>t.some(t=>t)}),Yi=W.define({combine:t=>t.some(t=>t)}),Ui=W.define();class Ki{constructor(t,e="nearest",i="nearest",n=5,o=5,s=!1){this.range=t,this.y=e,this.x=i,this.yMargin=n,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new Ki(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Ki(z.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Qi=ct.define({map:(t,e)=>t.map(e)}),Xi=ct.define();function qi(t,e,i){let n=t.facet(zi);n.length?n[0](e):window.onerror&&window.onerror(String(e),i,void 0,void 0,e)||(i?console.error(i+":",e):console.error(e))}const Ji=W.define({combine:t=>!t.length||t[0]});let $i=0;const tn=W.define({combine:t=>t.filter((e,i)=>{for(let n=0;n<i;n++)if(t[n].plugin==e.plugin)return!1;return!0})});class en{constructor(t,e,i,n,o){this.id=t,this.create=e,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(tn.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(tn.of({plugin:this,arg:t}))}static define(t,e){const{eventHandlers:i,eventObservers:n,provide:o,decorations:s}=e||{};return new en($i++,t,i,n,t=>{let e=[];return s&&e.push(rn.of(e=>{let i=e.plugin(t);return i?s(i):si.none})),o&&e.push(o(t)),e})}static fromClass(t,e){return en.define((e,i)=>new t(e,i),e)}}class nn{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(qi(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(e){qi(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){qi(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const on=W.define(),sn=W.define(),rn=W.define(),gn=W.define(),An=W.define(),an=W.define();function Cn(t,e){let i=t.state.facet(an);if(!i.length)return i;let n=i.map(e=>e instanceof Function?e(t):e),o=[];return Nt.spans(n,e.from,e.to,{point(){},span(t,i,n,s){let r=t-e.from,g=i-e.from,A=o;for(let t=n.length-1;t>=0;t--,s--){let i,o=n[t].spec.bidiIsolate;if(null==o&&(o=Li(e.text,r,g)),s>0&&A.length&&(i=A[A.length-1]).to==r&&i.direction==o)i.to=g,A=i.inner;else{let t={from:r,to:g,direction:o,inner:[]};A.push(t),A=t.inner}}}}),o}const In=W.define();function ln(t){let e=0,i=0,n=0,o=0;for(let s of t.state.facet(In)){let r=s(t);r&&(null!=r.left&&(e=Math.max(e,r.left)),null!=r.right&&(i=Math.max(i,r.right)),null!=r.top&&(n=Math.max(n,r.top)),null!=r.bottom&&(o=Math.max(o,r.bottom)))}return{left:e,right:i,top:n,bottom:o}}const hn=W.define();class cn{constructor(t,e,i,n){this.fromA=t,this.toA=e,this.fromB=i,this.toB=n}join(t){return new cn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(0==e.length)return t;let i=[];for(let n=0,o=0,s=0,r=0;;n++){let g=n==t.length?null:t[n],A=s-r,a=g?g.fromB:1e9;for(;o<e.length&&e[o]<a;){let t=e[o],n=e[o+1],s=Math.max(r,t),g=Math.min(a,n);if(s<=g&&new cn(s+A,g+A,s,g).addToSet(i),n>a)break;o+=2}if(!g)return i;new cn(g.fromA,g.toA,g.fromB,g.toB).addToSet(i),s=g.toA,r=g.toB}}}class dn{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=N.empty(this.startState.doc.length);for(let t of i)this.changes=this.changes.compose(t.changes);let n=[];this.changes.iterChangedRanges((t,e,i,o)=>n.push(new cn(t,e,i,o))),this.changedRanges=n}static create(t,e,i){return new dn(t,e,i)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class un extends Te{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=si.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Ii],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new cn(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let i=t.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?n=this.domChanged.newSel.head:function(t,e){let i=!1;return e&&t.iterChangedRanges((t,n)=>{t<e.to&&n>e.from&&(i=!0)}),i}(t.changes,this.hasComposition)||t.selectionSet||(n=t.state.selection.main.head));let o=n>-1?function(t,e,i){let n=pn(t,i);if(!n)return null;let{node:o,from:s,to:r}=n,g=o.nodeValue;if(/[\n\r]/.test(g))return null;if(t.state.doc.sliceString(n.from,n.to)!=g)return null;let A=e.invertedDesc,a=new cn(A.mapPos(s),A.mapPos(r),s,r),C=[];for(let e=o.parentNode;;e=e.parentNode){let i=Te.get(e);if(i instanceof He)C.push({node:e,deco:i.mark});else{if(i instanceof Ii||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:a,text:o,marks:C,line:e};if(e==t.contentDOM)return null;C.push({node:e,deco:new ri({inclusive:!0,attributes:ii(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:n}=this.hasComposition;i=new cn(e,n,t.changes.mapPos(e,-1),t.changes.mapPos(n,1)).addToSet(i.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Ge.ie||Ge.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,i){let n=new fn;return Nt.compare(t,e,i,n),n.changes}(this.decorations,this.updateDeco(),t.changes);return i=cn.extendWithRanges(i,s),!!(7&this.flags||0!=i.length)&&(this.updateInner(i,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=Ge.chrome||Ge.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(t=>t.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof li&&t.widget instanceof hi&&o.push(t.dom);n.updateGaps(o)}updateChildren(t,e,i){let n=i?i.range.addToSet(t.slice()):t,o=this.childCursor(e);for(let t=n.length-1;;t--){let e=t>=0?n[t]:null;if(!e)break;let s,r,g,A,{fromA:a,toA:C,fromB:I,toB:l}=e;if(i&&i.range.fromB<l&&i.range.toB>I){let t=ci.build(this.view.state.doc,I,i.range.fromB,this.decorations,this.dynamicDecorationMap),e=ci.build(this.view.state.doc,i.range.toB,l,this.decorations,this.dynamicDecorationMap);r=t.breakAtStart,g=t.openStart,A=e.openEnd;let n=this.compositionView(i);e.breakAtStart?n.breakAfter=1:e.content.length&&n.merge(n.length,n.length,e.content[0],!1,e.openStart,0)&&(n.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&n.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(n).concat(e.content)}else({content:s,breakAtStart:r,openStart:g,openEnd:A}=ci.build(this.view.state.doc,I,l,this.decorations,this.dynamicDecorationMap));let{i:h,off:c}=o.findPos(C,1),{i:d,off:u}=o.findPos(a,-1);De(this,d,u,h,c,s,r,g,A)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(Xi)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new je(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new He(i,[e],e.length);let i=new Ii;return i.append(e,0),i}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some(t=>7&t.flags)?1:0),this.markedForComposition.add(e);let i=Te.get(t);i&&i!=e&&(i.dom=null),e.setDOM(t)},i=this.childPos(t.range.fromB,1),n=this.children[i.i];e(t.line,n);for(let o=t.marks.length-1;o>=-1;o--)i=n.childPos(i.off,1),n=n.children[i.i],e(o>=0?t.marks[o].node:t.text,n)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,o=!n&&!(this.view.state.facet(Ji)||this.dom.tabIndex>-1)&&se(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||e||o))return;let s=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,g=this.moveToLine(this.domAtPos(r.anchor)),A=r.empty?g:this.moveToLine(this.domAtPos(r.head));if(Ge.gecko&&r.empty&&!this.hasComposition&&1==(a=g).node.nodeType&&a.node.firstChild&&(0==a.offset||"false"==a.node.childNodes[a.offset-1].contentEditable)&&(a.offset==a.node.childNodes.length||"false"==a.node.childNodes[a.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore(()=>g.node.insertBefore(t,g.node.childNodes[g.offset]||null)),g=A=new Ee(t,0),s=!0}var a;let C=this.view.observer.selectionRange;!s&&C.focusNode&&(ge(g.node,g.offset,C.anchorNode,C.anchorOffset)&&ge(A.node,A.offset,C.focusNode,C.focusOffset)||this.suppressWidgetCursorChange(C,r))||(this.view.observer.ignore(()=>{Ge.android&&Ge.chrome&&this.dom.contains(C.focusNode)&&function(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(1==i.nodeType&&"false"==i.contentEditable)return!0;return!1}(C.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=ne(this.view.root);if(t)if(r.empty){if(Ge.gecko){let t=(e=g.node,n=g.offset,1!=e.nodeType?0:(n&&"false"==e.childNodes[n-1].contentEditable?1:0)|(n<e.childNodes.length&&"false"==e.childNodes[n].contentEditable?2:0));if(t&&3!=t){let e=(1==t?we:xe)(g.node,g.offset);e&&(g=new Ee(e.node,e.offset))}}t.collapse(g.node,g.offset),null!=r.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=r.bidiLevel)}else if(t.extend){t.collapse(g.node,g.offset);try{t.extend(A.node,A.offset)}catch(t){}}else{let e=document.createRange();r.anchor>r.head&&([g,A]=[A,g]),e.setEnd(A.node,A.offset),e.setStart(g.node,g.offset),t.removeAllRanges(),t.addRange(e)}var e,n;o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(g,A)),this.impreciseAnchor=g.precise?null:new Ee(C.anchorNode,C.anchorOffset),this.impreciseHead=A.precise?null:new Ee(C.focusNode,C.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&ge(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,i=ne(t.root),{anchorNode:n,anchorOffset:o}=t.observer.selectionRange;if(!(i&&e.empty&&e.assoc&&i.modify))return;let s=Ii.find(this,e.head);if(!s)return;let r=s.posAtStart;if(e.head==r||e.head==r+s.length)return;let g=this.coordsAt(e.head,-1),A=this.coordsAt(e.head,1);if(!g||!A||g.bottom>A.top)return;let a=this.domAtPos(e.head+e.assoc);i.collapse(a.node,a.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let C=t.observer.selectionRange;t.docView.posFromDOM(C.anchorNode,C.anchorOffset)!=e.from&&i.collapse(n,o)}moveToLine(t){let e,i=this.dom;if(t.node!=i)return t;for(let n=t.offset;!e&&n<i.childNodes.length;n++){let t=Te.get(i.childNodes[n]);t instanceof Ii&&(e=t.domAtPos(0))}for(let n=t.offset-1;!e&&n>=0;n--){let t=Te.get(i.childNodes[n]);t instanceof Ii&&(e=t.domAtPos(t.length))}return e?new Ee(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=Te.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(i<t.length||t instanceof Ii)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){let i=null,n=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let r=this.children[s],g=o-r.breakAfter,A=g-r.length;if(g<t)break;if(A<=t&&(A<t||r.covers(-1))&&(g>t||r.covers(1))&&(!i||r instanceof Ii&&!(i instanceof Ii&&e>=0)))i=r,n=A;else if(i&&A==t&&g==t&&r instanceof li&&Math.abs(e)<2){if(r.deco.startSide<0)break;s&&(i=null)}o=A}return i?i.coordsAt(t-n,e):null}coordsForChar(t){let{i:e,off:i}=this.childPos(t,1),n=this.children[e];if(!(n instanceof Ii))return null;for(;n.children.length;){let{i:t,off:e}=n.childPos(i,1);for(;;t++){if(t==n.children.length)return null;if((n=n.children[t]).length)break}i=e}if(!(n instanceof je))return null;let o=x(n.text,i);if(o==i)return null;let s=me(n.dom,i,o).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:i,to:n}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,r=-1,g=this.view.textDirection==pi.LTR;for(let t=0,A=0;A<this.children.length;A++){let a=this.children[A],C=t+a.length;if(C>n)break;if(t>=i){let i=a.dom.getBoundingClientRect();if(e.push(i.height),s){let e=a.dom.lastChild,n=e?re(e):[];if(n.length){let e=n[n.length-1],s=g?e.right-i.left:i.right-e.left;s>r&&(r=s,this.minWidth=o,this.minWidthFrom=t,this.minWidthTo=C)}}}t=C+a.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?pi.RTL:pi.LTR}measureTextSize(){for(let t of this.children)if(t instanceof Ii){let e=t.measureTextSize();if(e)return e}let t,e,i,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let o=re(n.firstChild)[0];t=n.getBoundingClientRect().height,e=o?o.width/27:7,i=o?o.height:t,n.remove()}),{lineHeight:t,charWidth:e,textHeight:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Oe(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,n=0;;n++){let o=n==e.viewports.length?null:e.viewports[n],s=o?o.from-1:this.length;if(s>i){let n=(e.lineBlockAt(s).bottom-e.lineBlockAt(i).top)/this.view.scaleY;t.push(si.replace({widget:new hi(n),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return si.set(t)}updateDeco(){let t=1,e=this.view.state.facet(rn).map(e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e),i=!1,n=this.view.state.facet(gn).map((t,e)=>{let n="function"==typeof t;return n&&(i=!0),n?t(this.view):t});for(n.length&&(this.dynamicDecorationMap[t++]=i,e.push(Nt.join(n))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(Ui))try{if(e(this.view,t.range,t))return!0}catch(t){qi(this.view.state,t,"scroll handler")}let e,{range:i}=t,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1);if(!n)return;!i.empty&&(e=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,e.left),top:Math.min(n.top,e.top),right:Math.max(n.right,e.right),bottom:Math.max(n.bottom,e.bottom)});let o=ln(this.view),s={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:r,offsetHeight:g}=this.view.scrollDOM;!function(t,e,i,n,o,s,r,g){let A=t.ownerDocument,a=A.defaultView||window;for(let C=t,I=!1;C&&!I;)if(1==C.nodeType){let t,l=C==A.body,h=1,c=1;if(l)t=he(a);else{if(/^(fixed|sticky)$/.test(getComputedStyle(C).position)&&(I=!0),C.scrollHeight<=C.clientHeight&&C.scrollWidth<=C.clientWidth){C=C.assignedSlot||C.parentNode;continue}let e=C.getBoundingClientRect();({scaleX:h,scaleY:c}=ce(C,e)),t={left:e.left,right:e.left+C.clientWidth*h,top:e.top,bottom:e.top+C.clientHeight*c}}let d=0,u=0;if("nearest"==o)e.top<t.top?(u=e.top-(t.top+r),i>0&&e.bottom>t.bottom+u&&(u=e.bottom-t.bottom+r)):e.bottom>t.bottom&&(u=e.bottom-t.bottom+r,i<0&&e.top-u<t.top&&(u=e.top-(t.top+r)));else{let n=e.bottom-e.top,s=t.bottom-t.top;u=("center"==o&&n<=s?e.top+n/2-s/2:"start"==o||"center"==o&&i<0?e.top-r:e.bottom-s+r)-t.top}if("nearest"==n?e.left<t.left?(d=e.left-(t.left+s),i>0&&e.right>t.right+d&&(d=e.right-t.right+s)):e.right>t.right&&(d=e.right-t.right+s,i<0&&e.left<t.left+d&&(d=e.left-(t.left+s))):d=("center"==n?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==n==g?e.left-s:e.right-(t.right-t.left)+s)-t.left,d||u)if(l)a.scrollBy(d,u);else{let t=0,i=0;if(u){let t=C.scrollTop;C.scrollTop+=u/c,i=(C.scrollTop-t)*c}if(d){let e=C.scrollLeft;C.scrollLeft+=d/h,t=(C.scrollLeft-e)*h}e={left:e.left-t,top:e.top-i,right:e.right-t,bottom:e.bottom-i},t&&Math.abs(t-d)<1&&(n="nearest"),i&&Math.abs(i-u)<1&&(o="nearest")}if(l)break;(e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)&&(e={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)}),C=C.assignedSlot||C.parentNode}else{if(11!=C.nodeType)break;C=C.host}}(this.view.scrollDOM,s,i.head<i.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,r),-r),Math.max(Math.min(t.yMargin,g),-g),this.view.textDirection==pi.LTR)}}function pn(t,e){let i=t.observer.selectionRange;if(!i.focusNode)return null;let n=we(i.focusNode,i.focusOffset),o=xe(i.focusNode,i.focusOffset),s=n||o;if(o&&n&&o.node!=n.node){let e=Te.get(o.node);if(!e||e instanceof je&&e.text!=o.node.nodeValue)s=o;else if(t.docView.lastCompositionAfterCursor){let t=Te.get(n.node);!t||t instanceof je&&t.text!=n.node.nodeValue||(s=o)}}if(t.docView.lastCompositionAfterCursor=s!=n,!s)return null;let r=e-s.offset;return{from:r,to:r+s.node.nodeValue.length,node:s.node}}let fn=class{constructor(){this.changes=[]}compareRange(t,e){Ci(t,e,this.changes)}comparePoint(t,e){Ci(t,e,this.changes)}boundChange(t){Ci(t,t,this.changes)}};function mn(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function vn(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function bn(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function yn(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function wn(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function xn(t,e,i){let n,o,s,r,g,A,a,C,I=!1;for(let l=t.firstChild;l;l=l.nextSibling){let t=re(l);for(let h=0;h<t.length;h++){let c=t[h];o&&bn(o,c)&&(c=yn(wn(c,o.bottom),o.top));let d=mn(e,c),u=vn(i,c);if(0==d&&0==u)return 3==l.nodeType?En(l,e,i):xn(l,e,i);(!n||r>u||r==u&&s>d)&&(n=l,o=c,s=d,r=u,I=!d||(e<c.left?h>0:h<t.length-1)),0==d?i>c.bottom&&(!a||a.bottom<c.bottom)?(g=l,a=c):i<c.top&&(!C||C.top>c.top)&&(A=l,C=c):a&&bn(a,c)?a=wn(a,c.bottom):C&&bn(C,c)&&(C=yn(C,c.top))}}if(a&&a.bottom>=i?(n=g,o=a):C&&C.top<=i&&(n=A,o=C),!n)return{node:t,offset:0};let l=Math.max(o.left,Math.min(o.right,e));return 3==n.nodeType?En(n,l,i):I&&"false"!=n.contentEditable?xn(n,l,i):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,n)+(e>=(o.left+o.right)/2?1:0)}}function En(t,e,i){let n=t.nodeValue.length,o=-1,s=1e9,r=0;for(let g=0;g<n;g++){let n=me(t,g,g+1).getClientRects();for(let A=0;A<n.length;A++){let a=n[A];if(a.top==a.bottom)continue;r||(r=e-a.left);let C=(a.top>i?a.top-i:i-a.bottom)-1;if(a.left-1<=e&&a.right+1>=e&&C<s){let i=e>=(a.left+a.right)/2,n=i;if((Ge.chrome||Ge.gecko)&&me(t,g).getBoundingClientRect().left==a.right&&(n=!i),C<=0)return{node:t,offset:g+(n?1:0)};o=g+(n?1:0),s=C}}}return{node:t,offset:o>-1?o:r>0?t.nodeValue.length:0}}function kn(t,e,i,n=-1){var o,s;let r,g=t.contentDOM.getBoundingClientRect(),A=g.top+t.viewState.paddingTop,{docHeight:a}=t.viewState,{x:C,y:I}=e,l=I-A;if(l<0)return 0;if(l>a)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,o=!1;r=t.elementAtHeight(l),r.type!=oi.Text;)for(;l=n>0?r.bottom+e:r.top-e,!(l>=0&&l<=a);){if(o)return i?null:0;o=!0,n=-n}I=A+l;let h=r.from;if(h<t.viewport.from)return 0==t.viewport.from?0:i?null:Tn(t,g,r,C,I);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:Tn(t,g,r,C,I);let c=t.dom.ownerDocument,d=t.root.elementFromPoint?t.root:c,u=d.elementFromPoint(C,I);u&&!t.contentDOM.contains(u)&&(u=null),u||(C=Math.max(g.left+1,Math.min(g.right-1,C)),u=d.elementFromPoint(C,I),u&&!t.contentDOM.contains(u)&&(u=null));let p,f=-1;if(u&&0!=(null===(o=t.docView.nearest(u))||void 0===o?void 0:o.isEditable)){if(c.caretPositionFromPoint){let t=c.caretPositionFromPoint(C,I);t&&({offsetNode:p,offset:f}=t)}else if(c.caretRangeFromPoint){let e=c.caretRangeFromPoint(C,I);e&&(({startContainer:p,startOffset:f}=e),(!t.contentDOM.contains(p)||Ge.safari&&function(t,e,i){let n,o=t;if(3!=t.nodeType||e!=(n=t.nodeValue.length))return!1;for(;;){let t=o.nextSibling;if(t){if("BR"==t.nodeName)break;return!1}{let t=o.parentNode;if(!t||"DIV"==t.nodeName)break;o=t}}return me(t,n-1,n).getBoundingClientRect().right>i}(p,f,C)||Ge.chrome&&function(t,e,i){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return i-(1==t.nodeType?t.getBoundingClientRect():me(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(p,f,C))&&(p=void 0))}p&&(f=Math.min(Ie(p),f))}if(!p||!t.docView.dom.contains(p)){let e=Ii.find(t.docView,h);if(!e)return l>r.top+r.height/2?r.to:r.from;({node:p,offset:f}=xn(e.dom,C,I))}let m=t.docView.nearest(p);if(!m)return null;if(m.isWidget&&1==(null===(s=m.dom)||void 0===s?void 0:s.nodeType)){let t=m.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?m.posAtStart:m.posAtEnd}return m.localPosFromDOM(p,f)+m.posAtStart}function Tn(t,e,i,n,o){let s=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((o-i.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let r=t.state.sliceDoc(i.from,i.to);return i.from+jt(r,s,t.state.tabSize)}function Sn(t,e,i){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){let t;for(let o of n.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;t&&(o.type!=oi.Text||t.type==o.type&&!(i<0?o.from<e:o.to>e))||(t=o)}}return t||n}return n}function On(t,e,i,n){let o=t.state.doc.lineAt(e.head),s=t.bidiSpans(o),r=t.textDirectionAt(o.from);for(let g=e,A=null;;){let e=Pi(o,s,r,g,i),a=Ri;if(!e){if(o.number==(i?t.state.doc.lines:1))return g;a="\n",o=t.state.doc.line(o.number+(i?1:-1)),s=t.bidiSpans(o),e=t.visualLineSide(o,!i)}if(A){if(!A(a))return g}else{if(!n)return e;A=n(a)}g=e}}function Dn(t,e,i){for(;;){let n=0;for(let o of t)o.between(e-1,e+1,(t,o,s)=>{if(e>t&&e<o){let s=n||i||(e-t<o-e?-1:1);e=s<0?t:o,n=s}});if(!n)return e}}function Nn(t,e,i){let n=Dn(t.state.facet(An).map(e=>e(t)),i.from,e.head>i.from?-1:1);return n==i.from?i:z.cursor(n,n<i.from?1:-1)}const Mn="￿";class Rn{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Et.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Mn}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let n=t;;){this.findPointBefore(i,n);let t=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==e)break;let s=Te.get(n),r=Te.get(o);(s&&r?s.breakAfter:(s?s.breakAfter:ae(n))||ae(o)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>t)&&this.lineBreak(),n=o}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let o,s=-1,r=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,i),r=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,r=o[0].length),this.append(e.slice(i,s<0?e.length:s)),s<0)break;if(this.lineBreak(),r>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=r-1);i=s+r}}readNode(t){if(t.cmIgnore)return;let e=Te.get(t),i=e&&e.overrideDOMText;if(null!=i){this.findPointInside(t,i.length);for(let t=i.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(3==t.nodeType?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+(Pn(t,i.node,i.offset)?e:0))}}function Pn(t,e,i){for(;;){if(!e||i<Ie(e))return!1;if(e==t)return!0;i=Ae(e)+1,e=e.parentNode}}class Ln{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Bn{constructor(t,e,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let e=o||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:n,focusNode:o,focusOffset:s}=t.observer.selectionRange;return i&&(e.push(new Ln(i,n)),o==i&&s==n||e.push(new Ln(o,s))),e}(t),i=new Rn(e,t.state);i.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=i.text,this.newSel=function(t,e){if(0==t.length)return null;let i=t[0].pos,n=2==t.length?t[1].pos:i;return i>-1&&n>-1?z.single(i+e,n+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,i=o&&o.node==e.focusNode&&o.offset==e.focusOffset||!oe(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),n=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!oe(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),r=t.viewport;if((Ge.ios||Ge.chrome)&&t.state.selection.main.empty&&i!=n&&(r.from>0||r.to<t.state.doc.length)){let e=Math.min(i,n),o=Math.max(i,n),s=r.from-e,g=r.to-o;0!=s&&1!=s&&0!=e||0!=g&&-1!=g&&o!=t.state.doc.length||(i=0,n=t.state.doc.length)}this.newSel=z.single(n,i)}}}function Fn(t,e){let i,{newSel:n}=e,o=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:n,to:r}=e.bounds,g=o.from,A=null;(8===s||Ge.android&&e.text.length<r-n)&&(g=o.to,A="end");let a=function(t,e,i,n){let o=Math.min(t.length,e.length),s=0;for(;s<o&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==o&&t.length==e.length)return null;let r=t.length,g=e.length;for(;r>0&&g>0&&t.charCodeAt(r-1)==e.charCodeAt(g-1);)r--,g--;return"end"==n&&(i-=r+Math.max(0,s-Math.min(r,g))-s),r<s&&t.length<e.length?(s-=i<=s&&i>=r?s-i:0,g=s+(g-r),r=s):g<s&&(s-=i<=s&&i>=g?s-i:0,r=s+(r-g),g=s),{from:s,toA:r,toB:g}}(t.state.doc.sliceString(n,r,Mn),e.text,g-n,A);a&&(Ge.chrome&&13==s&&a.toB==a.from+2&&e.text.slice(a.from,a.toB)==Mn+Mn&&a.toB--,i={from:n+a.from,to:n+a.toA,insert:c.of(e.text.slice(a.from,a.toB).split(Mn))})}else n&&(!t.hasFocus&&t.state.facet(Ji)||n.main.eq(o))&&(n=null);if(!i&&!n)return!1;if(!i&&e.typeOver&&!o.empty&&n&&n.main.empty?i={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:(Ge.mac||Ge.android)&&i&&i.from==i.to&&i.from==o.head-1&&/^\. ?$/.test(i.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(n&&2==i.insert.length&&(n=z.single(n.main.anchor-1,n.main.head-1)),i={from:i.from,to:i.to,insert:c.of([i.insert.toString().replace("."," ")])}):i&&i.from>=o.from&&i.to<=o.to&&(i.from!=o.from||i.to!=o.to)&&o.to-o.from-(i.to-i.from)<=4?i={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,o.to))}:Ge.chrome&&i&&i.from==i.to&&i.from==o.head&&"\n "==i.insert.toString()&&t.lineWrapping&&(n&&(n=z.single(n.main.anchor-1,n.main.head-1)),i={from:o.from,to:o.to,insert:c.of([" "])}),i)return _n(t,i,n,s);if(n&&!n.main.eq(o)){let e=!1,i="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),i=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:e,userEvent:i}),!0}return!1}function _n(t,e,i,n=-1){if(Ge.ios&&t.inputState.flushIOSKey(e))return!0;let o=t.state.selection.main;if(Ge.android&&(e.to==o.to&&(e.from==o.from||e.from==o.from-1&&" "==t.state.sliceDoc(e.from,o.from))&&1==e.insert.length&&2==e.insert.lines&&ve(t.contentDOM,"Enter",13)||(e.from==o.from-1&&e.to==o.to&&0==e.insert.length||8==n&&e.insert.length<e.to-e.from&&e.to>o.head)&&ve(t.contentDOM,"Backspace",8)||e.from==o.from&&e.to==o.to+1&&0==e.insert.length&&ve(t.contentDOM,"Delete",46)))return!0;let s,r=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let g=()=>s||(s=function(t,e,i){let n,o=t.state,s=o.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let i=s.from<e.from?o.sliceDoc(s.from,e.from):"",r=s.to>e.to?o.sliceDoc(e.to,s.to):"";n=o.replaceSelection(t.state.toText(i+e.insert.sliceString(0,void 0,t.state.lineBreak)+r))}else{let r=o.changes(e),g=i&&i.main.to<=r.newLength?i.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let A,a=t.state.sliceDoc(e.from,e.to),C=i&&pn(t,i.main.head);if(C){let t=e.insert.length-(e.to-e.from);A={from:C.from,to:C.to-t}}else A=t.state.doc.lineAt(s.head);let I=s.to-e.to,l=s.to-s.from;n=o.changeByRange(i=>{if(i.from==s.from&&i.to==s.to)return{changes:r,range:g||i.map(r)};let n=i.to-I,C=n-a.length;if(i.to-i.from!=l||t.state.sliceDoc(C,n)!=a||i.to>=A.from&&i.from<=A.to)return{range:i};let h=o.changes({from:C,to:n,insert:e.insert}),c=i.to-s.to;return{changes:h,range:g?z.range(Math.max(0,g.anchor+c),Math.max(0,g.head+c)):i.map(h)}})}else n={changes:r,selection:g&&o.selection.replaceRange(g)}}let r="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,r+=".compose",t.inputState.compositionFirstChange&&(r+=".start",t.inputState.compositionFirstChange=!1)),o.update(n,{userEvent:r,scrollIntoView:!0})}(t,e,i));return t.state.facet(Zi).some(i=>i(t,e.from,e.to,r,g))||t.dispatch(g()),!0}class zn{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Ge.safari&&t.contentDOM.addEventListener("input",()=>null),Ge.gecko&&function(t){lo.has(t)||(lo.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,n=e.target;n!=t.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(i=Te.get(n))&&i.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t)))}runHandlers(t,e){let i=this.handlers[t];if(i){for(let t of i.observers)t(this.view,e);for(let t of i.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Zn(t),i=this.handlers,n=this.view.contentDOM;for(let t in e)if("scroll"!=t){let o=!e[t].handlers.length,s=i[t];s&&o!=!s.handlers.length&&(n.removeEventListener(t,this.handleEvent),s=null),s||n.addEventListener(t,this.handleEvent,{passive:o})}for(let t in i)"scroll"==t||e[t]||n.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&jn.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),Ge.android&&Ge.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Ge.ios||t.synthetic||t.altKey||t.metaKey||!((e=Wn.find(e=>e.keyCode==t.keyCode))&&!t.ctrlKey||Gn.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,ve(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Ge.safari&&!Ge.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Vn(t,e){return(i,n)=>{try{return e.call(t,n,i)}catch(t){qi(i.state,t)}}}function Zn(t){let e=Object.create(null);function i(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec,n=t&&t.plugin.domEventHandlers,o=t&&t.plugin.domEventObservers;if(n)for(let t in n){let o=n[t];o&&i(t).handlers.push(Vn(e.value,o))}if(o)for(let t in o){let n=o[t];n&&i(t).observers.push(Vn(e.value,n))}}for(let t in Un)i(t).handlers.push(Un[t]);for(let t in Kn)i(t).observers.push(Kn[t]);return e}const Wn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Gn="dthko",jn=[16,17,18,20,91,92,224,225];function Hn(t){return.7*Math.max(0,t)+8}class Yn{constructor(t,e,i,n){this.view=t,this.startEvent=e,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,i,n=t.ownerDocument;for(let o=t.parentNode;o&&!(o==n.body||e&&i);)if(1==o.nodeType)!i&&o.scrollHeight>o.clientHeight&&(i=o),!e&&o.scrollWidth>o.clientWidth&&(e=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:e,y:i}}(t.contentDOM),this.atoms=t.state.facet(An).map(e=>e(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Et.allowMultipleSelections)&&function(t,e){let i=t.state.facet(Bi);return i.length?i[0](e):Ge.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let n=ne(t.root);if(!n||0==n.rangeCount)return!0;let o=n.getRangeAt(0).getClientRects();for(let t=0;t<o.length;t++){let i=o[t];if(i.left<=e.clientX&&i.right>=e.clientX&&i.top<=e.clientY&&i.bottom>=e.clientY)return!0}return!1}(t,e)||1!=ro(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(e=this.startEvent,i=t,Math.max(Math.abs(e.clientX-i.clientX),Math.abs(e.clientY-i.clientY))<10))return;var e,i;this.select(this.lastEvent=t);let n=0,o=0,s=0,r=0,g=this.view.win.innerWidth,A=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:g}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:r,bottom:A}=this.scrollParents.y.getBoundingClientRect());let a=ln(this.view);t.clientX-a.left<=s+6?n=-Hn(s-t.clientX):t.clientX+a.right>=g-6&&(n=Hn(t.clientX-g)),t.clientY-a.top<=r+6?o=-Hn(r-t.clientY):t.clientY+a.bottom>=A-6&&(o=Hn(t.clientY-A)),this.setScrollSpeed(n,o)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let i=0;i<t.ranges.length;i++){let n=t.ranges[i],o=null;if(n.empty){let t=Dn(this.atoms,n.from,0);t!=n.from&&(o=z.cursor(t,-1))}else{let t=Dn(this.atoms,n.from,-1),e=Dn(this.atoms,n.to,1);t==n.from&&e==n.to||(o=z.range(n.from==n.anchor?t:e,n.from==n.head?t:e))}o&&(e||(e=t.ranges.slice()),e[i]=o)}return e?z.create(e,t.mainIndex):t}select(t){let{view:e}=this,i=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&i.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}const Un=Object.create(null),Kn=Object.create(null),Qn=Ge.ie&&Ge.ie_version<15||Ge.ios&&Ge.webkit_version<604;function Xn(t,e,i){for(let n of t.facet(e))i=n(i,t);return i}function qn(t,e){e=Xn(t.state,Gi,e);let i,{state:n}=t,o=1,s=n.toText(e),r=s.lines==n.selection.ranges.length;if(null!=Ao&&n.selection.ranges.every(t=>t.empty)&&Ao==s.toString()){let t=-1;i=n.changeByRange(i=>{let g=n.doc.lineAt(i.from);if(g.from==t)return{range:i};t=g.from;let A=n.toText((r?s.line(o++).text:e)+n.lineBreak);return{changes:{from:g.from,insert:A},range:z.cursor(i.from+A.length)}})}else i=r?n.changeByRange(t=>{let e=s.line(o++);return{changes:{from:t.from,to:t.to,insert:e.text},range:z.cursor(t.from+e.length)}}):n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}function Jn(t,e,i,n){if(1==n)return z.cursor(e,i);if(2==n)return function(t,e,i=1){let n=t.charCategorizer(e),o=t.doc.lineAt(e),s=e-o.from;if(0==o.length)return z.cursor(e);0==s?i=1:s==o.length&&(i=-1);let r=s,g=s;i<0?r=x(o.text,s,!1):g=x(o.text,s);let A=n(o.text.slice(r,g));for(;r>0;){let t=x(o.text,r,!1);if(n(o.text.slice(t,r))!=A)break;r=t}for(;g<o.length;){let t=x(o.text,g);if(n(o.text.slice(g,t))!=A)break;g=t}return z.range(r+o.from,g+o.from)}(t.state,e,i);{let i=Ii.find(t.docView,e),n=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:n.from,s=i?i.posAtEnd:n.to;return s<t.state.doc.length&&s==n.to&&s++,z.range(o,s)}}Kn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Un.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),Kn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Kn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Un.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let n of t.state.facet(_i))if(i=n(t,e),i)break;if(i||0!=e.button||(i=function(t,e){let i=eo(t,e),n=ro(e),o=t.state.selection;return{update(t){t.docChanged&&(i.pos=t.changes.mapPos(i.pos),o=o.map(t.changes))},get(e,s,r){let g,A=eo(t,e),a=Jn(t,A.pos,A.bias,n);if(i.pos!=A.pos&&!s){let e=Jn(t,i.pos,i.bias,n),o=Math.min(e.from,a.from),s=Math.max(e.to,a.to);a=o<a.from?z.range(o,s):z.range(s,o)}return s?o.replaceRange(o.main.extend(a.from,a.to)):r&&1==n&&o.ranges.length>1&&(g=function(t,e){for(let i=0;i<t.ranges.length;i++){let{from:n,to:o}=t.ranges[i];if(n<=e&&o>=e)return z.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}(o,A.pos))?g:r?o.addRange(a):z.create([a])}}}(t,e)),i){let n=!t.hasFocus;t.inputState.startMouseSelection(new Yn(t,e,i,n)),n&&t.observer.ignore(()=>{fe(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()});let o=t.inputState.mouseSelection;if(o)return o.start(e),!1===o.dragging}return!1};let $n=(t,e,i)=>e>=i.top&&e<=i.bottom&&t>=i.left&&t<=i.right;function to(t,e,i,n){let o=Ii.find(t.docView,e);if(!o)return 1;let s=e-o.posAtStart;if(0==s)return 1;if(s==o.length)return-1;let r=o.coordsAt(s,-1);if(r&&$n(i,n,r))return-1;let g=o.coordsAt(s,1);return g&&$n(i,n,g)?1:r&&r.bottom>=n?-1:1}function eo(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:to(t,i,e.clientX,e.clientY)}}const io=Ge.ie&&Ge.ie_version<=11;let no=null,oo=0,so=0;function ro(t){if(!io)return t.detail;let e=no,i=so;return no=t,so=Date.now(),oo=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(oo+1)%3:1}function go(t,e,i,n){if(!(i=Xn(t.state,Gi,i)))return;let o=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,r=n&&s&&function(t,e){let i=t.state.facet(Fi);return i.length?i[0](e):Ge.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,g={from:o,insert:i},A=t.state.changes(r?[r,g]:g);t.focus(),t.dispatch({changes:A,selection:{anchor:A.mapPos(o,-1),head:A.mapPos(o,1)},userEvent:r?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Un.dragstart=(t,e)=>{let{selection:{main:i}}=t.state;if(e.target.draggable){let n=t.docView.nearest(e.target);if(n&&n.isWidget){let t=n.posAtStart,e=t+n.length;(t>=i.to||e<=i.from)&&(i=z.range(t,e))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=i,e.dataTransfer&&(e.dataTransfer.setData("Text",Xn(t.state,ji,t.state.sliceDoc(i.from,i.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Un.dragend=t=>(t.inputState.draggedContent=null,!1),Un.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=e.dataTransfer.files;if(i&&i.length){let n=Array(i.length),o=0,s=()=>{++o==i.length&&go(t,e,n.filter(t=>null!=t).join(t.state.lineBreak),!1)};for(let t=0;t<i.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),s()},e.readAsText(i[t])}return!0}{let i=e.dataTransfer.getData("Text");if(i)return go(t,e,i,!0),!0}return!1},Un.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=Qn?null:e.clipboardData;return i?(qn(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),qn(t,i.value)},50)}(t),!1)};let Ao=null;Un.copy=Un.cut=(t,e)=>{let{text:i,ranges:n,linewise:o}=function(t){let e=[],i=[],n=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),i.push(n));if(!e.length){let o=-1;for(let{from:n}of t.selection.ranges){let s=t.doc.lineAt(n);s.number>o&&(e.push(s.text),i.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),o=s.number}n=!0}return{text:Xn(t,ji,e.join(t.lineBreak)),ranges:i,linewise:n}}(t.state);if(!i&&!o)return!1;Ao=o?i:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=Qn?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",i),!0):(function(t,e){let i=t.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}(t,i),!1)};const ao=It.define();function Co(t,e){let i=[];for(let n of t.facet(Wi)){let o=n(t,e);o&&i.push(o)}return i.length?t.update({effects:i,annotations:ao.of(!0)}):null}function Io(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=Co(t.state,e);i?t.dispatch(i):t.update([])}},10)}Kn.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Io(t)},Kn.blur=t=>{t.observer.clearSelectionRange(),Io(t)},Kn.compositionstart=Kn.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},Kn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ge.chrome&&Ge.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))},Kn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Un.beforeinput=(t,e)=>{var i,n;if("insertReplacementText"==e.inputType&&t.observer.editContext){let n=null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),o=e.getTargetRanges();if(n&&o.length){let e=o[0],i=t.posAtDOM(e.startContainer,e.startOffset),s=t.posAtDOM(e.endContainer,e.endOffset);return _n(t,{from:i,to:s,insert:t.state.toText(n)},null),!0}}let o;if(Ge.chrome&&Ge.android&&(o=Wn.find(t=>t.inputType==e.inputType))&&(t.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout(()=>{var i;((null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ge.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),Ge.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout(()=>Kn.compositionend(t,e),20),!1};const lo=new Set,ho=["pre-wrap","normal","pre-line","break-spaces"];let co=!1;function uo(){co=!1}class po{constructor(t){this.lineWrapping=t,this.doc=c.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return ho.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let n=t[i];n<0?i++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,i,n,o,s){let r=ho.indexOf(t)>-1,g=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=r;if(this.lineWrapping=r,this.lineHeight=e,this.charWidth=i,this.textHeight=n,this.lineLength=o,g){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return g}}class fo{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class mo{constructor(t,e,i,n,o){this.from=t,this.length=e,this.top=i,this.height=n,this._content=o}get type(){return"number"==typeof this._content?oi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ai?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new mo(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var vo=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(vo||(vo={}));const bo=.001;class yo{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>bo&&(co=!0),this.height=t)}replace(t,e,i){return yo.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,n){let o=this,s=i.doc;for(let r=n.length-1;r>=0;r--){let{fromA:g,toA:A,fromB:a,toB:C}=n[r],I=o.lineAt(g,vo.ByPosNoHeight,i.setDoc(e),0,0),l=I.to>=A?I:o.lineAt(A,vo.ByPosNoHeight,i,0,0);for(C+=l.to-A,A=l.to;r>0&&I.from<=n[r-1].toA;)g=n[r-1].fromA,a=n[r-1].fromB,r--,g<I.from&&(I=o.lineAt(g,vo.ByPosNoHeight,i,0,0));a+=I.from-g,g=I.from;let h=Oo.build(i.setDoc(s),t,a,C);o=wo(o,o.replace(g,A,h))}return o.updateHeight(i,0)}static empty(){return new Eo(0,0)}static of(t){if(1==t.length)return t[0];let e=0,i=t.length,n=0,o=0;for(;;)if(e==i)if(n>2*o){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),i+=1+o.break,n-=o.size}else{if(!(o>2*n))break;{let e=t[i];e.break?t.splice(i,1,e.left,null,e.right):t.splice(i,1,e.left,e.right),i+=2+e.break,o-=e.size}}else if(n<o){let i=t[e++];i&&(n+=i.size)}else{let e=t[--i];e&&(o+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,i++),new To(yo.of(t.slice(0,e)),s,yo.of(t.slice(i)))}}function wo(t,e){return t==e?t:(t.constructor!=e.constructor&&(co=!0),e)}yo.prototype.size=1;class xo extends yo{constructor(t,e,i){super(t,e),this.deco=i}blockAt(t,e,i,n){return new mo(n,this.length,i,this.height,this.deco||0)}lineAt(t,e,i,n,o){return this.blockAt(0,i,n,o)}forEachLine(t,e,i,n,o,s){t<=o+this.length&&e>=o&&s(this.blockAt(0,i,n,o))}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Eo extends xo{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,i,n){return new mo(n,this.length,i,this.height,this.breaks)}replace(t,e,i){let n=i[0];return 1==i.length&&(n instanceof Eo||n instanceof ko&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof ko?n=new Eo(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):yo.of(i)}updateHeight(t,e=0,i=!1,n){return n&&n.from<=e&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ko extends yo{constructor(t){super(t,0)}heightMetrics(t,e){let i,n=t.doc.lineAt(e).number,o=t.doc.lineAt(e+this.length).number,s=o-n+1,r=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);i=e/s,this.length>s+1&&(r=(this.height-e)/(this.length-s-1))}else i=this.height/s;return{firstLine:n,lastLine:o,perLine:i,perChar:r}}blockAt(t,e,i,n){let{firstLine:o,lastLine:s,perLine:r,perChar:g}=this.heightMetrics(e,n);if(e.lineWrapping){let o=n+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length)),s=e.doc.lineAt(o),A=r+s.length*g,a=Math.max(i,t-A/2);return new mo(s.from,s.length,a,A,0)}{let n=Math.max(0,Math.min(s-o,Math.floor((t-i)/r))),{from:g,length:A}=e.doc.line(o+n);return new mo(g,A,i+r*n,r,0)}}lineAt(t,e,i,n,o){if(e==vo.ByHeight)return this.blockAt(t,i,n,o);if(e==vo.ByPosNoHeight){let{from:e,to:n}=i.doc.lineAt(t);return new mo(e,n-e,0,0,0)}let{firstLine:s,perLine:r,perChar:g}=this.heightMetrics(i,o),A=i.doc.lineAt(t),a=r+A.length*g,C=A.number-s,I=n+r*C+g*(A.from-o-C);return new mo(A.from,A.length,Math.max(n,Math.min(I,n+this.height-a)),a,0)}forEachLine(t,e,i,n,o,s){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:r,perLine:g,perChar:A}=this.heightMetrics(i,o);for(let a=t,C=n;a<=e;){let e=i.doc.lineAt(a);if(a==t){let i=e.number-r;C+=g*i+A*(t-o-i)}let n=g+A*e.length;s(new mo(e.from,e.length,C,n,0)),C+=n,a=e.to+1}}replace(t,e,i){let n=this.length-e;if(n>0){let t=i[i.length-1];t instanceof ko?i[i.length-1]=new ko(t.length+n):i.push(null,new ko(n-1))}if(t>0){let e=i[0];e instanceof ko?i[0]=new ko(t+e.length):i.unshift(new ko(t-1),null)}return yo.of(i)}decomposeLeft(t,e){e.push(new ko(t-1),null)}decomposeRight(t,e){e.push(null,new ko(this.length-t-1))}updateHeight(t,e=0,i=!1,n){let o=e+this.length;if(n&&n.from<=e+this.length&&n.more){let i=[],s=Math.max(e,n.from),r=-1;for(n.from>e&&i.push(new ko(n.from-e-1).updateHeight(t,e));s<=o&&n.more;){let e=t.doc.lineAt(s).length;i.length&&i.push(null);let o=n.heights[n.index++];-1==r?r=o:Math.abs(o-r)>=bo&&(r=-2);let g=new Eo(e,o);g.outdated=!1,i.push(g),s+=e+1}s<=o&&i.push(null,new ko(o-s).updateHeight(t,s));let g=yo.of(i);return(r<0||Math.abs(g.height-this.height)>=bo||Math.abs(r-this.heightMetrics(t,e).perLine)>=bo)&&(co=!0),wo(this,g)}return(i||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class To extends yo{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return 1&this.flags}blockAt(t,e,i,n){let o=i+this.left.height;return t<o?this.left.blockAt(t,e,i,n):this.right.blockAt(t,e,o,n+this.left.length+this.break)}lineAt(t,e,i,n,o){let s=n+this.left.height,r=o+this.left.length+this.break,g=e==vo.ByHeight?t<s:t<r,A=g?this.left.lineAt(t,e,i,n,o):this.right.lineAt(t,e,i,s,r);if(this.break||(g?A.to<r:A.from>r))return A;let a=e==vo.ByPosNoHeight?vo.ByPosNoHeight:vo.ByPos;return g?A.join(this.right.lineAt(r,a,i,s,r)):this.left.lineAt(r,a,i,n,o).join(A)}forEachLine(t,e,i,n,o,s){let r=n+this.left.height,g=o+this.left.length+this.break;if(this.break)t<g&&this.left.forEachLine(t,e,i,n,o,s),e>=g&&this.right.forEachLine(t,e,i,r,g,s);else{let A=this.lineAt(g,vo.ByPos,i,n,o);t<A.from&&this.left.forEachLine(t,A.from-1,i,n,o,s),A.to>=t&&A.from<=e&&s(A),e>A.to&&this.right.forEachLine(A.to+1,e,i,r,g,s)}}replace(t,e,i){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,i));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let t of i)o.push(t);if(t>0&&So(o,s-1),e<this.length){let t=o.length;this.decomposeRight(e,o),So(o,t)}return yo.of(o)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,n=i+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?yo.of(this.break?[t,null,e]:[t,e]):(this.left=wo(this.left,t),this.right=wo(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,n){let{left:o,right:s}=this,r=e+o.length+this.break,g=null;return n&&n.from<=e+o.length&&n.more?g=o=o.updateHeight(t,e,i,n):o.updateHeight(t,e,i),n&&n.from<=r+s.length&&n.more?g=s=s.updateHeight(t,r,i,n):s.updateHeight(t,r,i),g?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function So(t,e){let i,n;null==t[e]&&(i=t[e-1])instanceof ko&&(n=t[e+1])instanceof ko&&t.splice(e-1,3,new ko(i.length+1+n.length))}class Oo{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Eo?i.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Eo(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,o=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let s=e-t;i.block?this.addBlock(new xo(s,n,i)):(s||o||n>=5)&&this.addLineDeco(n,o,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Eo(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new ko(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Eo)return t;let e=new Eo(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+i}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Eo||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Eo(0,-1));let i=t;for(let t of this.nodes)t instanceof Eo&&t.updateHeight(this.oracle,i),i+=t?t.length:1;return this.nodes}static build(t,e,i,n){let o=new Oo(i,t);return Nt.spans(e,i,n,o,0),o.finish(i)}}class Do{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,n){(t<e||i&&i.heightRelevant||n&&n.heightRelevant)&&Ci(t,e,this.changes,5)}}function No(t,e){let i=t.getBoundingClientRect(),n=t.ownerDocument,o=n.defaultView||window,s=Math.max(0,i.left),r=Math.min(o.innerWidth,i.right),g=Math.max(0,i.top),A=Math.min(o.innerHeight,i.bottom);for(let e=t.parentNode;e&&e!=n.body;)if(1==e.nodeType){let i=e,n=window.getComputedStyle(i);if((i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)&&"visible"!=n.overflow){let n=i.getBoundingClientRect();s=Math.max(s,n.left),r=Math.min(r,n.right),g=Math.max(g,n.top),A=Math.min(e==t.parentNode?o.innerHeight:A,n.bottom)}e="absolute"==n.position||"fixed"==n.position?i.offsetParent:i.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-i.left,right:Math.max(s,r)-i.left,top:g-(i.top+e),bottom:Math.max(g,A)-(i.top+e)}}function Mo(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}class Ro{constructor(t,e,i,n){this.from=t,this.to=e,this.size=i,this.displaySize=n}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],o=e[i];if(n.from!=o.from||n.to!=o.to||n.size!=o.size)return!1}return!0}draw(t,e){return si.replace({widget:new Po(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Po extends ni{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Lo{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=zo,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(sn).some(t=>"function"!=typeof t&&"cm-lineWrapping"==t.class);this.heightOracle=new po(e),this.stateDeco=t.facet(rn).filter(t=>"function"!=typeof t),this.heightMap=yo.empty().applyChanges(this.stateDeco,c.empty,this.heightOracle.setDoc(t.doc),[new cn(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=si.set(this.lineGaps.map(t=>t.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let n=i?e.head:e.anchor;if(!t.some(({from:t,to:e})=>n>=t&&n<=e)){let{from:e,to:i}=this.lineBlockAt(n);t.push(new Bo(e,i))}}return this.viewports=t.sort((t,e)=>t.from-e.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?zo:new Vo(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Zo(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(rn).filter(t=>"function"!=typeof t);let n=t.changedRanges,o=cn.extendWithRanges(n,function(t,e,i){let n=new Do;return Nt.compare(t,e,i,n,0),n.changes}(i,this.stateDeco,t?t.changes:N.empty(this.state.doc.length))),s=this.heightMap.height,r=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);uo(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||co)&&(t.flags|=2),r?(this.scrollAnchorPos=t.changes.mapPos(r.from,-1),this.scrollAnchorHeight=r.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let g=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<g.from||e.range.head>g.to)||!this.viewportIsAppropriate(g))&&(g=this.getViewport(0,e));let A=g.from!=this.viewport.from||g.to!=this.viewport.to;this.viewport=g,t.flags|=this.updateForViewport(),(A||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Yi)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),n=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?pi.RTL:pi.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),r=e.getBoundingClientRect(),g=s||this.mustMeasureContent||this.contentDOMHeight!=r.height;this.contentDOMHeight=r.height,this.mustMeasureContent=!1;let A=0,a=0;if(r.width&&r.height){let{scaleX:t,scaleY:i}=ce(e,r);(t>.005&&Math.abs(this.scaleX-t)>.005||i>.005&&Math.abs(this.scaleY-i)>.005)&&(this.scaleX=t,this.scaleY=i,A|=16,s=g=!0)}let C=(parseInt(i.paddingTop)||0)*this.scaleY,I=(parseInt(i.paddingBottom)||0)*this.scaleY;this.paddingTop==C&&this.paddingBottom==I||(this.paddingTop=C,this.paddingBottom=I,A|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(g=!0),this.editorWidth=t.scrollDOM.clientWidth,A|=16);let l=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=l&&(this.scrollAnchorHeight=-1,this.scrollTop=l),this.scrolledToBottom=ye(t.scrollDOM);let h=(this.printing?Mo:No)(e,this.paddingTop),d=h.top-this.pixelViewport.top,u=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(g=!0)),!this.inView&&!this.scrollTarget&&!function(t){let e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView||window;return e.left<i.innerWidth&&e.right>0&&e.top<i.innerHeight&&e.bottom>0}(t.dom))return 0;let f=r.width;if(this.contentDOMWidth==f&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=r.width,this.editorHeight=t.scrollDOM.clientHeight,A|=16),g){let e=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(e)&&(s=!0),s||n.lineWrapping&&Math.abs(f-this.contentDOMWidth)>n.charWidth){let{lineHeight:i,charWidth:r,textHeight:g}=t.docView.measureTextSize();s=i>0&&n.refresh(o,i,r,g,f/r,e),s&&(t.docView.minWidth=0,A|=16)}d>0&&u>0?a=Math.max(d,u):d<0&&u<0&&(a=Math.min(d,u)),uo();for(let i of this.viewports){let o=i.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(i);this.heightMap=(s?yo.empty().applyChanges(this.stateDeco,c.empty,this.heightOracle,[new cn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(n,0,s,new fo(i.from,o))}co&&(A|=2)}let m=!this.viewportIsAppropriate(this.viewport,a)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(2&A&&(A|=this.updateScaler()),this.viewport=this.getViewport(a,this.scrollTarget),A|=this.updateForViewport()),(2&A||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),A|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),A}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:r}=this,g=new Bo(n.lineAt(s-1e3*i,vo.ByHeight,o,0,0).from,n.lineAt(r+1e3*(1-i),vo.ByHeight,o,0,0).to);if(e){let{head:t}=e.range;if(t<g.from||t>g.to){let i,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),r=n.lineAt(t,vo.ByPos,o,0,0);i="center"==e.y?(r.top+r.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<g.from?r.top:r.bottom-s,g=new Bo(n.lineAt(i-500,vo.ByHeight,o,0,0).from,n.lineAt(i+s+500,vo.ByHeight,o,0,0).to)}}return g}mapViewport(t,e){let i=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new Bo(this.heightMap.lineAt(i,vo.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,vo.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,vo.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,vo.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:r}=this;return(0==t||n<=s-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||o>=r+Math.max(10,Math.min(i,250)))&&n>s-2e3&&o<r+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let n of t)e.touchesRange(n.from,n.to)||i.push(new Ro(e.mapPos(n.from),e.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,o=n>>1,s=n<<1;if(this.defaultTextDirection!=pi.LTR&&!i)return[];let r=[],g=(n,s,A,a)=>{if(s-n<o)return;let C=this.state.selection.main,I=[C.from];C.empty||I.push(C.to);for(let t of I)if(t>n&&t<s)return g(n,t-10,A,a),void g(t+10,s,A,a);let l=function(t,e){for(let i of t)if(e(i))return i}(t,t=>t.from>=A.from&&t.to<=A.to&&Math.abs(t.from-n)<o&&Math.abs(t.to-s)<o&&!I.some(e=>t.from<e&&t.to>e));if(!l){if(s<A.to&&e&&i&&e.visibleRanges.some(t=>t.from<=s&&t.to>=s)){let t=e.moveToLineBoundary(z.cursor(s),!1,!0).head;t>n&&(s=t)}let t=this.gapSize(A,n,s,a);l=new Ro(n,s,t,i||t<2e6?t:2e6)}r.push(l)},A=e=>{if(e.length<s||e.type!=oi.Text)return;let o=function(t,e,i){let n=[],o=t,s=0;return Nt.spans(i,t,e,{span(){},point(t,e){t>o&&(n.push({from:o,to:t}),s+=t-o),o=e}},20),o<e&&(n.push({from:o,to:e}),s+=e-o),{total:s,ranges:n}}(e.from,e.to,this.stateDeco);if(o.total<s)return;let r,A,a=this.scrollTarget?this.scrollTarget.range.head:null;if(i){let t,i,s=n/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let n=_o(o,a),r=((this.visibleBottom-this.visibleTop)/2+s)/e.height;t=n-r,i=n+r}else t=(this.visibleTop-e.top-s)/e.height,i=(this.visibleBottom-e.top+s)/e.height;r=Fo(o,t),A=Fo(o,i)}else{let i=o.total*this.heightOracle.charWidth,s=n*this.heightOracle.charWidth,g=0;if(i>2e6)for(let i of t)i.from>=e.from&&i.from<e.to&&i.size!=i.displaySize&&i.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=i.size-i.displaySize);let C,I,l=this.pixelViewport.left+g,h=this.pixelViewport.right+g;if(null!=a){let t=_o(o,a),e=((h-l)/2+s)/i;C=t-e,I=t+e}else C=(l-s)/i,I=(h+s)/i;r=Fo(o,C),A=Fo(o,I)}r>e.from&&g(e.from,r,e,o),A<e.to&&g(A,e.to,e,o)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(A):A(t);return r}gapSize(t,e,i,n){let o=_o(n,i)-_o(n,e);return this.heightOracle.lineWrapping?t.height*o:n.total*this.heightOracle.charWidth*o}updateLineGaps(t){Ro.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=si.set(t.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Nt.spans(e,this.viewport.from,this.viewport.to,{span(t,e){i.push({from:t,to:e})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let e=0;e<i.length&&!(8&n);e++){let o=this.visibleRanges[e],s=i[e];o.from==s.from&&o.to==s.to||(n|=4,t&&t.mapPos(o.from,-1)==s.from&&t.mapPos(o.to,1)==s.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Zo(this.heightMap.lineAt(t,vo.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Zo(this.heightMap.lineAt(this.scaler.fromDOM(t),vo.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Zo(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Bo{constructor(t,e){this.from=t,this.to=e}}function Fo({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let n=Math.floor(t*i);for(let t=0;;t++){let{from:i,to:o}=e[t],s=o-i;if(n<=s)return i+n;n-=s}}function _o(t,e){let i=0;for(let{from:n,to:o}of t.ranges){if(e<=o){i+=e-n;break}i+=o-n}return i/t.total}const zo={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Vo{constructor(t,e,i){let n=0,o=0,s=0;this.viewports=i.map(({from:i,to:o})=>{let s=e.lineAt(i,vo.ByPos,t,0,0).top,r=e.lineAt(o,vo.ByPos,t,0,0).bottom;return n+=r-s,{from:i,to:o,top:s,bottom:r,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let t of this.viewports)t.domTop=s+(t.top-o)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),o=t.bottom}toDOM(t){for(let e=0,i=0,n=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return n+(t-i)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);i=o.bottom,n=o.domBottom}}fromDOM(t){for(let e=0,i=0,n=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return i+(t-n)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);i=o.bottom,n=o.domBottom}}eq(t){return t instanceof Vo&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,i)=>e.from==t.viewports[i].from&&e.to==t.viewports[i].to)}}function Zo(t,e){if(1==e.scale)return t;let i=e.toDOM(t.top),n=e.toDOM(t.bottom);return new mo(t.from,t.length,i,n-i,Array.isArray(t._content)?t._content.map(t=>Zo(t,e)):t._content)}const Wo=W.define({combine:t=>t.join(" ")}),Go=W.define({combine:t=>t.indexOf(!0)>-1}),jo=Kt.newName(),Ho=Kt.newName(),Yo=Kt.newName(),Uo={"&light":"."+Ho,"&dark":"."+Yo};function Ko(t,e,i){return new Kt(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,e=>{if("&"==e)return t;if(!i||!i[e])throw new RangeError(`Unsupported selector: ${e}`);return i[e]}):t+" "+e})}const Qo=Ko("."+jo,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Uo),Xo={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},qo=Ge.ie&&Ge.ie_version<=11;class Jo{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new de,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let t of e)this.queue.push(t);(Ge.ie&&Ge.ie_version<=11||Ge.ios&&t.composing)&&e.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||!Ge.android||!1===t.constructor.EDIT_CONTEXT||Ge.chrome&&Ge.chrome_version<126||(this.editContext=new es(t),t.state.facet(Ji)&&(t.contentDOM.editContext=this.editContext.editContext)),qo&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(Ji)?i.root.activeElement!=this.dom:!se(this.dom,n))return;let o=n.anchorNode&&i.docView.nearest(n.anchorNode);o&&o.ignoreEvent(t)?e||(this.selectionChanged=!1):(Ge.ie&&Ge.ie_version<=11||Ge.android&&Ge.chrome)&&!i.state.selection.main.empty&&n.focusNode&&ge(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=ne(t.root);if(!e)return!1;let i=Ge.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return ts(t,i)}let i=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),i=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),i?ts(t,i):null}(this.view,e)||e;if(!i||this.selectionRange.eq(i))return!1;let n=se(this.dom,i);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let i=e.focusNode,n=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=n)return!1;for(n=Math.min(n,Ie(i));;)if(n){if(1!=i.nodeType)return!1;let t=i.childNodes[n-1];"false"==t.contentEditable?n--:(i=t,n=Ie(i))}else{if(i==t)return!0;n=Ae(i),i=i.parentNode}}(this.dom,i)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(1==i.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Xo),qo&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),qo&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&ve(this.dom,t.key,t.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(i=this.delayedAndroidKey)||void 0===i?void 0:i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,n=!1;for(let o of t){let t=this.readMutation(o);t&&(t.typeOver&&(n=!0),-1==e?({from:e,to:i}=t):(e=Math.min(t.from,e),i=Math.max(t.to,i)))}return{from:e,to:i,typeOver:n}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),n=this.selectionChanged&&se(this.dom,this.selectionRange);if(t<0&&!n)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Bn(this.view,t,e,i);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let i=this.view.state,n=Fn(this.view,e);return this.view.state==i&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let i=$o(e,t.previousSibling||t.target.previousSibling,-1),n=$o(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Ji)!=t.state.facet(Ji)&&(t.view.contentDOM.editContext=t.state.facet(Ji)?this.editContext.editContext:null))}destroy(){var t,e,i;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(i=this.resizeScroll)||void 0===i||i.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function $o(t,e,i){for(;e;){let n=Te.get(e);if(n&&n.parent==t)return n;let o=e.parentNode;e=o!=t.dom?o:i>0?e.nextSibling:e.previousSibling}return null}function ts(t,e){let i=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset,r=t.docView.domAtPos(t.state.selection.main.anchor);return ge(r.node,r.offset,o,s)&&([i,n,o,s]=[o,s,i,n]),{anchorNode:i,anchorOffset:n,focusNode:o,focusOffset:s}}class es{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let i=t.state.selection.main,{anchor:n,head:o}=i,s=this.toEditorPos(e.updateRangeStart),r=this.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e.updateRangeStart,editorBase:s,drifted:!1});let g={from:s,to:r,insert:c.of(e.text.split("\n"))};if(g.from==this.from&&n<this.from?g.from=n:g.to==this.to&&n>this.to&&(g.to=n),g.from==g.to&&!g.insert.length){let n=z.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd));return void(n.main.eq(i)||t.dispatch({selection:n,userEvent:"select"}))}if((Ge.mac||Ge.android)&&g.from==o-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(g={from:s,to:r,insert:c.of([e.text.replace("."," ")])}),this.pendingContextChange=g,!t.state.readOnly){let i=this.to-this.from+(g.to-g.from+g.insert.length);_n(t,g,z.single(this.toEditorPos(e.selectionStart,i),this.toEditorPos(e.selectionEnd,i)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))},this.handlers.characterboundsupdate=i=>{let n=[],o=null;for(let e=this.toEditorPos(i.rangeStart),s=this.toEditorPos(i.rangeEnd);e<s;e++){let i=t.coordsForChar(e);o=i&&new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)||o||new DOMRect,n.push(o)}e.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=e=>{let i=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,n=t.underlineThickness;if("None"!=e&&"None"!=n){let o=this.toEditorPos(t.rangeStart),s=this.toEditorPos(t.rangeEnd);if(o<s){let t=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==n?1:2}px`;i.push(si.mark({attributes:{style:t}}).range(o,s))}}}t.dispatch({effects:Xi.of(si.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:e}=this.composing;this.composing=null,e&&this.reset(t.state)}};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=ne(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,i=!1,n=this.pendingContextChange;return t.changes.iterChanges((o,s,r,g,A)=>{if(i)return;let a=A.length-(s-o);if(n&&s>=n.to){if(n.from==o&&n.to==s&&n.insert.eq(A))return n=this.pendingContextChange=null,e+=a,void(this.to+=a);n=null,this.revertPending(t.state)}if(o+=e,(s+=e)<=this.from)this.from+=a,this.to+=a;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+A.length>3e4)return void(i=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),A.toString()),this.to+=a}e+=a}),n&&!i&&this.revertPending(t.state),!i}update(t){let e=this.pendingContextChange,i=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(i.from,i.to)&&t.transactions.some(t=>!t.isUserEvent("input.type")&&t.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.reset(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),n=this.toContextPos(e.head);this.editContext.selectionStart==i&&this.editContext.selectionEnd==n||this.editContext.updateSelection(i,n)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let i=this.composing;return i&&i.drifted?i.editorBase+(t-i.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class is{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:i}=t;this.dispatchTransactions=t.dispatchTransactions||i&&(t=>t.forEach(t=>i(t,this)))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Lo(t.state||Et.create(t)),t.scrollTo&&t.scrollTo.is(Qi)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(tn).map(t=>new nn(t));for(let t of this.plugins)t.update(this);this.observer=new Jo(this),this.inputState=new zn(this),this.inputState.ensureHandlers(this.plugins),this.docView=new un(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=1==t.length&&t[0]instanceof dt?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,i=!1,n=!1,o=this.state;for(let e of t){if(e.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=e.state}if(this.destroyed)return void(this.viewState.state=o);let s=this.hasFocus,r=0,g=null;t.some(t=>t.annotation(ao))?(this.inputState.notifiedFocused=s,r=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,g=Co(o,s),g||(r=1));let A=this.observer.delayedAndroidKey,a=null;if(A?(this.observer.clearDelayedAndroidKey(),a=this.observer.readChange(),(a&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(a=null)):this.observer.clear(),o.facet(Et.phrases)!=this.state.facet(Et.phrases))return this.setState(o);e=dn.create(this,o,t),e.flags|=r;let C=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(C&&(C=C.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;C=new Ki(t.empty?t:z.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Qi)&&(C=t.value.clip(this.state))}this.viewState.update(e,C),this.bidiCache=ss.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),i=this.docView.update(e),this.state.facet(hn)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(i,t.some(t=>t.isUserEvent("select.pointer")))}finally{this.updateState=0}if(e.startState.facet(Wo)!=e.state.facet(Wo)&&(this.viewState.mustMeasureContent=!0),(i||n||C||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(Vi))try{t(e)}catch(t){qi(this.state,t,"update listener")}(g||a)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),a&&!Fn(this,a)&&A.force&&ve(this.contentDOM,A.key,A.keyCode)})}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Lo(t),this.plugins=t.facet(tn).map(t=>new nn(t)),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new un(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(tn),i=t.state.facet(tn);if(e!=i){let n=[];for(let o of i){let i=e.indexOf(o);if(i<0)n.push(new nn(o));else{let e=this.plugins[i];e.mustUpdate=t,n.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){qi(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(ye(i))o=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(n);o=t.from,s=t.top}this.updateState=1;let r=this.viewState.measure(this);if(!r&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];4&r||([this.measureRequests,g]=[g,this.measureRequests]);let A=g.map(t=>{try{return t.read(this)}catch(t){return qi(this.state,t),os}}),a=dn.create(this,this.state,[]),C=!1;a.flags|=r,e?e.flags|=r:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),C=this.docView.update(a),C&&this.docViewUpdate());for(let t=0;t<g.length;t++)if(A[t]!=os)try{let e=g[t];e.write&&e.write(A[t],this)}catch(t){qi(this.state,t)}if(C&&this.docView.updateSelection(!0),!a.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(t>1||t<-1){n+=t,i.scrollTop=n/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(Vi))t(e)}get themeClasses(){return jo+" "+(this.state.facet(Go)?Yo:Ho)+" "+this.state.facet(Wo)}updateAttrs(){let t=rs(this,on,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ji)?"true":"false",class:"cm-content",style:`${Ge.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),rs(this,sn,e);let i=this.observer.ignore(()=>{let i=ei(this.contentDOM,this.contentAttrs,e),n=ei(this.dom,this.editorAttrs,t);return i||n});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let t of i.effects)t.is(is.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(hn);let t=this.state.facet(is.cspNonce);Kt.mount(this.root,this.styleModules.concat(Qo).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.plugin!=t)&&this.pluginMap.set(t,e=this.plugins.find(e=>e.plugin==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Nn(this,t,On(this,t,e,i))}moveByGroup(t,e){return Nn(this,t,On(this,t,e,e=>function(t,e,i){let n=t.state.charCategorizer(e),o=n(i);return t=>{let e=n(t);return o==yt.Space&&(o=e),o==e}}(this,t.head,e)))}visualLineSide(t,e){let i=this.bidiSpans(t),n=this.textDirectionAt(t.from),o=i[e?i.length-1:0];return z.cursor(o.side(e,n)+t.from,o.forward(!e,n)?1:-1)}moveToLineBoundary(t,e,i=!0){return function(t,e,i,n){let o=Sn(t,e.head,e.assoc||-1),s=n&&o.type==oi.Text&&(t.lineWrapping||o.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),n=t.textDirectionAt(o.from),r=t.posAtCoords({x:i==(n==pi.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=r)return z.cursor(r,i?-1:1)}return z.cursor(i?o.to:o.from,i?-1:1)}(this,t,e,i)}moveVertically(t,e,i){return Nn(this,t,function(t,e,i,n){let o=e.head,s=i?1:-1;if(o==(i?t.state.doc.length:0))return z.cursor(o,e.assoc);let r,g=e.goalColumn,A=t.contentDOM.getBoundingClientRect(),a=t.coordsAtPos(o,e.assoc||-1),C=t.documentTop;if(a)null==g&&(g=a.left-A.left),r=s<0?a.top:a.bottom;else{let e=t.viewState.lineBlockAt(o);null==g&&(g=Math.min(A.right-A.left,t.defaultCharacterWidth*(o-e.from))),r=(s<0?e.top:e.bottom)+C}let I=A.left+g,l=null!=n?n:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let i=r+(l+e)*s,n=kn(t,{x:I,y:i},!1,s);if(i<A.top||i>A.bottom||(s<0?n<o:n>o)){let e=t.docView.coordsForChar(n),o=!e||i<e.top?-1:1;return z.cursor(n,o,void 0,g)}}}(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),kn(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(t),o=this.bidiSpans(n);return le(i,o[Ti.find(o,t-n.from,-1,e)].dir==pi.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Hi)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>ns)return Mi(t.length);let e,i=this.textDirectionAt(t.from);for(let n of this.bidiCache)if(n.from==t.from&&n.dir==i&&(n.fresh||Si(n.isolates,e=Cn(this,t))))return n.order;e||(e=Cn(this,t));let n=function(t,e,i){if(!t)return[new Ti(0,0,e==mi?1:0)];if(e==fi&&!i.length&&!ki.test(t))return Mi(t.length);if(i.length)for(;t.length>Oi.length;)Oi[Oi.length]=256;let n=[],o=e==fi?0:1;return Ni(t,o,o,i,0,t.length,n),n}(t.text,i,e);return this.bidiCache.push(new ss(t.from,t.to,i,e,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||Ge.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{fe(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Qi.of(new Ki("number"==typeof t?z.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,i=this.viewState.scrollAnchorAt(t);return Qi.of(new Ki(z.cursor(i.from),"start","start",i.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return en.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return en.define(()=>({}),{eventObservers:t})}static theme(t,e){let i=Kt.newName(),n=[Wo.of(i),hn.of(Ko(`.${i}`,t))];return e&&e.dark&&n.push(Go.of(!0)),n}static baseTheme(t){return q.lowest(hn.of(Ko("."+jo,t,Uo)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),n=i&&Te.get(i)||Te.get(t);return(null===(e=null==n?void 0:n.rootView)||void 0===e?void 0:e.view)||null}}is.styleModule=hn,is.inputHandler=Zi,is.clipboardInputFilter=Gi,is.clipboardOutputFilter=ji,is.scrollHandler=Ui,is.focusChangeEffect=Wi,is.perLineTextDirection=Hi,is.exceptionSink=zi,is.updateListener=Vi,is.editable=Ji,is.mouseSelectionStyle=_i,is.dragMovesSelection=Fi,is.clickAddsSelectionRange=Bi,is.decorations=rn,is.outerDecorations=gn,is.atomicRanges=An,is.bidiIsolatedRanges=an,is.scrollMargins=In,is.darkTheme=Go,is.cspNonce=W.define({combine:t=>t.length?t[0]:""}),is.contentAttributes=sn,is.editorAttributes=on,is.lineWrapping=is.contentAttributes.of({class:"cm-lineWrapping"}),is.announce=ct.define();const ns=4096,os={};class ss{constructor(t,e,i,n,o,s){this.from=t,this.to=e,this.dir=i,this.isolates=n,this.fresh=o,this.order=s}static update(t,e){if(e.empty&&!t.some(t=>t.fresh))return t;let i=[],n=t.length?t[t.length-1].dir:pi.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir!=n||e.touchesRange(s.from,s.to)||i.push(new ss(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return i}}function rs(t,e,i){for(let n=t.state.facet(e),o=n.length-1;o>=0;o--){let e=n[o],s="function"==typeof e?e(t):e;s&&Je(s,i)}return i}const gs=Ge.mac?"mac":Ge.windows?"win":Ge.linux?"linux":"key";function As(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==i&&e.shiftKey&&(t="Shift-"+t),t}const as=q.default(is.domEventHandlers({keydown:(t,e)=>us(ls(e.state),t,e,"editor")})),Cs=W.define({enables:as}),Is=new WeakMap;function ls(t){let e=t.facet(Cs),i=Is.get(e);return i||Is.set(e,i=function(t,e=gs){let i=Object.create(null),n=Object.create(null),o=(t,e)=>{let i=n[t];if(null==i)n[t]=e;else if(i!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,n,s,r,g)=>{var A,a;let C=i[t]||(i[t]=Object.create(null)),I=n.split(/ (?!$)/).map(t=>function(t,e){const i=t.split(/-(?!$)/);let n,o,s,r,g=i[i.length-1];"Space"==g&&(g=" ");for(let t=0;t<i.length-1;++t){const g=i[t];if(/^(cmd|meta|m)$/i.test(g))r=!0;else if(/^a(lt)?$/i.test(g))n=!0;else if(/^(c|ctrl|control)$/i.test(g))o=!0;else if(/^s(hift)?$/i.test(g))s=!0;else{if(!/^mod$/i.test(g))throw new Error("Unrecognized modifier name: "+g);"mac"==e?r=!0:o=!0}}return n&&(g="Alt-"+g),o&&(g="Ctrl-"+g),r&&(g="Meta-"+g),s&&(g="Shift-"+g),g}(t,e));for(let e=1;e<I.length;e++){let i=I.slice(0,e).join(" ");o(i,!0),C[i]||(C[i]={preventDefault:!0,stopPropagation:!1,run:[e=>{let n=hs={view:e,prefix:i,scope:t};return setTimeout(()=>{hs==n&&(hs=null)},cs),!0}]})}let l=I.join(" ");o(l,!1);let h=C[l]||(C[l]={preventDefault:!1,stopPropagation:!1,run:(null===(a=null===(A=C._any)||void 0===A?void 0:A.run)||void 0===a?void 0:a.slice())||[]});s&&h.run.push(s),r&&(h.preventDefault=!0),g&&(h.stopPropagation=!0)};for(let n of t){let t=n.scope?n.scope.split(" "):["editor"];if(n.any)for(let e of t){let t=i[e]||(i[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:o}=n;for(let e in t)t[e].run.push(t=>o(t,ds))}let o=n[e]||n.key;if(o)for(let e of t)s(e,o,n.run,n.preventDefault,n.stopPropagation),n.shift&&s(e,"Shift-"+o,n.shift,n.preventDefault,n.stopPropagation)}return i}(e.reduce((t,e)=>t.concat(e),[]))),i}let hs=null;const cs=4e3;let ds=null;function us(t,e,i,n){ds=e;let o=function(t){var e=!($t&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||te&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Jt:qt)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),s=T(E(o,0))==o.length&&" "!=o,r="",g=!1,A=!1,a=!1;hs&&hs.view==i&&hs.scope==n&&(r=hs.prefix+" ",jn.indexOf(e.keyCode)<0&&(A=!0,hs=null));let C,I,l=new Set,h=t=>{if(t){for(let e of t.run)if(!l.has(e)&&(l.add(e),e(i)))return t.stopPropagation&&(a=!0),!0;t.preventDefault&&(t.stopPropagation&&(a=!0),A=!0)}return!1},c=t[n];return c&&(h(c[r+As(o,e,!s)])?g=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ge.windows&&e.ctrlKey&&e.altKey)&&(C=qt[e.keyCode])&&C!=o?(h(c[r+As(C,e,!0)])||e.shiftKey&&(I=Jt[e.keyCode])!=o&&I!=C&&h(c[r+As(I,e,!1)]))&&(g=!0):s&&e.shiftKey&&h(c[r+As(o,e,!0)])&&(g=!0),!g&&h(c._any)&&(g=!0)),A&&(g=!0),g&&a&&e.stopPropagation(),ds=null,g}class ps{constructor(t,e,i,n,o){this.className=t,this.left=e,this.top=i,this.width=n,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let n=t.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let o=fs(t);return[new ps(e,n.left-o.left,n.top-o.top,null,n.bottom-n.top)]}return function(t,e,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let n=Math.max(i.from,t.viewport.from),o=Math.min(i.to,t.viewport.to),s=t.textDirection==pi.LTR,r=t.contentDOM,g=r.getBoundingClientRect(),A=fs(t),a=r.querySelector(".cm-line"),C=a&&window.getComputedStyle(a),I=g.left+(C?parseInt(C.paddingLeft)+Math.min(0,parseInt(C.textIndent)):0),l=g.right-(C?parseInt(C.paddingRight):0),h=Sn(t,n,1),c=Sn(t,o,-1),d=h.type==oi.Text?h:null,u=c.type==oi.Text?c:null;if(d&&(t.lineWrapping||h.widgetLineBreaks)&&(d=ms(t,n,1,d)),u&&(t.lineWrapping||c.widgetLineBreaks)&&(u=ms(t,o,-1,u)),d&&u&&d.from==u.from&&d.to==u.to)return f(m(i.from,i.to,d));{let e=d?m(i.from,null,d):v(h,!1),n=u?m(null,i.to,u):v(c,!0),o=[];return(d||h).to<(u||c).from-(d&&u?1:0)||h.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<n.top?o.push(p(I,e.bottom,l,n.top)):e.bottom<n.top&&t.elementAtHeight((e.bottom+n.top)/2).type==oi.Text&&(e.bottom=n.top=(e.bottom+n.top)/2),f(e).concat(o).concat(f(n))}function p(t,i,n,o){return new ps(e,t-A.left,i-A.top,n-t,o-i)}function f({top:t,bottom:e,horizontal:i}){let n=[];for(let o=0;o<i.length;o+=2)n.push(p(i[o],t,i[o+1],e));return n}function m(e,i,n){let o=1e9,r=-1e9,g=[];function A(e,i,A,a,C){let h=t.coordsAtPos(e,e==n.to?-2:2),c=t.coordsAtPos(A,A==n.from?2:-2);h&&c&&(o=Math.min(h.top,c.top,o),r=Math.max(h.bottom,c.bottom,r),C==pi.LTR?g.push(s&&i?I:h.left,s&&a?l:c.right):g.push(!s&&a?I:c.left,!s&&i?l:h.right))}let a=null!=e?e:n.from,C=null!=i?i:n.to;for(let n of t.visibleRanges)if(n.to>a&&n.from<C)for(let o=Math.max(n.from,a),s=Math.min(n.to,C);;){let n=t.state.doc.lineAt(o);for(let r of t.bidiSpans(n)){let t=r.from+n.from,g=r.to+n.from;if(t>=s)break;g>o&&A(Math.max(t,o),null==e&&t<=a,Math.min(g,s),null==i&&g>=C,r.dir)}if(o=n.to+1,o>=s)break}return 0==g.length&&A(a,null==e,C,null==i,t.textDirection),{top:o,bottom:r,horizontal:g}}function v(t,e){let i=g.top+(e?t.top:t.bottom);return{top:i,bottom:i,horizontal:[]}}}(t,e,i)}}function fs(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==pi.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function ms(t,e,i,n){let o=t.coordsAtPos(e,2*i);if(!o)return n;let s=t.dom.getBoundingClientRect(),r=(o.top+o.bottom)/2,g=t.posAtCoords({x:s.left+1,y:r}),A=t.posAtCoords({x:s.right-1,y:r});return null==g||null==A?n:{from:Math.max(n.from,Math.min(g,A)),to:Math.min(n.to,Math.max(g,A))}}class vs{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(bs)!=t.state.facet(bs)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(bs);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((t,e)=>{return i=t,n=this.drawn[e],!(i.constructor==n.constructor&&i.eq(n));var i,n})){let e=this.dom.firstChild,i=0;for(let n of t)n.update&&e&&n.constructor&&this.drawn[i].constructor&&n.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(n.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const bs=W.define();function ys(t){return[en.define(e=>new vs(e,t)),bs.of(t)]}const ws=W.define({combine:t=>kt(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function xs(t={}){return[ws.of(t),ks,Ss,Os,Yi.of(!0)]}function Es(t){return t.startState.facet(ws)!=t.state.facet(ws)}const ks=ys({above:!0,markers(t){let{state:e}=t,i=e.facet(ws),n=[];for(let o of e.selection.ranges){let s=o==e.selection.main;if(o.empty||i.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",i=o.empty?o:z.cursor(o.head,o.head>o.anchor?-1:1);for(let o of ps.forRange(t,e,i))n.push(o)}}return n},update(t,e){t.transactions.some(t=>t.selection)&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let i=Es(t);return i&&Ts(t.state,e),t.docChanged||t.selectionSet||i},mount(t,e){Ts(e.state,t)},class:"cm-cursorLayer"});function Ts(t,e){e.style.animationDuration=t.facet(ws).cursorBlinkRate+"ms"}const Ss=ys({above:!1,markers:t=>t.state.selection.ranges.map(e=>e.empty?[]:ps.forRange(t,"cm-selectionBackground",e)).reduce((t,e)=>t.concat(e)),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||Es(t),class:"cm-selectionLayer"}),Os=q.highest(is.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Ds=ct.define({map:(t,e)=>null==t?null:e.mapPos(t)}),Ns=Q.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce((t,e)=>e.is(Ds)?e.value:t,t))}),Ms=en.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field(Ns);null==i?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Ns)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Ns),i=null!=e&&t.coordsAtPos(e);if(!i)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:i.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Ns)!=t&&this.view.dispatch({effects:Ds.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Rs(t,e,i,n,o){e.lastIndex=0;for(let s,r=t.iterRange(i,n),g=i;!r.next().done;g+=r.value.length)if(!r.lineBreak)for(;s=e.exec(r.value);)o(g+s.index,s)}class Ps{constructor(t){const{regexp:e,decoration:i,decorate:n,boundary:o,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,n)this.addMatch=(t,e,i,o)=>n(o,i,i+t[0].length,t,e);else if("function"==typeof i)this.addMatch=(t,e,n,o)=>{let s=i(t,e,n);s&&o(n,n+t[0].length,s)};else{if(!i)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,n,o)=>o(n,n+t[0].length,i)}this.boundary=o,this.maxLength=s}createDeco(t){let e=new Mt,i=e.add.bind(e);for(let{from:e,to:n}of function(t,e){let i=t.visibleRanges;if(1==i.length&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let n=[];for(let{from:o,to:s}of i)o=Math.max(t.state.doc.lineAt(o).from,o-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=o?n[n.length-1].to=s:n.push({from:o,to:s});return n}(t,this.maxLength))Rs(t.state.doc,this.regexp,e,n,(e,n)=>this.addMatch(n,t,e,i));return e.finish()}updateDeco(t,e){let i=1e9,n=-1;return t.docChanged&&t.changes.iterChanges((e,o,s,r)=>{r>=t.view.viewport.from&&s<=t.view.viewport.to&&(i=Math.min(s,i),n=Math.max(r,n))}),t.viewportMoved||n-i>1e3?this.createDeco(t.view):n>-1?this.updateRange(t.view,e.map(t.changes),i,n):e}updateRange(t,e,i,n){for(let o of t.visibleRanges){let s=Math.max(o.from,i),r=Math.min(o.to,n);if(r>=s){let i=t.state.doc.lineAt(s),n=i.to<r?t.state.doc.lineAt(r):i,g=Math.max(o.from,i.from),A=Math.min(o.to,n.to);if(this.boundary){for(;s>i.from;s--)if(this.boundary.test(i.text[s-1-i.from])){g=s;break}for(;r<n.to;r++)if(this.boundary.test(n.text[r-n.from])){A=r;break}}let a,C=[],I=(t,e,i)=>C.push(i.range(t,e));if(i==n)for(this.regexp.lastIndex=g-i.from;(a=this.regexp.exec(i.text))&&a.index<A-i.from;)this.addMatch(a,t,a.index+i.from,I);else Rs(t.state.doc,this.regexp,g,A,(e,i)=>this.addMatch(i,t,e,I));e=e.update({filterFrom:g,filterTo:A,filter:(t,e)=>t<g||e>A,add:C})}}return e}}const Ls=null!=/x/.unicode?"gu":"g",Bs=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Ls),Fs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _s=null;const zs=W.define({combine(t){let e=kt(t,{render:null,specialChars:Bs,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==_s&&"undefined"!=typeof document&&document.body){let e=document.body.style;_s=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return _s||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Ls)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ls)),e}});function Vs(t={}){return[zs.of(t),Zs||(Zs=en.fromClass(class{constructor(t){this.view=t,this.decorations=si.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(zs)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Ps({regexp:t.specialChars,decoration:(e,i,n)=>{let{doc:o}=i.state,s=E(e[0],0);if(9==s){let t=o.lineAt(n),e=i.state.tabSize,s=Gt(t.text,e,n-t.from);return si.replace({widget:new Gs((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=si.replace({widget:new Ws(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(zs);t.startState.facet(zs)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Zs=null;class Ws extends ni{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),i=t.state.phrase("Control character")+" "+(Fs[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,e);if(n)return n;let o=document.createElement("span");return o.textContent=e,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class Gs extends ni{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const js=si.line({class:"cm-activeLine"}),Hs=en.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let n of t.state.selection.ranges){let o=t.lineBlockAt(n.head);o.from>e&&(i.push(js.range(o.from)),e=o.from)}return si.set(i)}},{decorations:t=>t.decorations}),Ys=2e3;function Us(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(i),o=i-n.from,s=o>Ys?-1:o==n.length?function(t,e){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):Gt(n.text,t.state.tabSize,i-n.from);return{line:n.number,col:s,off:o}}function Ks(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return is.mouseSelectionStyle.of((t,i)=>e(i)?function(t,e){let i=Us(t,e),n=t.state.selection;return i?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(i.line).from),o=t.state.doc.lineAt(e);i={line:o.number,col:i.col,off:Math.min(i.off,o.length)},n=n.map(t.changes)}},get(e,o,s){let r=Us(t,e);if(!r)return n;let g=function(t,e,i){let n=Math.min(e.line,i.line),o=Math.max(e.line,i.line),s=[];if(e.off>Ys||i.off>Ys||e.col<0||i.col<0){let r=Math.min(e.off,i.off),g=Math.max(e.off,i.off);for(let e=n;e<=o;e++){let i=t.doc.line(e);i.length<=g&&s.push(z.range(i.from+r,i.to+g))}}else{let r=Math.min(e.col,i.col),g=Math.max(e.col,i.col);for(let e=n;e<=o;e++){let i=t.doc.line(e),n=jt(i.text,r,t.tabSize,!0);if(n<0)s.push(z.cursor(i.to));else{let e=jt(i.text,g,t.tabSize);s.push(z.range(i.from+n,i.from+e))}}}return s}(t.state,i,r);return g.length?s?z.create(g.concat(n.ranges)):z.create(g):n}}:null}(t,i):null)}const Qs={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Xs={style:"cursor: crosshair"};function qs(t={}){let[e,i]=Qs[t.key||"Alt"],n=en.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||i(t))},keyup(t){t.keyCode!=e&&i(t)||this.set(!1)},mousemove(t){this.set(i(t))}}});return[n,is.contentAttributes.of(t=>{var e;return(null===(e=t.plugin(n))||void 0===e?void 0:e.isDown)?Xs:null})]}const Js="-10000px";class $s{constructor(t,e,i,n){this.facet=e,this.createTooltipView=i,this.removeTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter(t=>t);let o=null;this.tooltipViews=this.tooltips.map(t=>o=i(t,o))}update(t,e){var i;let n=t.state.facet(this.facet),o=n.filter(t=>t);if(n===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let s=[],r=e?[]:null;for(let i=0;i<o.length;i++){let n=o[i],g=-1;if(n){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==n.create&&(g=t)}if(g<0)s[i]=this.createTooltipView(n,i?s[i-1]:null),r&&(r[i]=!!n.above);else{let n=s[i]=this.tooltipViews[g];r&&(r[i]=e[g]),n.update&&n.update(t)}}}for(let t of this.tooltipViews)s.indexOf(t)<0&&(this.removeTooltipView(t),null===(i=t.destroy)||void 0===i||i.call(t));return e&&(r.forEach((t,i)=>e[i]=t),e.length=r.length),this.input=n,this.tooltips=o,this.tooltipViews=s,!0}}function tr(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const er=W.define({combine:t=>{var e,i,n;return{position:Ge.ios?"absolute":(null===(e=t.find(t=>t.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(i=t.find(t=>t.parent))||void 0===i?void 0:i.parent)||null,tooltipSpace:(null===(n=t.find(t=>t.tooltipSpace))||void 0===n?void 0:n.tooltipSpace)||tr}}}),ir=new WeakMap,nr=en.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(er);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new $s(t,rr,(t,e)=>this.createTooltip(t,e),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let i=e||t.geometryChanged,n=t.state.facet(er);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;i=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t,e){let i=t.create(this.view),n=e?e.dom:null;if(i.dom.classList.add("cm-tooltip"),t.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",i.dom.appendChild(t)}return i.dom.style.position=this.position,i.dom.style.top=Js,i.dom.style.left="0px",this.container.insertBefore(i.dom,n),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var t,e,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(i=this.intersectionObserver)||void 0===i||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,i=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(Ge.gecko)i=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==Js&&"0px"==t.style.left){let e=t.getBoundingClientRect();i=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(i||"absolute"==this.position)if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),o=ln(this.view);return{visible:{left:n.left+o.left,top:n.top+o.top,right:n.right-o.right,bottom:n.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((t,e)=>{let i=this.manager.tooltipViews[e];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(er).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{visible:i,space:n,scaleX:o,scaleY:s}=t,r=[];for(let g=0;g<this.manager.tooltips.length;g++){let A=this.manager.tooltips[g],a=this.manager.tooltipViews[g],{dom:C}=a,I=t.pos[g],l=t.size[g];if(!I||!1!==A.clip&&(I.bottom<=Math.max(i.top,n.top)||I.top>=Math.min(i.bottom,n.bottom)||I.right<Math.max(i.left,n.left)-.1||I.left>Math.min(i.right,n.right)+.1)){C.style.top=Js;continue}let h=A.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,c=h?7:0,d=l.right-l.left,u=null!==(e=ir.get(a))&&void 0!==e?e:l.bottom-l.top,p=a.offset||sr,f=this.view.textDirection==pi.LTR,m=l.width>n.right-n.left?f?n.left:n.right-l.width:f?Math.max(n.left,Math.min(I.left-(h?14:0)+p.x,n.right-d)):Math.min(Math.max(n.left,I.left-d+(h?14:0)-p.x),n.right-d),v=this.above[g];!A.strictSide&&(v?I.top-u-c-p.y<n.top:I.bottom+u+c+p.y>n.bottom)&&v==n.bottom-I.bottom>I.top-n.top&&(v=this.above[g]=!v);let b=(v?I.top-n.top:n.bottom-I.bottom)-c;if(b<u&&!1!==a.resize){if(b<this.view.defaultLineHeight){C.style.top=Js;continue}ir.set(a,u),C.style.height=(u=b)/s+"px"}else C.style.height&&(C.style.height="");let y=v?I.top-u-c-p.y:I.bottom+c+p.y,w=m+d;if(!0!==a.overlap)for(let t of r)t.left<w&&t.right>m&&t.top<y+u&&t.bottom>y&&(y=v?t.top-u-2-c:t.bottom+c+2);if("absolute"==this.position?(C.style.top=(y-t.parent.top)/s+"px",or(C,(m-t.parent.left)/o)):(C.style.top=y/s+"px",or(C,m/o)),h){let t=I.left+(f?p.x:-p.x)-(m+14-7);h.style.left=t/o+"px"}!0!==a.overlap&&r.push({left:m,top:y,right:w,bottom:y+u}),C.classList.toggle("cm-tooltip-above",v),C.classList.toggle("cm-tooltip-below",!v),a.positioned&&a.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Js}},{eventObservers:{scroll(){this.maybeMeasure()}}});function or(t,e){let i=parseInt(t.style.left,10);(isNaN(i)||Math.abs(e-i)>1)&&(t.style.left=e+"px")}const sr={x:0,y:0},rr=W.define({enables:[nr,is.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),gr=W.define({combine:t=>t.reduce((t,e)=>t.concat(e),[])});class Ar{static create(t){return new Ar(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new $s(t,gr,(t,e)=>this.createHostedView(t,e),t=>t.dom.remove())}createHostedView(t,e){let i=t.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let i of this.manager.tooltipViews){let n=i[t];if(void 0!==n)if(void 0===e)e=n;else if(e!==n)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const ar=rr.compute([gr],t=>{let e=t.facet(gr);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos})),create:Ar.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Cr{constructor(t,e,i,n,o){this.view=t,this.source=e,this.field=i,this.setHover=n,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,i=t.docView.nearest(e.target);if(!i)return;let n,o=1;if(i instanceof Ye)n=i.posAtStart;else{if(n=t.posAtCoords(e),null==n)return;let i=t.coordsAtPos(n);if(!i||e.y<i.top||e.y>i.bottom||e.x<i.left-t.defaultCharacterWidth||e.x>i.right+t.defaultCharacterWidth)return;let s=t.bidiSpans(t.state.doc.lineAt(n)).find(t=>t.from<=n&&t.to>=n),r=s&&s.dir==pi.RTL?-1:1;o=e.x<i.left?-r:r}let s=this.source(t,n,o);if(null==s?void 0:s.then){let e=this.pending={pos:n};s.then(i=>{this.pending==e&&(this.pending=null,!i||Array.isArray(i)&&!i.length||t.dispatch({effects:this.setHover.of(Array.isArray(i)?i:[i])}))},e=>qi(t.state,e,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(nr),e=t?t.manager.tooltips.findIndex(t=>t.create==Ar.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,i;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:o}=this;if(n.length&&o&&!function(t,e){let i,{left:n,right:o,top:s,bottom:r}=t.getBoundingClientRect();if(i=t.querySelector(".cm-tooltip-arrow")){let t=i.getBoundingClientRect();s=Math.min(t.top,s),r=Math.max(t.bottom,r)}return e.clientX>=n-Ir&&e.clientX<=o+Ir&&e.clientY>=s-Ir&&e.clientY<=r+Ir}(o.dom,t)||this.pending){let{pos:o}=n[0]||this.pending,s=null!==(i=null===(e=n[0])||void 0===e?void 0:e.end)&&void 0!==i?i:o;(o==s?this.view.posAtCoords(this.lastMove)==o:function(t,e,i,n,o){let s=t.scrollDOM.getBoundingClientRect(),r=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>n||s.right<n||s.top>o||Math.min(s.bottom,r)<o)return!1;let g=t.posAtCoords({x:n,y:o},!1);return g>=e&&g<=i}(this.view,o,s,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=i=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ir=4;function lr(t,e={}){let i=ct.define(),n=Q.define({create:()=>[],update(t,n){if(t.length&&(e.hideOnChange&&(n.docChanged||n.selection)?t=[]:e.hideOn&&(t=t.filter(t=>!e.hideOn(n,t))),n.docChanged)){let e=[];for(let i of t){let t=n.changes.mapPos(i.pos,-1,O.TrackDel);if(null!=t){let o=Object.assign(Object.create(null),i);o.pos=t,null!=o.end&&(o.end=n.changes.mapPos(o.end)),e.push(o)}}t=e}for(let e of n.effects)e.is(i)&&(t=e.value),e.is(cr)&&(t=[]);return t},provide:t=>gr.from(t)});return{active:n,extension:[n,en.define(o=>new Cr(o,t,n,i,e.hoverTime||300)),ar]}}function hr(t,e){let i=t.plugin(nr);if(!i)return null;let n=i.manager.tooltips.indexOf(e);return n<0?null:i.manager.tooltipViews[n]}const cr=ct.define(),dr=W.define({combine(t){let e,i;for(let n of t)e=e||n.topContainer,i=i||n.bottomContainer;return{topContainer:e,bottomContainer:i}}});function ur(t,e){let i=t.plugin(pr),n=i?i.specs.indexOf(e):-1;return n>-1?i.panels[n]:null}const pr=en.fromClass(class{constructor(t){this.input=t.state.facet(vr),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(e=>e(t));let e=t.state.facet(dr);this.top=new fr(t,!0,e.topContainer),this.bottom=new fr(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(dr);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new fr(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new fr(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(vr);if(i!=this.input){let e=i.filter(t=>t),n=[],o=[],s=[],r=[];for(let i of e){let e,g=this.specs.indexOf(i);g<0?(e=i(t.view),r.push(e)):(e=this.panels[g],e.update&&e.update(t)),n.push(e),(e.top?o:s).push(e)}this.specs=e,this.panels=n,this.top.sync(o),this.bottom.sync(s);for(let t of r)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>is.scrollMargins.of(e=>{let i=e.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class fr{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=mr(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=mr(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function mr(t){let e=t.nextSibling;return t.remove(),e}const vr=W.define({enables:pr});class br extends Tt{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}br.prototype.elementClass="",br.prototype.toDOM=void 0,br.prototype.mapMode=O.TrackBefore,br.prototype.startSide=br.prototype.endSide=-1,br.prototype.point=!0;const yr=W.define(),wr=W.define(),xr={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Nt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Er=W.define();function kr(t){return[Sr(),Er.of({...xr,...t})]}const Tr=W.define({combine:t=>t.some(t=>t)});function Sr(t){let e=[Or];return t&&!1===t.fixed&&e.push(Tr.of(!0)),e}const Or=en.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Er).map(e=>new Rr(t,e)),this.fixed=!t.state.facet(Tr);for(let t of this.gutters)"after"==t.config.side?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,n=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(n<.8*(i.to-i.from))}if(t.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(Tr)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let i=Nt.iter(this.view.state.facet(yr),this.view.viewport.from),n=[],o=this.gutters.map(t=>new Mr(t,this.view.viewport,-this.view.documentPadding.top));for(let t of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(t.type)){let e=!0;for(let s of t.type)if(s.type==oi.Text&&e){Nr(i,n,s.from);for(let t of o)t.line(this.view,s,n);e=!1}else if(s.widget)for(let t of o)t.widget(this.view,s)}else if(t.type==oi.Text){Nr(i,n,t.from);for(let e of o)e.line(this.view,t,n)}else if(t.widget)for(let e of o)e.widget(this.view,t);for(let t of o)t.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Er),i=t.state.facet(Er),n=t.docChanged||t.heightChanged||t.viewportChanged||!Nt.eq(t.startState.facet(yr),t.state.facet(yr),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let e of this.gutters)e.update(t)&&(n=!0);else{n=!0;let o=[];for(let n of i){let i=e.indexOf(n);i<0?o.push(new Rr(this.view,n)):(this.gutters[i].update(t),o.push(this.gutters[i]))}for(let t of this.gutters)t.dom.remove(),o.indexOf(t)<0&&t.destroy();for(let t of o)"after"==t.config.side?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.gutters=o}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>is.scrollMargins.of(e=>{let i=e.plugin(t);if(!i||0==i.gutters.length||!i.fixed)return null;let n=i.dom.offsetWidth*e.scaleX,o=i.domAfter?i.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==pi.LTR?{left:n,right:o}:{right:n,left:o}})});function Dr(t){return Array.isArray(t)?t:[t]}function Nr(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}class Mr{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=Nt.iter(t.markers,e.from)}addElement(t,e,i){let{gutter:n}=this,o=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==n.elements.length){let e=new Pr(t,s,o,i);n.elements.push(e),n.dom.appendChild(e.dom)}else n.elements[this.i].update(t,s,o,i);this.height=e.bottom,this.i++}line(t,e,i){let n=[];Nr(this.cursor,n,e.from),i.length&&(n=n.concat(i));let o=this.gutter.config.lineMarker(t,e,n);o&&n.unshift(o);let s=this.gutter;(0!=n.length||s.config.renderEmptyElements)&&this.addElement(t,e,n)}widget(t,e){let i=this.gutter.config.widgetMarker(t,e.widget,e),n=i?[i]:null;for(let i of t.state.facet(wr)){let o=i(t,e.widget,e);o&&(n||(n=[])).push(o)}n&&this.addElement(t,e,n)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Rr{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,n=>{let o,s=n.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();o=(t.top+t.bottom)/2}else o=n.clientY;let r=t.lineBlockAtHeight(o-t.documentTop);e.domEventHandlers[i](t,r,n)&&n.preventDefault()});this.markers=Dr(e.markers(t)),e.initialSpacer&&(this.spacer=new Pr(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Dr(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let i=t.view.viewport;return!Nt.eq(this.markers,e,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Pr{constructor(t,e,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,n)}update(t,e,i,n){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}(this.markers,n)||this.setMarkers(t,n)}setMarkers(t,e){let i="cm-gutterElement",n=this.dom.firstChild;for(let o=0,s=0;;){let r=s,g=o<e.length?e[o++]:null,A=!1;if(g){let t=g.elementClass;t&&(i+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(g)){r=t,A=!0;break}}else r=this.markers.length;for(;s<r;){let t=this.markers[s++];if(t.toDOM){t.destroy(n);let e=n.nextSibling;n.remove(),n=e}}if(!g)break;g.toDOM&&(A?n=n.nextSibling:this.dom.insertBefore(g.toDOM(t),n)),A&&s++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}const Lr=W.define(),Br=W.define(),Fr=W.define({combine:t=>kt(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let t in e){let n=i[t],o=e[t];i[t]=n?(t,e,i)=>n(t,e,i)||o(t,e,i):o}return i}})});class _r extends br{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function zr(t,e){return t.state.facet(Fr).formatNumber(e,t.state)}const Vr=Er.compute([Fr],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Lr),lineMarker:(t,e,i)=>i.some(t=>t.toDOM)?null:new _r(zr(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,i)=>{for(let n of t.state.facet(Br)){let o=n(t,e,i);if(o)return o}return null},lineMarkerChange:t=>t.startState.facet(Fr)!=t.state.facet(Fr),initialSpacer:t=>new _r(zr(t,Wr(t.state.doc.lines))),updateSpacer(t,e){let i=zr(e.view,Wr(e.view.state.doc.lines));return i==t.number?t:new _r(i)},domEventHandlers:t.facet(Fr).domEventHandlers,side:"before"}));function Zr(t={}){return[Fr.of(t),Sr(),Vr]}function Wr(t){let e=9;for(;e<t;)e=10*e+9;return e}const Gr=new class extends br{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},jr=yr.compute(["selection"],t=>{let e=[],i=-1;for(let n of t.selection.ranges){let o=t.doc.lineAt(n.head).from;o>i&&(i=o,e.push(Gr.range(o)))}return Nt.of(e)}),Hr=1024;let Yr=0;class Ur{constructor(t,e){this.from=t,this.to=e}}class Kr{constructor(t={}){this.id=Yr++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=qr.match(t)),e=>{let i=t(e);return void 0===i?null:[this,i]}}}Kr.closedBy=new Kr({deserialize:t=>t.split(" ")}),Kr.openedBy=new Kr({deserialize:t=>t.split(" ")}),Kr.group=new Kr({deserialize:t=>t.split(" ")}),Kr.isolate=new Kr({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Kr.contextHash=new Kr({perNode:!0}),Kr.lookAhead=new Kr({perNode:!0}),Kr.mounted=new Kr({perNode:!0});class Qr{constructor(t,e,i){this.tree=t,this.overlay=e,this.parser=i}static get(t){return t&&t.props&&t.props[Kr.mounted.id]}}const Xr=Object.create(null);class qr{constructor(t,e,i,n=0){this.name=t,this.props=e,this.id=i,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):Xr,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new qr(t.name||"",e,t.id,i);if(t.props)for(let i of t.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[i[0].id]=i[1]}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Kr.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let n of i.split(" "))e[n]=t[i];return t=>{for(let i=t.prop(Kr.group),n=-1;n<(i?i.length:0);n++){let o=e[n<0?t.name:i[n]];if(o)return o}}}}qr.none=new qr("",Object.create(null),0,8);const Jr=new WeakMap,$r=new WeakMap;var tg;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(tg||(tg={}));class eg{constructor(t,e,i,n,o){if(this.type=t,this.children=e,this.positions=i,this.length=n,this.props=null,o&&o.length){this.props=Object.create(null);for(let[t,e]of o)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=Qr.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let i=t.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new cg(this.topNode,t)}cursorAt(t,e=0,i=0){let n=Jr.get(this)||this.topNode,o=new cg(n);return o.moveTo(t,e),Jr.set(this,o._tree),o}get topNode(){return new gg(this,0,0,null)}resolve(t,e=0){let i=sg(Jr.get(this)||this.topNode,t,e,!1);return Jr.set(this,i),i}resolveInner(t,e=0){let i=sg($r.get(this)||this.topNode,t,e,!0);return $r.set(this,i),i}resolveStack(t,e=0){return function(t,e,i){let n=t.resolveInner(e,i),o=null;for(let t=n instanceof gg?n:n.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(o||(o=[n])).push(s.resolve(e,i)),t=s}else{let s=Qr.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let r=new gg(s.tree,s.overlay[0].from+t.from,-1,t);(o||(o=[n])).push(sg(r,e,i,!1))}}return o?lg(o):n}(this,t,e)}iterate(t){let{enter:e,leave:i,from:n=0,to:o=this.length}=t,s=t.mode||0,r=(s&tg.IncludeAnonymous)>0;for(let t=this.cursor(s|tg.IncludeAnonymous);;){let s=!1;if(t.from<=o&&t.to>=n&&(!r&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&i&&(r||!t.type.isAnonymous)&&i(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:fg(qr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,i)=>new eg(this.type,t,e,i,this.propValues),t.makeTree||((t,e,i)=>new eg(qr.none,t,e,i)))}static build(t){return function(t){var e;let{buffer:i,nodeSet:n,maxBufferLength:o=Hr,reused:s=[],minRepeatType:r=n.types.length}=t,g=Array.isArray(i)?new ig(i,i.length):i,A=n.types,a=0,C=0;function I(t,e,i,u,p,f){let{id:m,start:v,end:b,size:y}=g,w=C,x=a;for(;y<0;){if(g.next(),-1==y){let e=s[m];return i.push(e),void u.push(v-t)}if(-3==y)return void(a=m);if(-4==y)return void(C=m);throw new RangeError(`Unrecognized record size: ${y}`)}let E,k,T=A[m],S=v-t;if(b-v<=o&&(k=function(t,e){let i=g.fork(),n=0,s=0,A=0,a=i.end-o,C={size:0,start:0,skip:0};t:for(let o=i.pos-t;i.pos>o;){let t=i.size;if(i.id==e&&t>=0){C.size=n,C.start=s,C.skip=A,A+=4,n+=4,i.next();continue}let g=i.pos-t;if(t<0||g<o||i.start<a)break;let I=i.id>=r?4:0,l=i.start;for(i.next();i.pos>g;){if(i.size<0){if(-3!=i.size)break t;I+=4}else i.id>=r&&(I+=4);i.next()}s=l,n+=t,A+=I}return(e<0||n==t)&&(C.size=n,C.start=s,C.skip=A),C.size>4?C:void 0}(g.pos-e,p))){let e=new Uint16Array(k.size-k.skip),i=g.pos-k.size,o=e.length;for(;g.pos>i;)o=d(k.start,e,o);E=new ng(e,b-k.start,n),S=k.start-t}else{let t=g.pos-y;g.next();let e=[],i=[],n=m>=r?m:-1,s=0,A=b;for(;g.pos>t;)n>=0&&g.id==n&&g.size>=0?(g.end<=A-o&&(h(e,i,v,s,g.end,A,n,w,x),s=e.length,A=g.end),g.next()):f>2500?l(v,t,e,i):I(v,t,e,i,n,f+1);if(n>=0&&s>0&&s<e.length&&h(e,i,v,s,v,A,n,w,x),e.reverse(),i.reverse(),n>-1&&s>0){let t=function(t,e){return(i,n,o)=>{let s,r,g=0,A=i.length-1;if(A>=0&&(s=i[A])instanceof eg){if(!A&&s.type==t&&s.length==o)return s;(r=s.prop(Kr.lookAhead))&&(g=n[A]+s.length+r)}return c(t,i,n,o,g,e)}}(T,x);E=fg(T,e,i,0,e.length,0,b-v,t,t)}else E=c(T,e,i,b-v,w-b,x)}i.push(E),u.push(S)}function l(t,e,i,s){let r=[],A=0,a=-1;for(;g.pos>e;){let{id:t,start:e,end:i,size:n}=g;if(n>4)g.next();else{if(a>-1&&e<a)break;a<0&&(a=i-o),r.push(t,e,i),A++,g.next()}}if(A){let e=new Uint16Array(4*A),o=r[r.length-2];for(let t=r.length-3,i=0;t>=0;t-=3)e[i++]=r[t],e[i++]=r[t+1]-o,e[i++]=r[t+2]-o,e[i++]=i;i.push(new ng(e,r[2]-o,n)),s.push(o-t)}}function h(t,e,i,o,s,r,g,A,a){let C=[],I=[];for(;t.length>o;)C.push(t.pop()),I.push(e.pop()+i-s);t.push(c(n.types[g],C,I,r-s,A-r,a)),e.push(s-i)}function c(t,e,i,n,o,s,r){if(s){let t=[Kr.contextHash,s];r=r?[t].concat(r):[t]}if(o>25){let t=[Kr.lookAhead,o];r=r?[t].concat(r):[t]}return new eg(t,e,i,n,r)}function d(t,e,i){let{id:n,start:o,end:s,size:A}=g;if(g.next(),A>=0&&n<r){let r=i;if(A>4){let n=g.pos-(A-4);for(;g.pos>n;)i=d(t,e,i)}e[--i]=r,e[--i]=s-t,e[--i]=o-t,e[--i]=n}else-3==A?a=n:-4==A&&(C=n);return i}let u=[],p=[];for(;g.pos>0;)I(t.start||0,t.bufferStart||0,u,p,-1,0);let f=null!==(e=t.length)&&void 0!==e?e:u.length?p[0]+u[0].length:0;return new eg(A[t.topID],u.reverse(),p.reverse(),f)}(t)}}eg.empty=new eg(qr.none,[],[],0);class ig{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ig(this.buffer,this.index)}}class ng{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return qr.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],n=this.set.types[e],o=n.name;if(/\W/.test(o)&&!n.isError&&(o=JSON.stringify(o)),i==(t+=4))return o;let s=[];for(;t<i;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,e,i,n,o){let{buffer:s}=this,r=-1;for(let g=t;g!=e&&!(og(o,n,s[g+1],s[g+2])&&(r=g,i>0));g=s[g+3]);return r}slice(t,e,i){let n=this.buffer,o=new Uint16Array(e-t),s=0;for(let r=t,g=0;r<e;){o[g++]=n[r++],o[g++]=n[r++]-i;let e=o[g++]=n[r++]-i;o[g++]=n[r++]-t,s=Math.max(s,e)}return new ng(o,s,this.set)}}function og(t,e,i,n){switch(t){case-2:return i<e;case-1:return n>=e&&i<e;case 0:return i<e&&n>e;case 1:return i<=e&&n>e;case 2:return n>e;case 4:return!0}}function sg(t,e,i,n){for(var o;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof gg&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=n?0:tg.IgnoreOverlays;if(n)for(let n=t,r=n.parent;r;n=r,r=n.parent)n instanceof gg&&n.index<0&&(null===(o=r.enter(e,i,s))||void 0===o?void 0:o.from)!=n.from&&(t=r);for(;;){let n=t.enter(e,i,s);if(!n)return t;t=n}}class rg{cursor(t=0){return new cg(this,t)}getChild(t,e=null,i=null){let n=Ag(this,t,e,i);return n.length?n[0]:null}getChildren(t,e=null,i=null){return Ag(this,t,e,i)}resolve(t,e=0){return sg(this,t,e,!1)}resolveInner(t,e=0){return sg(this,t,e,!0)}matchContext(t){return ag(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),i=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(i=e,e=t.prevSibling):e=t}return i}get node(){return this}get next(){return this.parent}}class gg extends rg{constructor(t,e,i,n){super(),this._tree=t,this.from=e,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,n,o=0){for(let s=this;;){for(let{children:r,positions:g}=s._tree,A=e>0?r.length:-1;t!=A;t+=e){let A=r[t],a=g[t]+s.from;if(og(n,i,a,a+A.length))if(A instanceof ng){if(o&tg.ExcludeBuffers)continue;let r=A.findChild(0,A.buffer.length,e,i-a,n);if(r>-1)return new Ig(new Cg(s,A,t,a),null,r)}else if(o&tg.IncludeAnonymous||!A.type.isAnonymous||dg(A)){let r;if(!(o&tg.IgnoreMounts)&&(r=Qr.get(A))&&!r.overlay)return new gg(r.tree,a,t,s);let g=new gg(A,a,t,s);return o&tg.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(e<0?A.children.length-1:0,e,i,n)}}if(o&tg.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let n;if(!(i&tg.IgnoreOverlays)&&(n=Qr.get(this._tree))&&n.overlay){let i=t-this.from;for(let{from:t,to:o}of n.overlay)if((e>0?t<=i:t<i)&&(e<0?o>=i:o>i))return new gg(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Ag(t,e,i,n){let o=t.cursor(),s=[];if(!o.firstChild())return s;if(null!=i)for(let t=!1;!t;)if(t=o.type.is(i),!o.nextSibling())return s;for(;;){if(null!=n&&o.type.is(n))return s;if(o.type.is(e)&&s.push(o.node),!o.nextSibling())return null==n?s:[]}}function ag(t,e,i=e.length-1){for(let n=t;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[i]&&e[i]!=n.name)return!1;i--}}return!0}class Cg{constructor(t,e,i,n){this.parent=t,this.buffer=e,this.index=i,this.start=n}}class Ig extends rg{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){super(),this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,i);return o<0?null:new Ig(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&tg.ExcludeBuffers)return null;let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new Ig(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ig(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Ig(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,n=this.index+4,o=i.buffer[this.index+3];if(o>n){let s=i.buffer[this.index+1];t.push(i.slice(n,o,s)),e.push(0)}return new eg(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function lg(t){if(!t.length)return null;let e=0,i=t[0];for(let n=1;n<t.length;n++){let o=t[n];(o.from>i.from||o.to<i.to)&&(i=o,e=n)}let n=i instanceof gg&&i.index<0?null:i.parent,o=t.slice();return n?o[e]=n:o.splice(e,1),new hg(o,i)}class hg{constructor(t,e){this.heads=t,this.node=e}get next(){return lg(this.heads)}}class cg{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof gg)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:i,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=i+n.buffer[t+1],this.to=i+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof gg?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:n}=this.buffer,o=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,i);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?!(i&tg.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&tg.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&tg.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let t=i<0?0:this.stack[i]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(t)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:i}=n)}else({index:e,_parent:i}=this._tree);for(;i;({index:e,_parent:i}=i))if(e>-1)for(let n=e+t,o=t<0?-1:i._tree.children.length;n!=o;n+=t){let t=i._tree.children[n];if(this.mode&tg.IncludeAnonymous||t instanceof ng||!t.type.isAnonymous||dg(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let n=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==n){if(n==this.index)return s;e=s,i=o+1;break t}n=this.stack[--o]}for(let t=i;t<this.stack.length;t++)e=new Ig(this.buffer,e,this.stack[t]);return this.bufferNode=new Ig(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(t){if(!this.buffer)return ag(this.node.parent,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let n=t.length-1,o=this.stack.length-1;n>=0;o--){if(o<0)return ag(this._tree,t,n);let s=i[e.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[n]&&t[n]!=s.name)return!1;n--}}return!0}}function dg(t){return t.children.some(t=>t instanceof ng||!t.type.isAnonymous||dg(t))}const ug=new WeakMap;function pg(t,e){if(!t.isAnonymous||e instanceof ng||e.type!=t)return 1;let i=ug.get(e);if(null==i){i=1;for(let n of e.children){if(n.type!=t||!(n instanceof eg)){i=1;break}i+=pg(t,n)}ug.set(e,i)}return i}function fg(t,e,i,n,o,s,r,g,A){let a=0;for(let i=n;i<o;i++)a+=pg(t,e[i]);let C=Math.ceil(1.5*a/8),I=[],l=[];return function e(i,n,o,r,g){for(let a=o;a<r;){let o=a,h=n[a],c=pg(t,i[a]);for(a++;a<r;a++){let e=pg(t,i[a]);if(c+e>=C)break;c+=e}if(a==o+1){if(c>C){let t=i[o];e(t.children,t.positions,0,t.children.length,n[o]+g);continue}I.push(i[o])}else{let e=n[a-1]+i[a-1].length-h;I.push(fg(t,i,n,o,a,h,e,null,A))}l.push(h+g-s)}}(e,i,n,o,0),(g||A)(I,l,r)}class mg{constructor(t,e,i,n,o=!1,s=!1){this.from=t,this.to=e,this.tree=i,this.offset=n,this.open=(o?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],i=!1){let n=[new mg(0,t.length,t,0,!1,i)];for(let i of e)i.to>t.length&&n.push(i);return n}static applyChanges(t,e,i=128){if(!e.length)return t;let n=[],o=1,s=t.length?t[0]:null;for(let r=0,g=0,A=0;;r++){let a=r<e.length?e[r]:null,C=a?a.fromA:1e9;if(C-g>=i)for(;s&&s.from<C;){let e=s;if(g>=e.from||C<=e.to||A){let t=Math.max(e.from,g)-A,i=Math.min(e.to,C)-A;e=t>=i?null:new mg(t,i,e.tree,e.offset+A,r>0,!!a)}if(e&&n.push(e),s.to>C)break;s=o<t.length?t[o++]:null}if(!a)break;g=a.toA,A=a.toA-a.toB}return n}}class vg{startParse(t,e,i){return"string"==typeof t&&(t=new bg(t)),i=i?i.length?i.map(t=>new Ur(t.from,t.to)):[new Ur(0,0)]:[new Ur(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let n=this.startParse(t,e,i);for(;;){let t=n.advance();if(t)return t}}}class bg{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Kr({perNode:!0});let yg=0;class wg{constructor(t,e,i,n){this.name=t,this.set=e,this.base=i,this.modified=n,this.id=yg++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let i="string"==typeof t?t:"?";if(t instanceof wg&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let n=new wg(i,[],null,[]);if(n.set.push(n),e)for(let t of e.set)n.set.push(t);return n}static defineModifier(t){let e=new Eg(t);return t=>t.modified.indexOf(e)>-1?t:Eg.get(t.base||t,t.modified.concat(e).sort((t,e)=>t.id-e.id))}}let xg=0;class Eg{constructor(t){this.name=t,this.instances=[],this.id=xg++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(i=>{return i.base==t&&(n=e,o=i.modified,n.length==o.length&&n.every((t,e)=>t==o[e]));var n,o});if(i)return i;let n=[],o=new wg(t.name,n,t,e);for(let t of e)t.instances.push(o);let s=function(t){let e=[[]];for(let i=0;i<t.length;i++)for(let n=0,o=e.length;n<o;n++)e.push(e[n].concat(t[i]));return e.sort((t,e)=>e.length-t.length)}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)n.push(Eg.get(e,t));return o}}function kg(t){let e=Object.create(null);for(let i in t){let n=t[i];Array.isArray(n)||(n=[n]);for(let t of i.split(" "))if(t){let i=[],o=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){o=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!n)throw new RangeError("Invalid path: "+t);if(i.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),e+=n[0].length,e==t.length)break;let r=t[e++];if(e==t.length&&"!"==r){o=0;break}if("/"!=r)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let r=i.length-1,g=i[r];if(!g)throw new RangeError("Invalid path: "+t);let A=new Sg(n,o,r>0?i.slice(0,r):null);e[g]=A.sort(e[g])}}return Tg.add(e)}const Tg=new Kr;class Sg{constructor(t,e,i,n){this.tags=t,this.mode=e,this.context=i,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function Og(t,e){let i=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)i[t.id]=e.class;else i[e.tag.id]=e.class;let{scope:n,all:o=null}=e||{};return{style:t=>{let e=o;for(let n of t)for(let t of n.set){let n=i[t.id];if(n){e=e?e+" "+n:n;break}}return e},scope:n}}function Dg(t,e,i,n=0,o=t.length){let s=new Ng(n,Array.isArray(e)?e:[e],i);s.highlightRange(t.cursor(),n,o,"",s.highlighters),s.flush(o)}Sg.empty=new Sg([],2,null);class Ng{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,n,o){let{type:s,from:r,to:g}=t;if(r>=i||g<=e)return;s.isTop&&(o=this.highlighters.filter(t=>!t.scope||t.scope(s)));let A=n,a=function(t){let e=t.type.prop(Tg);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||Sg.empty,C=function(t,e){let i=null;for(let n of t){let t=n.style(e);t&&(i=i?i+" "+t:t)}return i}(o,a.tags);if(C&&(A&&(A+=" "),A+=C,1==a.mode&&(n+=(n?" ":"")+C)),this.startSpan(Math.max(e,r),A),a.opaque)return;let I=t.tree&&t.tree.prop(Kr.mounted);if(I&&I.overlay){let s=t.node.enter(I.overlay[0].from+r,1),a=this.highlighters.filter(t=>!t.scope||t.scope(I.tree.type)),C=t.firstChild();for(let l=0,h=r;;l++){let c=l<I.overlay.length?I.overlay[l]:null,d=c?c.from+r:g,u=Math.max(e,h),p=Math.min(i,d);if(u<p&&C)for(;t.from<p&&(this.highlightRange(t,u,p,n,o),this.startSpan(Math.min(p,t.to),A),!(t.to>=d)&&t.nextSibling()););if(!c||d>i)break;h=c.to+r,h>e&&(this.highlightRange(s.cursor(),Math.max(e,c.from+r),Math.min(i,h),"",a),this.startSpan(Math.min(i,h),A))}C&&t.parent()}else if(t.firstChild()){I&&(n="");do{if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,n,o),this.startSpan(Math.min(i,t.to),A)}}while(t.nextSibling());t.parent()}}}const Mg=wg.define,Rg=Mg(),Pg=Mg(),Lg=Mg(Pg),Bg=Mg(Pg),Fg=Mg(),_g=Mg(Fg),zg=Mg(Fg),Vg=Mg(),Zg=Mg(Vg),Wg=Mg(),Gg=Mg(),jg=Mg(),Hg=Mg(jg),Yg=Mg(),Ug={comment:Rg,lineComment:Mg(Rg),blockComment:Mg(Rg),docComment:Mg(Rg),name:Pg,variableName:Mg(Pg),typeName:Lg,tagName:Mg(Lg),propertyName:Bg,attributeName:Mg(Bg),className:Mg(Pg),labelName:Mg(Pg),namespace:Mg(Pg),macroName:Mg(Pg),literal:Fg,string:_g,docString:Mg(_g),character:Mg(_g),attributeValue:Mg(_g),number:zg,integer:Mg(zg),float:Mg(zg),bool:Mg(Fg),regexp:Mg(Fg),escape:Mg(Fg),color:Mg(Fg),url:Mg(Fg),keyword:Wg,self:Mg(Wg),null:Mg(Wg),atom:Mg(Wg),unit:Mg(Wg),modifier:Mg(Wg),operatorKeyword:Mg(Wg),controlKeyword:Mg(Wg),definitionKeyword:Mg(Wg),moduleKeyword:Mg(Wg),operator:Gg,derefOperator:Mg(Gg),arithmeticOperator:Mg(Gg),logicOperator:Mg(Gg),bitwiseOperator:Mg(Gg),compareOperator:Mg(Gg),updateOperator:Mg(Gg),definitionOperator:Mg(Gg),typeOperator:Mg(Gg),controlOperator:Mg(Gg),punctuation:jg,separator:Mg(jg),bracket:Hg,angleBracket:Mg(Hg),squareBracket:Mg(Hg),paren:Mg(Hg),brace:Mg(Hg),content:Vg,heading:Zg,heading1:Mg(Zg),heading2:Mg(Zg),heading3:Mg(Zg),heading4:Mg(Zg),heading5:Mg(Zg),heading6:Mg(Zg),contentSeparator:Mg(Vg),list:Mg(Vg),quote:Mg(Vg),emphasis:Mg(Vg),strong:Mg(Vg),link:Mg(Vg),monospace:Mg(Vg),strikethrough:Mg(Vg),inserted:Mg(),deleted:Mg(),changed:Mg(),invalid:Mg(),meta:Yg,documentMeta:Mg(Yg),annotation:Mg(Yg),processingInstruction:Mg(Yg),definition:wg.defineModifier("definition"),constant:wg.defineModifier("constant"),function:wg.defineModifier("function"),standard:wg.defineModifier("standard"),local:wg.defineModifier("local"),special:wg.defineModifier("special")};for(let t in Ug){let e=Ug[t];e instanceof wg&&(e.name=t)}var Kg;Og([{tag:Ug.link,class:"tok-link"},{tag:Ug.heading,class:"tok-heading"},{tag:Ug.emphasis,class:"tok-emphasis"},{tag:Ug.strong,class:"tok-strong"},{tag:Ug.keyword,class:"tok-keyword"},{tag:Ug.atom,class:"tok-atom"},{tag:Ug.bool,class:"tok-bool"},{tag:Ug.url,class:"tok-url"},{tag:Ug.labelName,class:"tok-labelName"},{tag:Ug.inserted,class:"tok-inserted"},{tag:Ug.deleted,class:"tok-deleted"},{tag:Ug.literal,class:"tok-literal"},{tag:Ug.string,class:"tok-string"},{tag:Ug.number,class:"tok-number"},{tag:[Ug.regexp,Ug.escape,Ug.special(Ug.string)],class:"tok-string2"},{tag:Ug.variableName,class:"tok-variableName"},{tag:Ug.local(Ug.variableName),class:"tok-variableName tok-local"},{tag:Ug.definition(Ug.variableName),class:"tok-variableName tok-definition"},{tag:Ug.special(Ug.variableName),class:"tok-variableName2"},{tag:Ug.definition(Ug.propertyName),class:"tok-propertyName tok-definition"},{tag:Ug.typeName,class:"tok-typeName"},{tag:Ug.namespace,class:"tok-namespace"},{tag:Ug.className,class:"tok-className"},{tag:Ug.macroName,class:"tok-macroName"},{tag:Ug.propertyName,class:"tok-propertyName"},{tag:Ug.operator,class:"tok-operator"},{tag:Ug.comment,class:"tok-comment"},{tag:Ug.meta,class:"tok-meta"},{tag:Ug.invalid,class:"tok-invalid"},{tag:Ug.punctuation,class:"tok-punctuation"}]);const Qg=new Kr,Xg=new Kr;class qg{constructor(t,e,i=[],n=""){this.data=t,this.name=n,Et.prototype.hasOwnProperty("tree")||Object.defineProperty(Et.prototype,"tree",{get(){return $g(this)}}),this.parser=e,this.extension=[AA.of(this),Et.languageData.of((t,e,i)=>{let n=Jg(t,e,i),o=n.type.prop(Qg);if(!o)return[];let s=t.facet(o),r=n.type.prop(Xg);if(r){let o=n.resolve(e-n.from,i);for(let e of r)if(e.test(o,t)){let i=t.facet(e.facet);return"replace"==e.type?i:i.concat(s)}}return s})].concat(i)}isActiveAt(t,e,i=-1){return Jg(t,e,i).type.prop(Qg)==this.data}findRegions(t){let e=t.facet(AA);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],n=(t,e)=>{if(t.prop(Qg)==this.data)return void i.push({from:e,to:e+t.length});let o=t.prop(Kr.mounted);if(o){if(o.tree.prop(Qg)==this.data){if(o.overlay)for(let t of o.overlay)i.push({from:t.from+e,to:t.to+e});else i.push({from:e,to:e+t.length});return}if(o.overlay){let t=i.length;if(n(o.tree,o.overlay[0].from+e),i.length>t)return}}for(let i=0;i<t.children.length;i++){let o=t.children[i];o instanceof eg&&n(o,t.positions[i]+e)}};return n($g(t),0),i}get allowsNesting(){return!0}}function Jg(t,e,i){let n=t.facet(AA),o=$g(t).topNode;if(!n||n.allowsNesting)for(let t=o;t;t=t.enter(e,i,tg.ExcludeBuffers))t.type.isTop&&(o=t);return o}function $g(t){let e=t.field(qg.state,!1);return e?e.tree:eg.empty}qg.setState=ct.define();class tA{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let eA=null;class iA{constructor(t,e,i=[],n,o,s,r,g){this.parser=t,this.state=e,this.fragments=i,this.tree=n,this.treeLen=o,this.viewport=s,this.skipped=r,this.scheduleOn=g,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new iA(t,e,[],eg.empty,0,i,[],null)}startParse(){return this.parser.startParse(new tA(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=eg.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(mg.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(mg.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=eA;eA=this;try{return t()}finally{eA=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=nA(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:n,treeLen:o,viewport:s,skipped:r}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges((t,i,n,o)=>e.push({fromA:t,toA:i,fromB:n,toB:o})),i=mg.applyChanges(i,e),n=eg.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){r=[];for(let e of this.skipped){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);i<n&&r.push({from:i,to:n})}}}return new iA(this.parser,e,i,n,o,s,r,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:i,to:n}=this.skipped[e];i<t.to&&n>t.from&&(this.fragments=nA(this.fragments,i,n),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends vg{createParse(e,i,n){let o=n[0].from,s=n[n.length-1].to;return{parsedPos:o,advance(){let e=eA;if(e){for(let t of n)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new eg(qr.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return eA}}function nA(t,e,i){return mg.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class oA{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new oA(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=iA.create(t.facet(AA).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new oA(i)}}qg.state=Q.define({create:oA.init,update(t,e){for(let t of e.effects)if(t.is(qg.setState))return t.value;return e.startState.facet(AA)!=e.state.facet(AA)?oA.init(e.state):t.apply(e)}});let sA=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(sA=t=>{let e=-1,i=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const rA="undefined"!=typeof navigator&&(null===(Kg=navigator.scheduling)||void 0===Kg?void 0:Kg.isInputPending)?()=>navigator.scheduling.isInputPending():null,gA=en.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(qg.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(qg.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=sA(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,o=i.field(qg.state);if(o.tree==o.context.tree&&o.context.isDone(n+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!rA?Math.max(25,t.timeRemaining()-5):1e9),r=o.context.treeLen<n&&i.doc.length>n+1e3,g=o.context.work(()=>rA&&rA()||Date.now()>s,n+(r?0:1e5));this.chunkBudget-=Date.now()-e,(g||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:qg.setState.of(new oA(o.context))})),this.chunkBudget>0&&(!g||r)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(t=>qi(this.view.state,t)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),AA=W.define({combine:t=>t.length?t[0]:null,enables:t=>[qg.state,gA,is.contentAttributes.compute([t],e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}})]}),aA=W.define(),CA=W.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function IA(t){let e=t.facet(CA);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function lA(t,e){let i="",n=t.tabSize,o=t.facet(CA)[0];if("\t"==o){for(;e>=n;)i+="\t",e-=n;o=" "}for(let t=0;t<e;t++)i+=o;return i}function hA(t,e){t instanceof Et&&(t=new cA(t));for(let i of t.state.facet(aA)){let n=i(t,e);if(void 0!==n)return n}let i=$g(t.state);return i.length>=e?function(t,e,i){let n=e.resolveStack(i),o=e.resolveInner(i,-1).resolve(i,0).enterUnfinishedNodesBefore(i);if(o!=n.node){let t=[];for(let e=o;e&&!(e.from<n.node.from||e.to>n.node.to||e.from==n.node.from&&e.type==n.node.type);e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)n={node:t[e],next:n}}return uA(n,t,i)}(t,i,e):null}class cA{constructor(t,e={}){this.state=t,this.options=e,this.unit=IA(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:n,simulateDoubleBreak:o}=this.options;return null!=n&&n>=i.from&&n<=i.to?o&&n==t?{text:"",from:t}:(e<0?n<t:n<=t)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(t,e);return i.slice(t-n,Math.min(i.length,t+100-n))}column(t,e=1){let{text:i,from:n}=this.lineAt(t,e),o=this.countColumn(i,t-n),s=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(t,e=t.length){return Gt(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:n}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let t=o(n);if(t>-1)return t}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const dA=new Kr;function uA(t,e,i){for(let n=t;n;n=n.next){let t=pA(n.node);if(t)return t(mA.create(e,i,n))}return 0}function pA(t){let e=t.type.prop(dA);if(e)return e;let i,n=t.firstChild;if(n&&(i=n.type.prop(Kr.closedBy))){let e=t.lastChild,n=e&&i.indexOf(e.name)>-1;return t=>function(t,e,i,n,o){let s=t.textAfter,r=s.match(/^\s*/)[0].length,g=n&&s.slice(r,r+n.length)==n||o==t.pos+r,A=e?function(t){let e=t.node,i=e.childAfter(e.from),n=e.lastChild;if(!i)return null;let o=t.options.simulateBreak,s=t.state.doc.lineAt(i.from),r=null==o||o<=s.from?s.to:Math.min(s.to,o);for(let t=i.to;;){let o=e.childAfter(t);if(!o||o==n)return null;if(!o.type.isSkipped){if(o.from>=r)return null;let t=/^ */.exec(s.text.slice(i.to-s.from))[0].length;return{from:i.from,to:i.to+t}}t=o.to}}(t):null;return A?g?t.column(A.from):t.column(A.to):t.baseIndent+(g?0:t.unit*i)}(t,!0,1,void 0,n&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?fA:null}function fA(){return 0}class mA extends cA{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.context=i}get node(){return this.context.node}static create(t,e,i){return new mA(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let i=t.resolve(e.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(vA(i,t))break;e=this.state.doc.lineAt(i.from)}return this.lineIndent(e.from)}continue(){return uA(this.context.next,this.base,this.pos)}}function vA(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}const bA=W.define(),yA=new Kr;function wA(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function xA(t,e,i){for(let n of t.facet(bA)){let o=n(t,e,i);if(o)return o}return function(t,e,i){let n=$g(t);if(n.length<i)return null;let o=null;for(let s=n.resolveStack(i,1);s;s=s.next){let r=s.node;if(r.to<=i||r.from>i)continue;if(o&&r.from<e)break;let g=r.type.prop(yA);if(g&&(r.to<n.length-50||n.length==t.doc.length||!wA(r))){let n=g(r,t);n&&n.from<=i&&n.from>=e&&n.to>i&&(o=n)}}return o}(t,e,i)}function EA(t,e){let i=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return i>=n?void 0:{from:i,to:n}}const kA=ct.define({map:EA}),TA=ct.define({map:EA});function SA(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some(t=>t.from<=i&&t.to>=i)||e.push(t.lineBlockAt(i));return e}const OA=Q.define({create:()=>si.none,update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((e,i)=>t=DA(t,e,i)),t=t.map(e.changes);for(let i of e.effects)if(i.is(kA)&&!MA(t,i.value.from,i.value.to)){let{preparePlaceholder:n}=e.state.facet(FA),o=n?si.replace({widget:new ZA(n(e.state,i.value))}):VA;t=t.update({add:[o.range(i.value.from,i.value.to)]})}else i.is(TA)&&(t=t.update({filter:(t,e)=>i.value.from!=t||i.value.to!=e,filterFrom:i.value.from,filterTo:i.value.to}));return e.selection&&(t=DA(t,e.selection.main.head)),t},provide:t=>is.decorations.from(t),toJSON(t,e){let i=[];return t.between(0,e.doc.length,(t,e)=>{i.push(t,e)}),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let i=0;i<t.length;){let n=t[i++],o=t[i++];if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");e.push(VA.range(n,o))}return si.set(e,!0)}});function DA(t,e,i=e){let n=!1;return t.between(e,i,(t,o)=>{t<i&&o>e&&(n=!0)}),n?t.update({filterFrom:e,filterTo:i,filter:(t,n)=>t>=i||n<=e}):t}function NA(t,e,i){var n;let o=null;return null===(n=t.field(OA,!1))||void 0===n||n.between(e,i,(t,e)=>{(!o||o.from>t)&&(o={from:t,to:e})}),o}function MA(t,e,i){let n=!1;return t.between(e,e,(t,o)=>{t==e&&o==i&&(n=!0)}),n}function RA(t,e){return t.field(OA,!1)?e:e.concat(ct.appendConfig.of(_A()))}function PA(t,e,i=!0){let n=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return is.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${o}.`)}const LA=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of SA(t)){let i=xA(t.state,e.from,e.to);if(i)return t.dispatch({effects:RA(t.state,[kA.of(i),PA(t,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(OA,!1))return!1;let e=[];for(let i of SA(t)){let n=NA(t.state,i.from,i.to);n&&e.push(TA.of(n),PA(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,i=[];for(let n=0;n<e.doc.length;){let o=t.lineBlockAt(n),s=xA(e,o.from,o.to);s&&i.push(kA.of(s)),n=(s?t.lineBlockAt(s.to):o).to+1}return i.length&&t.dispatch({effects:RA(t.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(OA,!1);if(!e||!e.size)return!1;let i=[];return e.between(0,t.state.doc.length,(t,e)=>{i.push(TA.of({from:t,to:e}))}),t.dispatch({effects:i}),!0}}],BA={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},FA=W.define({combine:t=>kt(t,BA)});function _A(t){let e=[OA,HA];return t&&e.push(FA.of(t)),e}function zA(t,e){let{state:i}=t,n=i.facet(FA),o=e=>{let i=t.lineBlockAt(t.posAtDOM(e.target)),n=NA(t.state,i.from,i.to);n&&t.dispatch({effects:TA.of(n)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,o,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=o,s}const VA=si.replace({widget:new class extends ni{toDOM(t){return zA(t,null)}}});class ZA extends ni{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return zA(t,this.value)}}const WA={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class GA extends br{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function jA(t={}){let e={...WA,...t},i=new GA(e,!0),n=new GA(e,!1),o=en.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(AA)!=t.state.facet(AA)||t.startState.field(OA,!1)!=t.state.field(OA,!1)||$g(t.startState)!=$g(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new Mt;for(let o of t.viewportLineBlocks){let s=NA(t.state,o.from,o.to)?n:xA(t.state,o.from,o.to)?i:null;s&&e.add(o.from,o.from,s)}return e.finish()}}),{domEventHandlers:s}=e;return[o,kr({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(o))||void 0===e?void 0:e.markers)||Nt.empty},initialSpacer:()=>new GA(e,!1),domEventHandlers:{...s,click:(t,e,i)=>{if(s.click&&s.click(t,e,i))return!0;let n=NA(t.state,e.from,e.to);if(n)return t.dispatch({effects:TA.of(n)}),!0;let o=xA(t.state,e.from,e.to);return!!o&&(t.dispatch({effects:kA.of(o)}),!0)}}}),_A()]}const HA=is.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class YA{constructor(t,e){let i;function n(t){let e=Kt.newName();return(i||(i=Object.create(null)))["."+e]=t,e}this.specs=t;const o="string"==typeof e.all?e.all:e.all?n(e.all):void 0,s=e.scope;this.scope=s instanceof qg?t=>t.prop(Qg)==s.data:s?t=>t==s:void 0,this.style=Og(t.map(t=>({tag:t.tag,class:t.class||n(Object.assign({},t,{tag:null}))})),{all:o}).style,this.module=i?new Kt(i):null,this.themeType=e.themeType}static define(t,e){return new YA(t,e||{})}}const UA=W.define(),KA=W.define({combine:t=>t.length?[t[0]]:null});function QA(t){let e=t.facet(UA);return e.length?e:t.facet(KA)}function XA(t,e){let i,n=[JA];return t instanceof YA&&(t.module&&n.push(is.styleModule.of(t.module)),i=t.themeType),(null==e?void 0:e.fallback)?n.push(KA.of(t)):i?n.push(UA.computeN([is.darkTheme],e=>e.facet(is.darkTheme)==("dark"==i)?[t]:[])):n.push(UA.of(t)),n}class qA{constructor(t){this.markCache=Object.create(null),this.tree=$g(t.state),this.decorations=this.buildDeco(t,QA(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=$g(t.state),i=QA(t.state),n=i!=QA(t.startState),{viewport:o}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<o.to&&!n&&e.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i),this.decoratedTo=o.to)}buildDeco(t,e){if(!e||!this.tree.length)return si.none;let i=new Mt;for(let{from:n,to:o}of t.visibleRanges)Dg(this.tree,e,(t,e,n)=>{i.add(t,e,this.markCache[n]||(this.markCache[n]=si.mark({class:n})))},n,o);return i.finish()}}const JA=q.high(en.fromClass(qA,{decorations:t=>t.decorations})),$A=YA.define([{tag:Ug.meta,color:"#404740"},{tag:Ug.link,textDecoration:"underline"},{tag:Ug.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ug.emphasis,fontStyle:"italic"},{tag:Ug.strong,fontWeight:"bold"},{tag:Ug.strikethrough,textDecoration:"line-through"},{tag:Ug.keyword,color:"#708"},{tag:[Ug.atom,Ug.bool,Ug.url,Ug.contentSeparator,Ug.labelName],color:"#219"},{tag:[Ug.literal,Ug.inserted],color:"#164"},{tag:[Ug.string,Ug.deleted],color:"#a11"},{tag:[Ug.regexp,Ug.escape,Ug.special(Ug.string)],color:"#e40"},{tag:Ug.definition(Ug.variableName),color:"#00f"},{tag:Ug.local(Ug.variableName),color:"#30a"},{tag:[Ug.typeName,Ug.namespace],color:"#085"},{tag:Ug.className,color:"#167"},{tag:[Ug.special(Ug.variableName),Ug.macroName],color:"#256"},{tag:Ug.definition(Ug.propertyName),color:"#00c"},{tag:Ug.comment,color:"#940"},{tag:Ug.invalid,color:"#f00"}]),ta=is.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ea="()[]{}",ia=W.define({combine:t=>kt(t,{afterCursor:!0,brackets:ea,maxScanDistance:1e4,renderMatch:sa})}),na=si.mark({class:"cm-matchingBracket"}),oa=si.mark({class:"cm-nonmatchingBracket"});function sa(t){let e=[],i=t.matched?na:oa;return e.push(i.range(t.start.from,t.start.to)),t.end&&e.push(i.range(t.end.from,t.end.to)),e}const ra=Q.define({create:()=>si.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let i=[],n=e.state.facet(ia);for(let t of e.state.selection.ranges){if(!t.empty)continue;let o=la(e.state,t.head,-1,n)||t.head>0&&la(e.state,t.head-1,1,n)||n.afterCursor&&(la(e.state,t.head,1,n)||t.head<e.state.doc.length&&la(e.state,t.head+1,-1,n));o&&(i=i.concat(n.renderMatch(o,e.state)))}return si.set(i,!0)},provide:t=>is.decorations.from(t)}),ga=[ra,ta];function Aa(t={}){return[ia.of(t),ga]}const aa=new Kr;function Ca(t,e,i){let n=t.prop(e<0?Kr.openedBy:Kr.closedBy);if(n)return n;if(1==t.name.length){let n=i.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[i[n+e]]}return null}function Ia(t){let e=t.type.prop(aa);return e?e(t.node):t}function la(t,e,i,n={}){let o=n.maxScanDistance||1e4,s=n.brackets||ea,r=$g(t),g=r.resolveInner(e,i);for(let t=g;t;t=t.parent){let n=Ca(t.type,i,s);if(n&&t.from<t.to){let o=Ia(t);if(o&&(i>0?e>=o.from&&e<o.to:e>o.from&&e<=o.to))return ha(0,0,i,t,o,n,s)}}return function(t,e,i,n,o,s,r){let g=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),A=r.indexOf(g);if(A<0||A%2==0!=i>0)return null;let a={from:i<0?e-1:e,to:i>0?e+1:e},C=t.doc.iterRange(e,i>0?t.doc.length:0),I=0;for(let t=0;!C.next().done&&t<=s;){let s=C.value;i<0&&(t+=s.length);let g=e+t*i;for(let t=i>0?0:s.length-1,e=i>0?s.length:-1;t!=e;t+=i){let e=r.indexOf(s[t]);if(!(e<0||n.resolveInner(g+t,1).type!=o))if(e%2==0==i>0)I++;else{if(1==I)return{start:a,end:{from:g+t,to:g+t+1},matched:e>>1==A>>1};I--}}i>0&&(t+=s.length)}return C.done?{start:a,matched:!1}:null}(t,e,i,r,g.type,o,s)}function ha(t,e,i,n,o,s,r){let g=n.parent,A={from:o.from,to:o.to},a=0,C=null==g?void 0:g.cursor();if(C&&(i<0?C.childBefore(n.from):C.childAfter(n.to)))do{if(i<0?C.to<=n.from:C.from>=n.to){if(0==a&&s.indexOf(C.type.name)>-1&&C.from<C.to){let t=Ia(C);return{start:A,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(Ca(C.type,i,r))a++;else if(Ca(C.type,-i,r)){if(0==a){let t=Ia(C);return{start:A,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}a--}}}while(i<0?C.prevSibling():C.nextSibling());return{start:A,matched:!1}}const ca=Object.create(null),da=[qr.none],ua=[],pa=Object.create(null),fa=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])fa[t]=va(ca,e);function ma(t,e){ua.indexOf(t)>-1||(ua.push(t),console.warn(e))}function va(t,e){let i=[];for(let n of e.split(" ")){let e=[];for(let i of n.split(".")){let n=t[i]||Ug[i];n?"function"==typeof n?e.length?e=e.map(n):ma(i,`Modifier ${i} used at start of tag`):e.length?ma(i,`Tag ${i} used as modifier`):e=Array.isArray(n)?n:[n]:ma(i,`Unknown highlighting tag ${i}`)}for(let t of e)i.push(t)}if(!i.length)return 0;let n=e.replace(/ /g,"_"),o=n+" "+i.map(t=>t.id),s=pa[o];if(s)return s.id;let r=pa[o]=qr.define({id:da.length,name:n,props:[kg({[n]:i})]});return da.push(r),r.id}function ba(t,e){return({state:i,dispatch:n})=>{if(i.readOnly)return!1;let o=t(e,i);return!!o&&(n(i.update(o)),!0)}}pi.RTL,pi.LTR;const ya=ba(Sa,0),wa=ba(Ta,0),xa=ba((t,e)=>Ta(t,e,function(t){let e=[];for(let i of t.selection.ranges){let n=t.doc.lineAt(i.from),o=i.to<=n.to?n:t.doc.lineAt(i.to);o.from>n.from&&o.from==i.to&&(o=i.to==n.to+1?n:t.doc.lineAt(i.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=o.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:o.to})}return e}(e)),0);function Ea(t,e){let i=t.languageDataAt("commentTokens",e,1);return i.length?i[0]:{}}const ka=50;function Ta(t,e,i=e.selection.ranges){let n=i.map(t=>Ea(e,t.from).block);if(!n.every(t=>t))return null;let o=i.map((t,i)=>function(t,{open:e,close:i},n,o){let s,r,g=t.sliceDoc(n-ka,n),A=t.sliceDoc(o,o+ka),a=/\s*$/.exec(g)[0].length,C=/^\s*/.exec(A)[0].length,I=g.length-a;if(g.slice(I-e.length,I)==e&&A.slice(C,C+i.length)==i)return{open:{pos:n-a,margin:a&&1},close:{pos:o+C,margin:C&&1}};o-n<=2*ka?s=r=t.sliceDoc(n,o):(s=t.sliceDoc(n,n+ka),r=t.sliceDoc(o-ka,o));let l=/^\s*/.exec(s)[0].length,h=/\s*$/.exec(r)[0].length,c=r.length-h-i.length;return s.slice(l,l+e.length)==e&&r.slice(c,c+i.length)==i?{open:{pos:n+l+e.length,margin:/\s/.test(s.charAt(l+e.length))?1:0},close:{pos:o-h-i.length,margin:/\s/.test(r.charAt(c-1))?1:0}}:null}(e,n[i],t.from,t.to));if(2!=t&&!o.every(t=>t))return{changes:e.changes(i.map((t,e)=>o[e]?[]:[{from:t.from,insert:n[e].open+" "},{from:t.to,insert:" "+n[e].close}]))};if(1!=t&&o.some(t=>t)){let t=[];for(let e,i=0;i<o.length;i++)if(e=o[i]){let o=n[i],{open:s,close:r}=e;t.push({from:s.pos-o.open.length,to:s.pos+s.margin},{from:r.pos-r.margin,to:r.pos+o.close.length})}return{changes:t}}return null}function Sa(t,e,i=e.selection.ranges){let n=[],o=-1;for(let{from:t,to:s}of i){let i=n.length,r=1e9,g=Ea(e,t).line;if(g){for(let i=t;i<=s;){let A=e.doc.lineAt(i);if(A.from>o&&(t==s||s>A.from)){o=A.from;let t=/^\s*/.exec(A.text)[0].length,e=t==A.length,i=A.text.slice(t,t+g.length)==g?t:-1;t<A.text.length&&t<r&&(r=t),n.push({line:A,comment:i,token:g,indent:t,empty:e,single:!1})}i=A.to+1}if(r<1e9)for(let t=i;t<n.length;t++)n[t].indent<n[t].line.text.length&&(n[t].indent=r);n.length==i+1&&(n[i].single=!0)}}if(2!=t&&n.some(t=>t.comment<0&&(!t.empty||t.single))){let t=[];for(let{line:e,token:i,indent:o,empty:s,single:r}of n)!r&&s||t.push({from:e.from+o,insert:i+" "});let i=e.changes(t);return{changes:i,selection:e.selection.map(i,1)}}if(1!=t&&n.some(t=>t.comment>=0)){let t=[];for(let{line:e,comment:i,token:o}of n)if(i>=0){let n=e.from+i,s=n+o.length;" "==e.text[s-e.from]&&s++,t.push({from:n,to:s})}return{changes:t}}return null}const Oa=It.define(),Da=It.define(),Na=W.define(),Ma=W.define({combine:t=>kt(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,n)=>t(i,n)||e(i,n)})}),Ra=Q.define({create:()=>Xa.empty,update(t,e){let i=e.state.facet(Ma),n=e.annotation(Oa);if(n){let o=Va.fromTransaction(e,n.selection),s=n.side,r=0==s?t.undone:t.done;return r=o?Za(r,r.length,i.minDepth,o):Ha(r,e.startState.selection),new Xa(0==s?n.rest:r,0==s?r:n.rest)}let o=e.annotation(Da);if("full"!=o&&"before"!=o||(t=t.isolate()),!1===e.annotation(dt.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Va.fromTransaction(e),r=e.annotation(dt.time),g=e.annotation(dt.userEvent);return s?t=t.addChanges(s,r,g,i,e):e.selection&&(t=t.addSelection(e.startState.selection,r,g,i.newGroupDelay)),"full"!=o&&"after"!=o||(t=t.isolate()),t},toJSON:t=>({done:t.done.map(t=>t.toJSON()),undone:t.undone.map(t=>t.toJSON())}),fromJSON:t=>new Xa(t.done.map(Va.fromJSON),t.undone.map(Va.fromJSON))});function Pa(t={}){return[Ra,Ma.of(t),is.domEventHandlers({beforeinput(t,e){let i="historyUndo"==t.inputType?Ba:"historyRedo"==t.inputType?Fa:null;return!!i&&(t.preventDefault(),i(e))}})]}function La(t,e){return function({state:i,dispatch:n}){if(!e&&i.readOnly)return!1;let o=i.field(Ra,!1);if(!o)return!1;let s=o.pop(t,i,e);return!!s&&(n(s),!0)}}const Ba=La(0,!1),Fa=La(1,!1),_a=La(0,!0),za=La(1,!0);class Va{constructor(t,e,i,n,o){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=n,this.selectionsAfter=o}setSelAfter(t){return new Va(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(t=>t.toJSON())}}static fromJSON(t){return new Va(t.changes&&N.fromJSON(t.changes),[],t.mapped&&D.fromJSON(t.mapped),t.startSelection&&z.fromJSON(t.startSelection),t.selectionsAfter.map(z.fromJSON))}static fromTransaction(t,e){let i=Ga;for(let e of t.startState.facet(Na)){let n=e(t);n.length&&(i=i.concat(n))}return!i.length&&t.changes.empty?null:new Va(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,Ga)}static selection(t){return new Va(void 0,Ga,void 0,void 0,t)}}function Za(t,e,i,n){let o=e+1>i+20?e-i-1:0,s=t.slice(o,e);return s.push(n),s}function Wa(t,e){return t.length?e.length?t.concat(e):t:e}const Ga=[],ja=200;function Ha(t,e){if(t.length){let i=t[t.length-1],n=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-ja));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),Za(t,t.length-1,1e9,i.setSelAfter(n)))}return[Va.selection([e])]}function Ya(t){let e=t[t.length-1],i=t.slice();return i[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),i}function Ua(t,e){if(!t.length)return t;let i=t.length,n=Ga;for(;i;){let o=Ka(t[i-1],e,n);if(o.changes&&!o.changes.empty||o.effects.length){let e=t.slice(0,i);return e[i-1]=o,e}e=o.mapped,i--,n=o.selectionsAfter}return n.length?[Va.selection(n)]:Ga}function Ka(t,e,i){let n=Wa(t.selectionsAfter.length?t.selectionsAfter.map(t=>t.map(e)):Ga,i);if(!t.changes)return Va.selection(n);let o=t.changes.map(e),s=e.mapDesc(t.changes,!0),r=t.mapped?t.mapped.composeDesc(s):s;return new Va(o,ct.mapEffects(t.effects,e),r,t.startSelection.map(s),n)}const Qa=/^(input\.type|delete)($|\.)/;class Xa{constructor(t,e,i=0,n=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new Xa(this.done,this.undone):this}addChanges(t,e,i,n,o){let s=this.done,r=s[s.length-1];return s=r&&r.changes&&!r.changes.empty&&t.changes&&(!i||Qa.test(i))&&(!r.selectionsAfter.length&&e-this.prevTime<n.newGroupDelay&&n.joinToEvent(o,function(t,e){let i=[],n=!1;return t.iterChangedRanges((t,e)=>i.push(t,e)),e.iterChangedRanges((t,e,o,s)=>{for(let t=0;t<i.length;){let e=i[t++],r=i[t++];s>=e&&o<=r&&(n=!0)}}),n}(r.changes,t.changes))||"input.type.compose"==i)?Za(s,s.length-1,n.minDepth,new Va(t.changes.compose(r.changes),Wa(ct.mapEffects(t.effects,r.changes),r.effects),r.mapped,r.startSelection,Ga)):Za(s,s.length,n.minDepth,t),new Xa(s,Ga,e,i)}addSelection(t,e,i,n){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Ga;return o.length>0&&e-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&(s=o[o.length-1],r=t,s.ranges.length==r.ranges.length&&0===s.ranges.filter((t,e)=>t.empty!=r.ranges[e].empty).length)?this:new Xa(Ha(this.done,t),this.undone,e,i);var s,r}addMapping(t){return new Xa(Ua(this.done,t),Ua(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let n=0==t?this.done:this.undone;if(0==n.length)return null;let o=n[n.length-1],s=o.selectionsAfter[0]||e.selection;if(i&&o.selectionsAfter.length)return e.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Oa.of({side:t,rest:Ya(n),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let i=1==n.length?Ga:n.slice(0,n.length-1);return o.mapped&&(i=Ua(i,o.mapped)),e.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Oa.of({side:t,rest:i,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}Xa.empty=new Xa(Ga,Ga);const qa=[{key:"Mod-z",run:Ba,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Fa,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Fa,preventDefault:!0},{key:"Mod-u",run:_a,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:za,preventDefault:!0}];function Ja(t,e){return z.create(t.ranges.map(e),t.mainIndex)}function $a(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function tC({state:t,dispatch:e},i){let n=Ja(t.selection,i);return!n.eq(t.selection,!0)&&(e($a(t,n)),!0)}function eC(t,e){return z.cursor(e?t.to:t.from)}function iC(t,e){return tC(t,i=>i.empty?t.moveByChar(i,e):eC(i,e))}function nC(t){return t.textDirectionAt(t.state.selection.main.head)==pi.LTR}const oC=t=>iC(t,!nC(t)),sC=t=>iC(t,nC(t));function rC(t,e){return tC(t,i=>i.empty?t.moveByGroup(i,e):eC(i,e))}function gC(t,e,i){if(e.type.prop(i))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function AC(t,e,i){let n,o,s=$g(t).resolveInner(e.head),r=i?Kr.closedBy:Kr.openedBy;for(let n=e.head;;){let e=i?s.childAfter(n):s.childBefore(n);if(!e)break;gC(t,e,r)?s=e:n=i?e.to:e.from}return o=s.type.prop(r)&&(n=i?la(t,s.from,1):la(t,s.to,-1))&&n.matched?i?n.end.to:n.end.from:i?s.to:s.from,z.cursor(o,i?-1:1)}function aC(t,e){return tC(t,i=>{if(!i.empty)return eC(i,e);let n=t.moveVertically(i,e);return n.head!=i.head?n:t.moveToLineBoundary(i,e)})}"undefined"!=typeof Intl&&Intl.Segmenter;const CC=t=>aC(t,!1),IC=t=>aC(t,!0);function lC(t){let e,i=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,o=0;if(i){for(let e of t.state.facet(is.scrollMargins)){let i=e(t);(null==i?void 0:i.top)&&(n=Math.max(null==i?void 0:i.top,n)),(null==i?void 0:i.bottom)&&(o=Math.max(null==i?void 0:i.bottom,o))}e=t.scrollDOM.clientHeight-n-o}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:o,selfScroll:i,height:Math.max(t.defaultLineHeight,e-5)}}function hC(t,e){let i,n=lC(t),{state:o}=t,s=Ja(o.selection,i=>i.empty?t.moveVertically(i,e,n.height):eC(i,e));if(s.eq(o.selection))return!1;if(n.selfScroll){let e=t.coordsAtPos(o.selection.main.head),r=t.scrollDOM.getBoundingClientRect(),g=r.top+n.marginTop,A=r.bottom-n.marginBottom;e&&e.top>g&&e.bottom<A&&(i=is.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-g}))}return t.dispatch($a(o,s),{effects:i}),!0}const cC=t=>hC(t,!1),dC=t=>hC(t,!0);function uC(t,e,i){let n=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,i);if(o.head==e.head&&o.head!=(i?n.to:n.from)&&(o=t.moveToLineBoundary(e,i,!1)),!i&&o.head==n.from&&n.length){let i=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;i&&e.head!=n.from+i&&(o=z.cursor(n.from+i))}return o}function pC(t,e){let i=Ja(t.state.selection,t=>{let i=e(t);return z.range(t.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!i.eq(t.state.selection)&&(t.dispatch($a(t.state,i)),!0)}function fC(t,e){return pC(t,i=>t.moveByChar(i,e))}const mC=t=>fC(t,!nC(t)),vC=t=>fC(t,nC(t));function bC(t,e){return pC(t,i=>t.moveByGroup(i,e))}function yC(t,e){return pC(t,i=>t.moveVertically(i,e))}const wC=t=>yC(t,!1),xC=t=>yC(t,!0);function EC(t,e){return pC(t,i=>t.moveVertically(i,e,lC(t).height))}const kC=t=>EC(t,!1),TC=t=>EC(t,!0),SC=({state:t,dispatch:e})=>(e($a(t,{anchor:0})),!0),OC=({state:t,dispatch:e})=>(e($a(t,{anchor:t.doc.length})),!0),DC=({state:t,dispatch:e})=>(e($a(t,{anchor:t.selection.main.anchor,head:0})),!0),NC=({state:t,dispatch:e})=>(e($a(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function MC(t,e){if(t.state.readOnly)return!1;let i="delete.selection",{state:n}=t,o=n.changeByRange(n=>{let{from:o,to:s}=n;if(o==s){let r=e(n);r<o?(i="delete.backward",r=RC(t,r,!1)):r>o&&(i="delete.forward",r=RC(t,r,!0)),o=Math.min(o,r),s=Math.max(s,r)}else o=RC(t,o,!1),s=RC(t,s,!0);return o==s?{range:n}:{changes:{from:o,to:s},range:z.cursor(o,o<n.head?-1:1)}});return!o.changes.empty&&(t.dispatch(n.update(o,{scrollIntoView:!0,userEvent:i,effects:"delete.selection"==i?is.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function RC(t,e,i){if(t instanceof is)for(let n of t.state.facet(is.atomicRanges).map(e=>e(t)))n.between(e,e,(t,n)=>{t<e&&n>e&&(e=i?n:t)});return e}const PC=(t,e,i)=>MC(t,n=>{let o,s,r=n.from,{state:g}=t,A=g.doc.lineAt(r);if(i&&!e&&r>A.from&&r<A.from+200&&!/[^ \t]/.test(o=A.text.slice(0,r-A.from))){if("\t"==o[o.length-1])return r-1;let t=Gt(o,g.tabSize)%IA(g)||IA(g);for(let e=0;e<t&&" "==o[o.length-1-e];e++)r--;s=r}else s=x(A.text,r-A.from,e,e)+A.from,s==r&&A.number!=(e?g.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(A.text.slice(s-A.from,r-A.from))&&(s=x(A.text,s-A.from,!1,!1)+A.from);return s}),LC=t=>PC(t,!1,!0),BC=t=>PC(t,!0,!1),FC=(t,e)=>MC(t,i=>{let n=i.head,{state:o}=t,s=o.doc.lineAt(n),r=o.charCategorizer(n);for(let t=null;;){if(n==(e?s.to:s.from)){n==i.head&&s.number!=(e?o.doc.lines:1)&&(n+=e?1:-1);break}let g=x(s.text,n-s.from,e)+s.from,A=s.text.slice(Math.min(n,g)-s.from,Math.max(n,g)-s.from),a=r(A);if(null!=t&&a!=t)break;" "==A&&n==i.head||(t=a),n=g}return n}),_C=t=>FC(t,!1);function zC(t){let e=[],i=-1;for(let n of t.selection.ranges){let o=t.doc.lineAt(n.from),s=t.doc.lineAt(n.to);if(n.empty||n.to!=s.from||(s=t.doc.lineAt(n.to-1)),i>=o.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(n)}else e.push({from:o.from,to:s.to,ranges:[n]});i=s.number+1}return e}function VC(t,e,i){if(t.readOnly)return!1;let n=[],o=[];for(let e of zC(t)){if(i?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(i?e.to+1:e.from-1),r=s.length+1;if(i){n.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let i of e.ranges)o.push(z.range(Math.min(t.doc.length,i.anchor+r),Math.min(t.doc.length,i.head+r)))}else{n.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)o.push(z.range(t.anchor-r,t.head-r))}}return!!n.length&&(e(t.update({changes:n,scrollIntoView:!0,selection:z.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0)}function ZC(t,e,i){if(t.readOnly)return!1;let n=[];for(let e of zC(t))i?n.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):n.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const WC=jC(!1),GC=jC(!0);function jC(t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:n,to:o}=i,s=e.doc.lineAt(n),r=!t&&n==o&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let i,n=$g(t).resolveInner(e),o=n.childBefore(e),s=n.childAfter(e);return o&&s&&o.to<=e&&s.from>=e&&(i=o.type.prop(Kr.closedBy))&&i.indexOf(s.name)>-1&&t.doc.lineAt(o.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(o.to,s.from))?{from:o.to,to:s.from}:null}(e,n);t&&(n=o=(o<=s.to?s:e.doc.lineAt(o)).to);let g=new cA(e,{simulateBreak:n,simulateDoubleBreak:!!r}),A=hA(g,n);for(null==A&&(A=Gt(/^\s*/.exec(e.doc.lineAt(n).text)[0],e.tabSize));o<s.to&&/\s/.test(s.text[o-s.from]);)o++;r?({from:n,to:o}=r):n>s.from&&n<s.from+100&&!/\S/.test(s.text.slice(0,n))&&(n=s.from);let a=["",lA(e,A)];return r&&a.push(lA(e,g.lineIndent(s.from,-1))),{changes:{from:n,to:o,insert:c.of(a)},range:z.cursor(n+1+a[1].length)}});return i(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function HC(t,e){let i=-1;return t.changeByRange(n=>{let o=[];for(let s=n.from;s<=n.to;){let r=t.doc.lineAt(s);r.number>i&&(n.empty||n.to>r.from)&&(e(r,o,n),i=r.number),s=r.to+1}let s=t.changes(o);return{changes:o,range:z.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const YC=[{key:"Ctrl-b",run:oC,shift:mC,preventDefault:!0},{key:"Ctrl-f",run:sC,shift:vC},{key:"Ctrl-p",run:CC,shift:wC},{key:"Ctrl-n",run:IC,shift:xC},{key:"Ctrl-a",run:t=>tC(t,e=>z.cursor(t.lineBlockAt(e.head).from,1)),shift:t=>pC(t,e=>z.cursor(t.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:t=>tC(t,e=>z.cursor(t.lineBlockAt(e.head).to,-1)),shift:t=>pC(t,e=>z.cursor(t.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:BC},{key:"Ctrl-h",run:LC},{key:"Ctrl-k",run:t=>MC(t,e=>{let i=t.lineBlockAt(e.head).to;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)})},{key:"Ctrl-Alt-h",run:_C},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:c.of(["",""])},range:z.cursor(t.from)}));return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let i=e.from,n=t.doc.lineAt(i),o=i==n.from?i-1:x(n.text,i-n.from,!1)+n.from,s=i==n.to?i+1:x(n.text,i-n.from,!0)+n.from;return{changes:{from:o,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(o,i))},range:z.cursor(s)}});return!i.changes.empty&&(e(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:dC}],UC=[{key:"ArrowLeft",run:oC,shift:mC,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>rC(t,!nC(t)),shift:t=>bC(t,!nC(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>tC(t,e=>uC(t,e,!nC(t))),shift:t=>pC(t,e=>uC(t,e,!nC(t))),preventDefault:!0},{key:"ArrowRight",run:sC,shift:vC,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>rC(t,nC(t)),shift:t=>bC(t,nC(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>tC(t,e=>uC(t,e,nC(t))),shift:t=>pC(t,e=>uC(t,e,nC(t))),preventDefault:!0},{key:"ArrowUp",run:CC,shift:wC,preventDefault:!0},{mac:"Cmd-ArrowUp",run:SC,shift:DC},{mac:"Ctrl-ArrowUp",run:cC,shift:kC},{key:"ArrowDown",run:IC,shift:xC,preventDefault:!0},{mac:"Cmd-ArrowDown",run:OC,shift:NC},{mac:"Ctrl-ArrowDown",run:dC,shift:TC},{key:"PageUp",run:cC,shift:kC},{key:"PageDown",run:dC,shift:TC},{key:"Home",run:t=>tC(t,e=>uC(t,e,!1)),shift:t=>pC(t,e=>uC(t,e,!1)),preventDefault:!0},{key:"Mod-Home",run:SC,shift:DC},{key:"End",run:t=>tC(t,e=>uC(t,e,!0)),shift:t=>pC(t,e=>uC(t,e,!0)),preventDefault:!0},{key:"Mod-End",run:OC,shift:NC},{key:"Enter",run:WC,shift:WC},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:LC,shift:LC},{key:"Delete",run:BC},{key:"Mod-Backspace",mac:"Alt-Backspace",run:_C},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>FC(t,!0)},{mac:"Mod-Backspace",run:t=>MC(t,e=>{let i=t.moveToLineBoundary(e,!1).head;return e.head>i?i:Math.max(0,e.head-1)})},{mac:"Mod-Delete",run:t=>MC(t,e=>{let i=t.moveToLineBoundary(e,!0).head;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)})}].concat(YC.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),KC=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>tC(t,e=>AC(t.state,e,!nC(t))),shift:t=>pC(t,e=>AC(t.state,e,!nC(t)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>tC(t,e=>AC(t.state,e,nC(t))),shift:t=>pC(t,e=>AC(t.state,e,nC(t)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>VC(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>ZC(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>VC(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>ZC(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let i=t.selection,n=null;return i.ranges.length>1?n=z.create([i.main]):i.main.empty||(n=z.create([z.cursor(i.main.head)])),!!n&&(e($a(t,n)),!0)}},{key:"Mod-Enter",run:GC},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let i=zC(t).map(({from:e,to:i})=>z.range(e,Math.min(i+1,t.doc.length)));return e(t.update({selection:z.create(i),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let i=Ja(t.selection,e=>{let i=$g(t),n=i.resolveStack(e.from,1);if(e.empty){let t=i.resolveStack(e.from,-1);t.node.from>=n.node.from&&t.node.to<=n.node.to&&(n=t)}for(let t=n;t;t=t.next){let{node:i}=t;if((i.from<e.from&&i.to>=e.to||i.to>e.to&&i.from<=e.from)&&t.next)return z.range(i.to,i.from)}return e});return!i.eq(t.selection)&&(e($a(t,i)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(HC(t,(e,i)=>{let n=/^\s*/.exec(e.text)[0];if(!n)return;let o=Gt(n,t.tabSize),s=0,r=lA(t,Math.max(0,o-IA(t)));for(;s<n.length&&s<r.length&&n.charCodeAt(s)==r.charCodeAt(s);)s++;i.push({from:e.from+s,to:e.from+n.length,insert:r.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(HC(t,(e,i)=>{i.push({from:e.from,insert:t.facet(CA)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Object.create(null),n=new cA(t,{overrideIndentation:t=>{let e=i[t];return null==e?-1:e}}),o=HC(t,(e,o,s)=>{let r=hA(n,e.from);if(null==r)return;/\S/.test(e.text)||(r=0);let g=/^\s*/.exec(e.text)[0],A=lA(t,r);(g!=A||s.from<e.from+g.length)&&(i[e.from]=r,o.push({from:e.from,to:e.from+g.length,insert:A}))});return o.changes.empty||e(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,i=e.changes(zC(e).map(({from:t,to:i})=>(t>0?t--:i<e.doc.length&&i++,{from:t,to:i}))),n=Ja(e.selection,e=>{let i;if(t.lineWrapping){let n=t.lineBlockAt(e.head),o=t.coordsAtPos(e.head,e.assoc||1);o&&(i=n.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,i)}).map(i);return t.dispatch({changes:i,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,i){let n=!1,o=Ja(t.selection,e=>{let o=la(t,e.head,-1)||la(t,e.head,1)||e.head>0&&la(t,e.head-1,1)||e.head<t.doc.length&&la(t,e.head+1,-1);if(!o||!o.end)return e;n=!0;let s=o.start.from==e.head?o.end.to:o.end.from;return i?z.range(e.anchor,s):z.cursor(s)});return!!n&&(e($a(t,o)),!0)}(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,i=e.doc.lineAt(e.selection.main.from),n=Ea(t.state,i.from);return n.line?ya(t):!!n.block&&xa(t)}},{key:"Alt-A",run:wa},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat(UC);function QC(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n];"string"==typeof o?t.setAttribute(n,o):null!=o&&(t[n]=o)}e++}for(;e<arguments.length;e++)XC(t,arguments[e]);return t}function XC(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var i=0;i<e.length;i++)XC(t,e[i])}}const qC="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class JC{constructor(t,e,i=0,n=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,n),this.bufferStart=i,this.normalize=o?t=>o(qC(t)):qC,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return E(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=k(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=T(t);let n=this.normalize(e);if(n.length)for(let t=0,o=i;;t++){let s=n.charCodeAt(t),r=this.match(s,o,this.bufferPos+this.bufferStart);if(t==n.length-1){if(r)return this.value=r,this;break}o==i&&t<e.length&&e.charCodeAt(t)==s&&o++}}}match(t,e,i){let n=null;for(let e=0;e<this.matches.length;e+=2){let o=this.matches[e],s=!1;this.query.charCodeAt(o)==t&&(o==this.query.length-1?n={from:this.matches[e+1],to:i}:(this.matches[e]++,s=!0)),s||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:i}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(JC.prototype[Symbol.iterator]=function(){return this});const $C={from:-1,to:-1,match:/.*/.exec("")},tI="gm"+(null==/x/.unicode?"":"u");class eI{constructor(t,e,i,n=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=$C,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new oI(t,e,i,n,o);this.re=new RegExp(e,tI+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.iter=t.iter();let s=t.lineAt(n);this.curLineStart=s.from,this.matchPos=sI(t,n),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let i=this.curLineStart+e.index,n=i+e[0].length;if(this.matchPos=sI(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,e)))return this.value={from:i,to:n,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const iI=new WeakMap;class nI{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,i){let n=iI.get(t);if(!n||n.from>=i||n.to<=e){let n=new nI(e,t.sliceString(e,i));return iI.set(t,n),n}if(n.from==e&&n.to==i)return n;let{text:o,from:s}=n;return s>e&&(o=t.sliceString(e,s)+o,s=e),n.to<i&&(o+=t.sliceString(n.to,i)),iI.set(t,new nI(s,o)),new nI(e,o.slice(e-s,i-s))}}class oI{constructor(t,e,i,n,o){this.text=t,this.to=o,this.done=!1,this.value=$C,this.matchPos=sI(t,n),this.re=new RegExp(e,tI+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.flat=nI.get(t,n,this.chunkEnd(n+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,i=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,i,e)))return this.value={from:t,to:i,match:e},this.matchPos=sI(this.text,i+(t==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=nI.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function sI(t,e){if(e>=t.length)return e;let i,n=t.lineAt(e);for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function rI(t){let e=QC("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:n}=t,o=n.doc.lineAt(n.selection.main.head),[,s,r,g,A]=i,a=g?+g.slice(1):0,C=r?+r:o.number;if(r&&A){let t=C/100;s&&(t=t*("-"==s?-1:1)+o.number/n.doc.lines),C=Math.round(n.doc.lines*t)}else r&&s&&(C=C*("-"==s?-1:1)+o.number);let I=n.doc.line(Math.max(1,Math.min(n.doc.lines,C))),l=z.cursor(I.from+Math.max(0,Math.min(a,I.length)));t.dispatch({effects:[gI.of(!1),is.scrollIntoView(l.from,{y:"center"})],selection:l}),t.focus()}return{dom:QC("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:gI.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),i())},onsubmit:t=>{t.preventDefault(),i()}},QC("label",t.state.phrase("Go to line"),": ",e)," ",QC("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),QC("button",{name:"close",onclick:()=>{t.dispatch({effects:gI.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(eI.prototype[Symbol.iterator]=oI.prototype[Symbol.iterator]=function(){return this});const gI=ct.define(),AI=Q.define({create:()=>!0,update(t,e){for(let i of e.effects)i.is(gI)&&(t=i.value);return t},provide:t=>vr.from(t,t=>t?rI:null)}),aI=is.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),CI={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},II=W.define({combine:t=>kt(t,CI,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function lI(t){let e=[pI,uI];return t&&e.push(II.of(t)),e}const hI=si.mark({class:"cm-selectionMatch"}),cI=si.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function dI(t,e,i,n){return!(0!=i&&t(e.sliceDoc(i-1,i))==yt.Word||n!=e.doc.length&&t(e.sliceDoc(n,n+1))==yt.Word)}const uI=en.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(II),{state:i}=t,n=i.selection;if(n.ranges.length>1)return si.none;let o,s=n.main,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return si.none;let t=i.wordAt(s.head);if(!t)return si.none;r=i.charCategorizer(s.head),o=i.sliceDoc(t.from,t.to)}else{let t=s.to-s.from;if(t<e.minSelectionLength||t>200)return si.none;if(e.wholeWords){if(o=i.sliceDoc(s.from,s.to),r=i.charCategorizer(s.head),!dI(r,i,s.from,s.to)||!function(t,e,i,n){return t(e.sliceDoc(i,i+1))==yt.Word&&t(e.sliceDoc(n-1,n))==yt.Word}(r,i,s.from,s.to))return si.none}else if(o=i.sliceDoc(s.from,s.to),!o)return si.none}let g=[];for(let n of t.visibleRanges){let t=new JC(i.doc,o,n.from,n.to);for(;!t.next().done;){let{from:n,to:o}=t.value;if((!r||dI(r,i,n,o))&&(s.empty&&n<=s.from&&o>=s.to?g.push(cI.range(n,o)):(n>=s.to||o<=s.from)&&g.push(hI.range(n,o)),g.length>e.maxMatches))return si.none}}return si.set(g)}},{decorations:t=>t.decorations}),pI=is.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),fI=W.define({combine:t=>kt(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new UI(t),scrollToMatch:t=>is.scrollIntoView(t)})});class mI{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,tI),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new kI(this):new yI(this)}getCursor(t,e=0,i){let n=t.doc?t:Et.create({doc:t});return null==i&&(i=n.doc.length),this.regexp?wI(this,n,e,i):bI(this,n,e,i)}}class vI{constructor(t){this.spec=t}}function bI(t,e,i,n){return new JC(e.doc,t.unquoted,i,n,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?function(t,e){return(i,n,o,s)=>((s>i||s+o.length<n)&&(s=Math.max(0,i-2),o=t.sliceString(s,Math.min(t.length,n+2))),!(e(xI(o,i-s))==yt.Word&&e(EI(o,i-s))==yt.Word||e(EI(o,n-s))==yt.Word&&e(xI(o,n-s))==yt.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class yI extends vI{constructor(t){super(t)}nextMatch(t,e,i){let n=bI(this.spec,t,i,t.doc.length).nextOverlapping();if(n.done){let i=Math.min(t.doc.length,e+this.spec.unquoted.length);n=bI(this.spec,t,0,i).nextOverlapping()}return n.done||n.value.from==e&&n.value.to==i?null:n.value}prevMatchInRange(t,e,i){for(let n=i;;){let i=Math.max(e,n-1e4-this.spec.unquoted.length),o=bI(this.spec,t,i,n),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(i==e)return null;n-=1e4}}prevMatch(t,e,i){let n=this.prevMatchInRange(t,0,e);return n||(n=this.prevMatchInRange(t,Math.max(0,i-this.spec.unquoted.length),t.doc.length)),!n||n.from==e&&n.to==i?null:n}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let i=bI(this.spec,t,0,t.doc.length),n=[];for(;!i.next().done;){if(n.length>=e)return null;n.push(i.value)}return n}highlight(t,e,i,n){let o=bI(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)n(o.value.from,o.value.to)}}function wI(t,e,i,n){return new eI(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(o=e.charCategorizer(e.selection.main.head),(t,e,i)=>!i[0].length||(o(xI(i.input,i.index))!=yt.Word||o(EI(i.input,i.index))!=yt.Word)&&(o(EI(i.input,i.index+i[0].length))!=yt.Word||o(xI(i.input,i.index+i[0].length))!=yt.Word)):void 0},i,n);var o}function xI(t,e){return t.slice(x(t,e,!1),e)}function EI(t,e){return t.slice(e,x(t,e))}class kI extends vI{nextMatch(t,e,i){let n=wI(this.spec,t,i,t.doc.length).next();return n.done&&(n=wI(this.spec,t,0,e).next()),n.done?null:n.value}prevMatchInRange(t,e,i){for(let n=1;;n++){let o=Math.max(e,i-1e4*n),s=wI(this.spec,t,o,i),r=null;for(;!s.next().done;)r=s.value;if(r&&(o==e||r.from>o+10))return r;if(o==e)return null}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(e,i)=>{if("&"==i)return t.match[0];if("$"==i)return"$";for(let e=i.length;e>0;e--){let n=+i.slice(0,e);if(n>0&&n<t.match.length)return t.match[n]+i.slice(e)}return e})}matchAll(t,e){let i=wI(this.spec,t,0,t.doc.length),n=[];for(;!i.next().done;){if(n.length>=e)return null;n.push(i.value)}return n}highlight(t,e,i,n){let o=wI(this.spec,t,Math.max(0,e-250),Math.min(i+250,t.doc.length));for(;!o.next().done;)n(o.value.from,o.value.to)}}const TI=ct.define(),SI=ct.define(),OI=Q.define({create:t=>new DI(ZI(t).create(),null),update(t,e){for(let i of e.effects)i.is(TI)?t=new DI(i.value.create(),t.panel):i.is(SI)&&(t=new DI(t.query,i.value?VI:null));return t},provide:t=>vr.from(t,t=>t.panel)});class DI{constructor(t,e){this.query=t,this.panel=e}}const NI=si.mark({class:"cm-searchMatch"}),MI=si.mark({class:"cm-searchMatch cm-searchMatch-selected"}),RI=en.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(OI))}update(t){let e=t.state.field(OI);(e!=t.startState.field(OI)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return si.none;let{view:i}=this,n=new Mt;for(let e=0,o=i.visibleRanges,s=o.length;e<s;e++){let{from:r,to:g}=o[e];for(;e<s-1&&g>o[e+1].from-500;)g=o[++e].to;t.highlight(i.state,r,g,(t,e)=>{let o=i.state.selection.ranges.some(i=>i.from==t&&i.to==e);n.add(t,e,o?MI:NI)})}return n.finish()}},{decorations:t=>t.decorations});function PI(t){return e=>{let i=e.state.field(OI,!1);return i&&i.query.spec.valid?t(e,i):jI(e)}}const LI=PI((t,{query:e})=>{let{to:i}=t.state.selection.main,n=e.nextMatch(t.state,i,i);if(!n)return!1;let o=z.single(n.from,n.to),s=t.state.facet(fI);return t.dispatch({selection:o,effects:[qI(t,n),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),GI(t),!0}),BI=PI((t,{query:e})=>{let{state:i}=t,{from:n}=i.selection.main,o=e.prevMatch(i,n,n);if(!o)return!1;let s=z.single(o.from,o.to),r=t.state.facet(fI);return t.dispatch({selection:s,effects:[qI(t,o),r.scrollToMatch(s.main,t)],userEvent:"select.search"}),GI(t),!0}),FI=PI((t,{query:e})=>{let i=e.matchAll(t.state,1e3);return!(!i||!i.length||(t.dispatch({selection:z.create(i.map(t=>z.range(t.from,t.to))),userEvent:"select.search.matches"}),0))}),_I=PI((t,{query:e})=>{let{state:i}=t,{from:n,to:o}=i.selection.main;if(i.readOnly)return!1;let s=e.nextMatch(i,n,n);if(!s)return!1;let r,g,A=s,a=[],C=[];A.from==n&&A.to==o&&(g=i.toText(e.getReplacement(A)),a.push({from:A.from,to:A.to,insert:g}),A=e.nextMatch(i,A.from,A.to),C.push(is.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(n).number)+".")));let I=t.state.changes(a);return A&&(r=z.single(A.from,A.to).map(I),C.push(qI(t,A)),C.push(i.facet(fI).scrollToMatch(r.main,t))),t.dispatch({changes:I,selection:r,effects:C,userEvent:"input.replace"}),!0}),zI=PI((t,{query:e})=>{if(t.state.readOnly)return!1;let i=e.matchAll(t.state,1e9).map(t=>{let{from:i,to:n}=t;return{from:i,to:n,insert:e.getReplacement(t)}});if(!i.length)return!1;let n=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:is.announce.of(n),userEvent:"input.replace.all"}),!0});function VI(t){return t.state.facet(fI).createPanel(t)}function ZI(t,e){var i,n,o,s,r;let g=t.selection.main,A=g.empty||g.to>g.from+100?"":t.sliceDoc(g.from,g.to);if(e&&!A)return e;let a=t.facet(fI);return new mI({search:(null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:a.literal)?A:A.replace(/\n/g,"\\n"),caseSensitive:null!==(n=null==e?void 0:e.caseSensitive)&&void 0!==n?n:a.caseSensitive,literal:null!==(o=null==e?void 0:e.literal)&&void 0!==o?o:a.literal,regexp:null!==(s=null==e?void 0:e.regexp)&&void 0!==s?s:a.regexp,wholeWord:null!==(r=null==e?void 0:e.wholeWord)&&void 0!==r?r:a.wholeWord})}function WI(t){let e=ur(t,VI);return e&&e.dom.querySelector("[main-field]")}function GI(t){let e=WI(t);e&&e==t.root.activeElement&&e.select()}const jI=t=>{let e=t.state.field(OI,!1);if(e&&e.panel){let i=WI(t);if(i&&i!=t.root.activeElement){let n=ZI(t.state,e.query.spec);n.valid&&t.dispatch({effects:TI.of(n)}),i.focus(),i.select()}}else t.dispatch({effects:[SI.of(!0),e?TI.of(ZI(t.state,e.query.spec)):ct.appendConfig.of($I)]});return!0},HI=t=>{let e=t.state.field(OI,!1);if(!e||!e.panel)return!1;let i=ur(t,VI);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:SI.of(!1)}),!0},YI=[{key:"Mod-f",run:jI,scope:"editor search-panel"},{key:"F3",run:LI,shift:BI,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:LI,shift:BI,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:HI,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:n,to:o}=i.main,s=[],r=0;for(let e=new JC(t.doc,t.sliceDoc(n,o));!e.next().done;){if(s.length>1e3)return!1;e.value.from==n&&(r=s.length),s.push(z.range(e.value.from,e.value.to))}return e(t.update({selection:z.create(s,r),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=ur(t,rI);if(!e){let i=[gI.of(!0)];null==t.state.field(AI,!1)&&i.push(ct.appendConfig.of([AI,aI])),t.dispatch({effects:i}),e=ur(t,rI)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:i}=t.selection;if(i.some(t=>t.from===t.to))return(({state:t,dispatch:e})=>{let{selection:i}=t,n=z.create(i.ranges.map(e=>t.wordAt(e.head)||z.cursor(e.head)),i.mainIndex);return!n.eq(i)&&(e(t.update({selection:n})),!0)})({state:t,dispatch:e});let n=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(e=>t.sliceDoc(e.from,e.to)!=n))return!1;let o=function(t,e){let{main:i,ranges:n}=t.selection,o=t.wordAt(i.head),s=o&&o.from==i.from&&o.to==i.to;for(let i=!1,o=new JC(t.doc,e,n[n.length-1].to);;){if(o.next(),!o.done){if(i&&n.some(t=>t.from==o.value.from))continue;if(s){let e=t.wordAt(o.value.from);if(!e||e.from!=o.value.from||e.to!=o.value.to)continue}return o.value}if(i)return null;o=new JC(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),i=!0}}(t,n);return!!o&&(e(t.update({selection:t.selection.addRange(z.range(o.from,o.to),!1),effects:is.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class UI{constructor(t){this.view=t;let e=this.query=t.state.field(OI).query.spec;function i(t,e,i){return QC("button",{class:"cm-button",name:t,onclick:e,type:"button"},i)}this.commit=this.commit.bind(this),this.searchField=QC("input",{value:e.search,placeholder:KI(t,"Find"),"aria-label":KI(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=QC("input",{value:e.replace,placeholder:KI(t,"Replace"),"aria-label":KI(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=QC("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=QC("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=QC("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=QC("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,i("next",()=>LI(t),[KI(t,"next")]),i("prev",()=>BI(t),[KI(t,"previous")]),i("select",()=>FI(t),[KI(t,"all")]),QC("label",null,[this.caseField,KI(t,"match case")]),QC("label",null,[this.reField,KI(t,"regexp")]),QC("label",null,[this.wordField,KI(t,"by word")]),...t.state.readOnly?[]:[QC("br"),this.replaceField,i("replace",()=>_I(t),[KI(t,"replace")]),i("replaceAll",()=>zI(t),[KI(t,"replace all")])],QC("button",{name:"close",onclick:()=>HI(t),"aria-label":KI(t,"close"),type:"button"},["×"])])}commit(){let t=new mI({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:TI.of(t)}))}keydown(t){!function(t,e){return us(ls(t.state),e,t,"search-panel")}(this.view,t)?13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?BI:LI)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),_I(this.view)):t.preventDefault()}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(TI)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(fI).top}}function KI(t,e){return t.state.phrase(e)}const QI=30,XI=/[\s\.,:;?!]/;function qI(t,{from:e,to:i}){let n=t.state.doc.lineAt(e),o=t.state.doc.lineAt(i).to,s=Math.max(n.from,e-QI),r=Math.min(o,i+QI),g=t.state.sliceDoc(s,r);if(s!=n.from)for(let t=0;t<QI;t++)if(!XI.test(g[t+1])&&XI.test(g[t])){g=g.slice(t);break}if(r!=o)for(let t=g.length-1;t>g.length-QI;t--)if(!XI.test(g[t-1])&&XI.test(g[t])){g=g.slice(0,t);break}return is.announce.of(`${t.state.phrase("current match")}. ${g} ${t.state.phrase("on line")} ${n.number}.`)}const JI=is.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),$I=[OI,q.low(RI),JI];class tl{constructor(t,e,i,n){this.state=t,this.pos=e,this.explicit=i,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=$g(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),n=e.text.slice(i-e.from,this.pos-e.from),o=n.search(ol(t,!1));return o<0?null:{from:i+o,to:this.pos,text:n.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(t,e,i){"abort"==t&&this.abortListeners&&(this.abortListeners.push(e),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function el(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class il{constructor(t,e,i,n){this.completion=t,this.source=e,this.match=i,this.score=n}}function nl(t){return t.selection.main.from}function ol(t,e){var i;let{source:n}=t,o=e&&"^"!=n[0],s="$"!=n[n.length-1];return o||s?new RegExp(`${o?"^":""}(?:${n})${s?"$":""}`,null!==(i=t.flags)&&void 0!==i?i:t.ignoreCase?"i":""):t}const sl=It.define(),rl=new WeakMap;function gl(t){if(!Array.isArray(t))return t;let e=rl.get(t);return e||rl.set(t,e=function(t){let e=t.map(t=>"string"==typeof t?{label:t}:t),[i,n]=e.every(t=>/^\w+$/.test(t.label))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),i=Object.create(null);for(let{label:n}of t){e[n[0]]=!0;for(let t=1;t<n.length;t++)i[n[t]]=!0}let n=el(e)+el(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(e);return t=>{let o=t.matchBefore(n);return o||t.explicit?{from:o?o.from:t.pos,options:e,validFor:i}:null}}(t)),e}const Al=ct.define(),al=ct.define();class Cl{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let i=E(t,e),n=T(i);this.chars.push(i);let o=t.slice(e,e+n),s=o.toUpperCase();this.folded.push(E(s==o?o.toLowerCase():s,0)),e+=n}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:n,precise:o,byWord:s}=this;if(1==e.length){let n=E(t,0),o=T(n),s=o==t.length?0:-100;if(n==e[0]);else{if(n!=i[0])return null;s+=-200}return this.ret(s,[0,o])}let r=t.indexOf(this.pattern);if(0==r)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let g=e.length,A=0;if(r<0){for(let o=0,s=Math.min(t.length,200);o<s&&A<g;){let s=E(t,o);s!=e[A]&&s!=i[A]||(n[A++]=o),o+=T(s)}if(A<g)return null}let a=0,C=0,I=!1,l=0,h=-1,c=-1,d=/[a-z]/.test(t),u=!0;for(let n=0,A=Math.min(t.length,200),p=0;n<A&&C<g;){let A=E(t,n);r<0&&(a<g&&A==e[a]&&(o[a++]=n),l<g&&(A==e[l]||A==i[l]?(0==l&&(h=n),c=n+1,l++):l=0));let f,m=A<255?A>=48&&A<=57||A>=97&&A<=122?2:A>=65&&A<=90?1:0:(f=k(A))!=f.toLowerCase()?1:f!=f.toUpperCase()?2:0;(!n||1==m&&d||0==p&&0!=m)&&(e[C]==A||i[C]==A&&(I=!0)?s[C++]=n:s.length&&(u=!1)),p=m,n+=T(A)}return C==g&&0==s[0]&&u?this.result((I?-200:0)-100,s,t):l==g&&0==h?this.ret(-200-t.length+(c==t.length?0:-100),[0,c]):r>-1?this.ret(-700-t.length,[r,r+this.pattern.length]):l==g?this.ret(-900-t.length,[h,c]):C==g?this.result((I?-200:0)-100-700+(u?0:-1100),s,t):2==e.length?null:this.result((n[0]?-700:0)-200-1100,n,t)}result(t,e,i){let n=[],o=0;for(let t of e){let e=t+(this.astral?T(E(i,t)):1);o&&n[o-1]==t?n[o-1]=e:(n[o++]=t,n[o++]=e)}return this.ret(t-i.length,n)}}class Il{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),i=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==i?null:(this.matched=[0,e.length],this.score=i+(t.length==this.pattern.length?0:-100),this)}}const ll=W.define({combine:t=>kt(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:cl,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>i=>hl(t(i),e(i)),optionClass:(t,e)=>i=>hl(t(i),e(i)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function hl(t,e){return t?e?t+" "+e:t:e}function cl(t,e,i,n,o,s){let r,g,A=t.textDirection==pi.RTL,a=A,C=!1,I="top",l=e.left-o.left,h=o.right-e.right,c=n.right-n.left,d=n.bottom-n.top;if(a&&l<Math.min(c,h)?a=!1:!a&&h<Math.min(c,l)&&(a=!0),c<=(a?l:h))r=Math.max(o.top,Math.min(i.top,o.bottom-d))-e.top,g=Math.min(400,a?l:h);else{C=!0,g=Math.min(400,(A?e.right:o.right-e.left)-30);let t=o.bottom-e.bottom;t>=d||t>e.top?r=i.bottom-e.top:(I="bottom",r=e.bottom-i.top)}return{style:`${I}: ${r/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${g/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(C?A?"left-narrow":"right-narrow":a?"left":"right")}}function dl(t,e,i){if(t<=i)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/i);return{from:t*i,to:(t+1)*i}}let n=Math.floor((t-e)/i);return{from:t-(n+1)*i,to:t-n*i}}class ul{constructor(t,e,i){this.view=t,this.stateField=e,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let n=t.state.field(e),{options:o,selected:s}=n.open,r=t.state.facet(ll);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map(t=>"cm-completionIcon-"+t)),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,i,n){let o=document.createElement("span");o.className="cm-completionLabel";let s=t.displayLabel||t.label,r=0;for(let t=0;t<n.length;){let e=n[t++],i=n[t++];e>r&&o.appendChild(document.createTextNode(s.slice(r,e)));let g=o.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(s.slice(e,i))),g.className="cm-completionMatchedText",r=i}return r<s.length&&o.appendChild(document.createTextNode(s.slice(r))),o},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort((t,e)=>t.position-e.position).map(t=>t.render)}(r),this.optionClass=r.optionClass,this.tooltipClass=r.tooltipClass,this.range=dl(o.length,s,r.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",i=>{let{options:n}=t.state.field(e).open;for(let e,o=i.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(e=/-(\d+)$/.exec(o.id))&&+e[1]<n.length)return this.applyCompletion(t,n[+e[1]]),void i.preventDefault()}),this.dom.addEventListener("focusout",e=>{let i=t.state.field(this.stateField,!1);i&&i.tooltip&&t.state.facet(ll).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:al.of(null)})}),this.showOptions(o,n.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let i=t.state.field(this.stateField),n=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),i!=n){let{options:o,selected:s,disabled:r}=i.open;n.open&&n.open.options==o||(this.range=dl(o.length,s,t.state.facet(ll).maxRenderedOptions),this.showOptions(o,i.id)),this.updateSel(),r!=(null===(e=n.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!r)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=dl(e.options.length,e.selected,this.view.state.facet(ll).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:i}=e.options[e.selected],{info:n}=i;if(!n)return;let o="string"==typeof n?document.createTextNode(n):n(i);if(!o)return;"then"in o?o.then(e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,i)}).catch(t=>qi(this.view.state,t,"completion info")):this.addInfoPane(o,i)}}addInfoPane(t,e){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",null!=t.nodeType)i.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:n}=t;i.appendChild(e),this.infoDestroy=n||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)"LI"==i.nodeName&&i.id?n==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected"):n--;return e&&function(t,e){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),o=i.height/t.offsetHeight;n.top<i.top?t.scrollTop-=(i.top-n.top)/o:n.bottom>i.bottom&&(t.scrollTop+=(n.bottom-i.bottom)/o)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=t.getBoundingClientRect(),o=this.space;if(!o){let t=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:t.clientWidth,bottom:t.clientHeight}}return n.top>Math.min(o.bottom,e.bottom)-10||n.bottom<Math.max(o.top,e.top)+10?null:this.view.state.facet(ll).positionInfo(this.view,e,n,i,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,i){const n=document.createElement("ul");n.id=e,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",t=>{t.target==n&&t.preventDefault()});let o=null;for(let s=i.from;s<i.to;s++){let{completion:r,match:g}=t[s],{section:A}=r;if(A){let t="string"==typeof A?A:A.name;t!=o&&(s>i.from||0==i.from)&&(o=t,"string"!=typeof A&&A.header?n.appendChild(A.header(A)):n.appendChild(document.createElement("completion-section")).textContent=t)}const a=n.appendChild(document.createElement("li"));a.id=e+"-"+s,a.setAttribute("role","option");let C=this.optionClass(r);C&&(a.className=C);for(let t of this.optionContent){let e=t(r,this.view.state,this.view,g);e&&a.appendChild(e)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function pl(t,e){return i=>new ul(i,t,e)}function fl(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class ml{constructor(t,e,i,n,o,s){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=n,this.selected=o,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new ml(this.options,wl(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,i,n,o,s){if(n&&!s&&t.some(t=>t.isPending))return n.setDisabled();let r=function(t,e){let i=[],n=null,o=t=>{i.push(t);let{section:e}=t.completion;if(e){n||(n=[]);let t="string"==typeof e?e:e.name;n.some(e=>e.name==t)||n.push("string"==typeof e?{name:t}:e)}},s=e.facet(ll);for(let n of t)if(n.hasResult()){let t=n.result.getMatch;if(!1===n.result.filter)for(let e of n.result.options)o(new il(e,n.source,t?t(e):[],1e9-i.length));else{let i,r=e.sliceDoc(n.from,n.to),g=s.filterStrict?new Il(r):new Cl(r);for(let e of n.result.options)if(i=g.match(e.label)){let s=e.displayLabel?t?t(e,i.matched):[]:i.matched;o(new il(e,n.source,s,i.score+(e.boost||0)))}}}if(n){let t=Object.create(null),e=0,o=(t,e)=>{var i,n;return(null!==(i=t.rank)&&void 0!==i?i:1e9)-(null!==(n=e.rank)&&void 0!==n?n:1e9)||(t.name<e.name?-1:1)};for(let i of n.sort(o))e-=1e5,t[i.name]=e;for(let e of i){let{section:i}=e.completion;i&&(e.score+=t["string"==typeof i?i:i.name])}}let r=[],g=null,A=s.compareCompletions;for(let t of i.sort((t,e)=>e.score-t.score||A(t.completion,e.completion))){let e=t.completion;!g||g.label!=e.label||g.detail!=e.detail||null!=g.type&&null!=e.type&&g.type!=e.type||g.apply!=e.apply||g.boost!=e.boost?r.push(t):fl(t.completion)>fl(g)&&(r[r.length-1]=t),g=t.completion}return r}(t,e);if(!r.length)return n&&t.some(t=>t.isPending)?n.setDisabled():null;let g=e.facet(ll).selectOnOpen?0:-1;if(n&&n.selected!=g&&-1!=n.selected){let t=n.options[n.selected].completion;for(let e=0;e<r.length;e++)if(r[e].completion==t){g=e;break}}return new ml(r,wl(i,g),{pos:t.reduce((t,e)=>e.hasResult()?Math.min(t,e.from):t,1e8),create:Ml,above:o.aboveCursor},n?n.timestamp:Date.now(),g,!1)}map(t){return new ml(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ml(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class vl{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new vl(xl,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,i=e.facet(ll),n=(i.override||e.languageDataAt("autocomplete",nl(e)).map(gl)).map(e=>(this.active.find(t=>t.source==e)||new kl(e,this.active.some(t=>0!=t.state)?1:0)).update(t,i));n.length==this.active.length&&n.every((t,e)=>t==this.active[e])&&(n=this.active);let o=this.open,s=t.effects.some(t=>t.is(Sl));o&&t.docChanged&&(o=o.map(t.changes)),t.selection||n.some(e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to))||!function(t,e){if(t==e)return!0;for(let i=0,n=0;;){for(;i<t.length&&!t[i].hasResult();)i++;for(;n<e.length&&!e[n].hasResult();)n++;let o=i==t.length,s=n==e.length;if(o||s)return o==s;if(t[i++].result!=e[n++].result)return!1}}(n,this.active)||s?o=ml.build(n,e,this.id,o,i,s):o&&o.disabled&&!n.some(t=>t.isPending)&&(o=null),!o&&n.every(t=>!t.isPending)&&n.some(t=>t.hasResult())&&(n=n.map(t=>t.hasResult()?new kl(t.source,0):t));for(let e of t.effects)e.is(Ol)&&(o=o&&o.setSelected(e.value,this.id));return n==this.active&&o==this.open?this:new vl(n,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?bl:yl}}const bl={"aria-autocomplete":"list"},yl={};function wl(t,e){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(i["aria-activedescendant"]=t+"-"+e),i}const xl=[];function El(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(sl);if(i&&e.activateOnCompletion(i))return 12}let i=t.isUserEvent("input.type");return i&&e.activateOnTyping?5:i?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class kl{constructor(t,e,i=!1){this.source=t,this.state=e,this.explicit=i}hasResult(){return!1}get isPending(){return 1==this.state}update(t,e){let i=El(t,e),n=this;(8&i||16&i&&this.touches(t))&&(n=new kl(n.source,0)),4&i&&0==n.state&&(n=new kl(this.source,1)),n=n.updateFor(t,i);for(let e of t.effects)if(e.is(Al))n=new kl(n.source,1,e.value);else if(e.is(al))n=new kl(n.source,0);else if(e.is(Sl))for(let t of e.value)t.source==n.source&&(n=t);return n}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(nl(t.state))}}class Tl extends kl{constructor(t,e,i,n,o,s){super(t,3,e),this.limit=i,this.result=n,this.from=o,this.to=s}hasResult(){return!0}updateFor(t,e){var i;if(!(3&e))return this.map(t.changes);let n=this.result;n.map&&!t.changes.empty&&(n=n.map(n,t.changes));let o=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),r=nl(t.state);if(r>s||!n||2&e&&(nl(t.startState)==this.from||r<this.limit))return new kl(this.source,4&e?1:0);let g=t.changes.mapPos(this.limit);return function(t,e,i,n){if(!t)return!1;let o=e.sliceDoc(i,n);return"function"==typeof t?t(o,i,n,e):ol(t,!0).test(o)}(n.validFor,t.state,o,s)?new Tl(this.source,this.explicit,g,n,o,s):n.update&&(n=n.update(n,o,s,new tl(t.state,r,!1)))?new Tl(this.source,this.explicit,g,n,n.from,null!==(i=n.to)&&void 0!==i?i:nl(t.state)):new kl(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Tl(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new kl(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const Sl=ct.define({map:(t,e)=>t.map(t=>t.map(e))}),Ol=ct.define(),Dl=Q.define({create:()=>vl.start(),update:(t,e)=>t.update(e),provide:t=>[rr.from(t,t=>t.tooltip),is.contentAttributes.from(t,t=>t.attrs)]});function Nl(t,e){const i=e.completion.apply||e.completion.label;let n=t.state.field(Dl).active.find(t=>t.source==e.source);return n instanceof Tl&&("string"==typeof i?t.dispatch(Object.assign(Object.assign({},function(t,e,i,n){let{main:o}=t.selection,s=i-o.from,r=n-o.from;return Object.assign(Object.assign({},t.changeByRange(g=>{if(g!=o&&i!=n&&t.sliceDoc(g.from+s,g.from+r)!=t.sliceDoc(i,n))return{range:g};let A=t.toText(e);return{changes:{from:g.from+s,to:n==o.from?g.to:g.from+r,insert:A},range:z.cursor(g.from+s+A.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,i,n.from,n.to)),{annotations:sl.of(e.completion)})):i(t,e.completion,n.from,n.to),!0)}const Ml=pl(Dl,Nl);function Rl(t,e="option"){return i=>{let n=i.state.field(Dl,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<i.state.facet(ll).interactionDelay)return!1;let o,s=1;"page"==e&&(o=hr(i,n.open.tooltip))&&(s=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:r}=n.open.options,g=n.open.selected>-1?n.open.selected+s*(t?1:-1):t?0:r-1;return g<0?g="page"==e?0:r-1:g>=r&&(g="page"==e?r-1:0),i.dispatch({effects:Ol.of(g)}),!0}}const Pl=t=>!!t.state.field(Dl,!1)&&(t.dispatch({effects:Al.of(!0)}),!0);class Ll{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Bl=en.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Dl).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Dl),i=t.state.facet(ll);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Dl)==e)return;let n=t.transactions.some(t=>{let e=El(t,i);return 8&e||(t.selection||t.docChanged)&&!(3&e)});for(let e=0;e<this.running.length;e++){let i=this.running[e];if(n||i.context.abortOnDocChange&&t.docChanged||i.updates.length+t.transactions.length>50&&Date.now()-i.time>1e3){for(let t of i.context.abortListeners)try{t()}catch(t){qi(this.view.state,t)}i.context.abortListeners=null,this.running.splice(e--,1)}else i.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(t=>t.effects.some(t=>t.is(Al)))&&(this.pendingStart=!0);let o=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(t=>t.isPending&&!this.running.some(e=>e.active.source==t.source))?setTimeout(()=>this.startUpdate(),o):-1,0!=this.composing)for(let e of t.transactions)e.isUserEvent("input.type")?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Dl);for(let t of e.active)t.isPending&&!this.running.some(e=>e.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}startQuery(t){let{state:e}=this.view,i=nl(e),n=new tl(e,i,t.explicit,this.view),o=new Ll(t,n);this.running.push(o),Promise.resolve(t.source(n)).then(t=>{o.context.aborted||(o.done=t||null,this.scheduleAccept())},t=>{this.view.dispatch({effects:al.of(null)}),qi(this.view.state,t)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet(ll),n=this.view.state.field(Dl);for(let o=0;o<this.running.length;o++){let s=this.running[o];if(void 0===s.done)continue;if(this.running.splice(o--,1),s.done){let n=nl(s.updates.length?s.updates[0].startState:this.view.state),o=Math.min(n,s.done.from+(s.active.explicit?0:1)),r=new Tl(s.active.source,s.active.explicit,o,s.done,s.done.from,null!==(t=s.done.to)&&void 0!==t?t:n);for(let t of s.updates)r=r.update(t,i);if(r.hasResult()){e.push(r);continue}}let r=n.active.find(t=>t.source==s.active.source);if(r&&r.isPending)if(null==s.done){let t=new kl(s.active.source,0);for(let e of s.updates)t=t.update(e,i);t.isPending||e.push(t)}else this.startQuery(r)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:Sl.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Dl,!1);if(e&&e.tooltip&&this.view.state.facet(ll).closeOnBlur){let i=e.open&&hr(this.view,e.open.tooltip);i&&i.dom.contains(t.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:al.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:Al.of(!1)}),20),this.composing=0}}}),Fl="object"==typeof navigator&&/Win/.test(navigator.platform),_l=q.highest(is.domEventHandlers({keydown(t,e){let i=e.state.field(Dl,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||t.key.length>1||t.ctrlKey&&(!Fl||!t.altKey)||t.metaKey)return!1;let n=i.open.options[i.open.selected],o=i.active.find(t=>t.source==n.source),s=n.completion.commitCharacters||o.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Nl(e,n),!1}})),zl=is.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Vl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Zl=ct.define({map(t,e){let i=e.mapPos(t,-1,O.TrackAfter);return null==i?void 0:i}}),Wl=new class extends Tt{};Wl.startSide=1,Wl.endSide=-1;const Gl=Q.define({create:()=>Nt.empty,update(t,e){if(t=t.map(e.changes),e.selection){let i=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=i.from&&t<=i.to})}for(let i of e.effects)i.is(Zl)&&(t=t.update({add:[Wl.range(i.value,i.value+1)]}));return t}}),jl="()[]{}<>«»»«［］｛｝";function Hl(t){for(let e=0;e<16;e+=2)if(jl.charCodeAt(e)==t)return jl.charAt(e+1);return k(t<128?t:t+1)}function Yl(t,e){return t.languageDataAt("closeBrackets",e)[0]||Vl}const Ul="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Kl=is.inputHandler.of((t,e,i,n)=>{if((Ul?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let o=t.state.selection.main;if(n.length>2||2==n.length&&1==T(E(n,0))||e!=o.from||i!=o.to)return!1;let s=function(t,e){let i=Yl(t,t.selection.main.head),n=i.brackets||Vl.brackets;for(let o of n){let s=Hl(E(o,0));if(e==o)return s==o?th(t,o,n.indexOf(o+o+o)>-1,i):Jl(t,o,s,i.before||Vl.before);if(e==s&&Xl(t,t.selection.main.from))return $l(t,0,s)}return null}(t.state,n);return!!s&&(t.dispatch(s),!0)}),Ql=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Yl(t,t.selection.main.head).brackets||Vl.brackets,n=null,o=t.changeByRange(e=>{if(e.empty){let n=function(t,e){let i=t.sliceString(e-2,e);return T(E(i,0))==i.length?i:i.slice(1)}(t.doc,e.head);for(let o of i)if(o==n&&ql(t.doc,e.head)==Hl(E(o,0)))return{changes:{from:e.head-o.length,to:e.head+o.length},range:z.cursor(e.head-o.length)}}return{range:n=e}});return n||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!n}}];function Xl(t,e){let i=!1;return t.field(Gl).between(0,t.doc.length,t=>{t==e&&(i=!0)}),i}function ql(t,e){let i=t.sliceString(e,e+2);return i.slice(0,T(E(i,0)))}function Jl(t,e,i,n){let o=null,s=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:i,from:s.to}],effects:Zl.of(s.to+e.length),range:z.range(s.anchor+e.length,s.head+e.length)};let r=ql(t.doc,s.head);return!r||/\s/.test(r)||n.indexOf(r)>-1?{changes:{insert:e+i,from:s.head},effects:Zl.of(s.head+e.length),range:z.cursor(s.head+e.length)}:{range:o=s}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function $l(t,e,i){let n=null,o=t.changeByRange(e=>e.empty&&ql(t.doc,e.head)==i?{changes:{from:e.head,to:e.head+i.length,insert:i},range:z.cursor(e.head+i.length)}:n={range:e});return n?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function th(t,e,i,n){let o=n.stringPrefixes||Vl.stringPrefixes,s=null,r=t.changeByRange(n=>{if(!n.empty)return{changes:[{insert:e,from:n.from},{insert:e,from:n.to}],effects:Zl.of(n.to+e.length),range:z.range(n.anchor+e.length,n.head+e.length)};let r,g=n.head,A=ql(t.doc,g);if(A==e){if(eh(t,g))return{changes:{insert:e+e,from:g},effects:Zl.of(g+e.length),range:z.cursor(g+e.length)};if(Xl(t,g)){let n=i&&t.sliceDoc(g,g+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:g,to:g+n.length,insert:n},range:z.cursor(g+n.length)}}}else{if(i&&t.sliceDoc(g-2*e.length,g)==e+e&&(r=ih(t,g-2*e.length,o))>-1&&eh(t,r))return{changes:{insert:e+e+e+e,from:g},effects:Zl.of(g+e.length),range:z.cursor(g+e.length)};if(t.charCategorizer(g)(A)!=yt.Word&&ih(t,g,o)>-1&&!function(t,e,i,n){let o=$g(t).resolveInner(e,-1),s=n.reduce((t,e)=>Math.max(t,e.length),0);for(let r=0;r<5;r++){let r=t.sliceDoc(o.from,Math.min(o.to,o.from+i.length+s)),g=r.indexOf(i);if(!g||g>-1&&n.indexOf(r.slice(0,g))>-1){let e=o.firstChild;for(;e&&e.from==o.from&&e.to-e.from>i.length+g;){if(t.sliceDoc(e.to-i.length,e.to)==i)return!1;e=e.firstChild}return!0}let A=o.to==e&&o.parent;if(!A)break;o=A}return!1}(t,g,e,o))return{changes:{insert:e+e,from:g},effects:Zl.of(g+e.length),range:z.cursor(g+e.length)}}return{range:s=n}});return s?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function eh(t,e){let i=$g(t).resolveInner(e+1);return i.parent&&i.from==e}function ih(t,e,i){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let o of i){let i=e-o.length;if(t.sliceDoc(i,e)==o&&n(t.sliceDoc(i-1,i))!=yt.Word)return i}return-1}function nh(t={}){return[_l,Dl,ll.of(t),Bl,sh,zl]}const oh=[{key:"Ctrl-Space",run:Pl},{mac:"Alt-`",run:Pl},{key:"Escape",run:t=>{let e=t.state.field(Dl,!1);return!(!e||!e.active.some(t=>0!=t.state)||(t.dispatch({effects:al.of(null)}),0))}},{key:"ArrowDown",run:Rl(!0)},{key:"ArrowUp",run:Rl(!1)},{key:"PageDown",run:Rl(!0,"page")},{key:"PageUp",run:Rl(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Dl,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ll).interactionDelay)&&Nl(t,e.open.options[e.open.selected])}}],sh=q.highest(Cs.computeN([ll],t=>t.facet(ll).defaultKeymap?[oh]:[]));class rh{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}}class gh{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let n=i.facet(fh).markerFilter;n&&(t=n(t,i));let o=t.slice().sort((t,e)=>t.from-e.from||t.to-e.to),s=new Mt,r=[],g=0;for(let t=0;;){let e,n,A=t==o.length?null:o[t];if(!A&&!r.length)break;for(r.length?(e=g,n=r.reduce((t,e)=>Math.min(t,e.to),A&&A.from>e?A.from:1e8)):(e=A.from,n=A.to,r.push(A),t++);t<o.length;){let i=o[t];if(i.from!=e||!(i.to>i.from||i.to==e)){n=Math.min(i.from,n);break}r.push(i),t++,n=Math.min(i.to,n)}let a=Th(r);if(r.some(t=>t.from==t.to||t.from==t.to-1&&i.doc.lineAt(t.from).to==t.from))s.add(e,e,si.widget({widget:new bh(a),diagnostics:r.slice()}));else{let t=r.reduce((t,e)=>e.markClass?t+" "+e.markClass:t,"");s.add(e,n,si.mark({class:"cm-lintRange cm-lintRange-"+a+t,diagnostics:r.slice(),inclusiveEnd:r.some(t=>t.to>n)}))}g=n;for(let t=0;t<r.length;t++)r[t].to<=g&&r.splice(t--,1)}let A=s.finish();return new gh(A,e,Ah(A))}}function Ah(t,e=null,i=0){let n=null;return t.between(i,1e9,(t,i,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(n){if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new rh(n.from,i,n.diagnostic)}else n=new rh(t,i,e||o.diagnostics[0])}),n}const ah=ct.define(),Ch=ct.define(),Ih=ct.define(),lh=Q.define({create:()=>new gh(si.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let i=t.diagnostics.map(e.changes),n=null,o=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);n=Ah(i,t.selected.diagnostic,o)||Ah(i,null,o)}!i.size&&o&&e.state.facet(fh).autoPanel&&(o=null),t=new gh(i,o,n)}for(let i of e.effects)if(i.is(ah)){let n=e.state.facet(fh).autoPanel?i.value.length?wh.open:null:t.panel;t=gh.init(i.value,n,e.state)}else i.is(Ch)?t=new gh(t.diagnostics,i.value?wh.open:null,t.selected):i.is(Ih)&&(t=new gh(t.diagnostics,t.panel,i.value));return t},provide:t=>[vr.from(t,t=>t.panel),is.decorations.from(t,t=>t.diagnostics)]}),hh=si.mark({class:"cm-lintRange cm-lintRange-active"});function ch(t,e,i){let n,{diagnostics:o}=t.state.field(lh),s=-1,r=-1;o.between(e-(i<0?1:0),e+(i>0?1:0),(t,o,{spec:g})=>{if(e>=t&&e<=o&&(t==o||(e>t||i>0)&&(e<o||i<0)))return n=g.diagnostics,s=t,r=o,!1});let g=t.state.facet(fh).tooltipFilter;return n&&g&&(n=g(n,t.state)),n?{pos:s,end:r,above:t.state.doc.lineAt(s).to<r,create:()=>({dom:dh(t,n)})}:null}function dh(t,e){return QC("ul",{class:"cm-tooltip-lint"},e.map(e=>vh(t,e,!1)))}const uh=t=>{let e=t.state.field(lh,!1);return!(!e||!e.panel||(t.dispatch({effects:Ch.of(!1)}),0))},ph=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(lh,!1);var i,n;e&&e.panel||t.dispatch({effects:(i=t.state,n=[Ch.of(!0)],i.field(lh,!1)?n:n.concat(ct.appendConfig.of(Sh)))});let o=ur(t,wh.open);return o&&o.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(lh,!1);if(!e)return!1;let i=t.state.selection.main,n=e.diagnostics.iter(i.to+1);return!(!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==i.from&&n.to==i.to)||(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),0))}}],fh=W.define({combine:t=>Object.assign({sources:t.map(t=>t.source).filter(t=>null!=t)},kt(t.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e}))});function mh(t){let e=[];if(t)t:for(let{name:i}of t){for(let t=0;t<i.length;t++){let n=i[t];if(/[a-zA-Z]/.test(n)&&!e.some(t=>t.toLowerCase()==n.toLowerCase())){e.push(n);continue t}}e.push("")}return e}function vh(t,e,i){var n;let o=i?mh(e.actions):[];return QC("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},QC("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(n=e.actions)||void 0===n?void 0:n.map((i,n)=>{let s=!1,r=n=>{if(n.preventDefault(),s)return;s=!0;let o=Ah(t.state.field(lh).diagnostics,e);o&&i.apply(t,o.from,o.to)},{name:g}=i,A=o[n]?g.indexOf(o[n]):-1,a=A<0?g:[g.slice(0,A),QC("u",g.slice(A,A+1)),g.slice(A+1)];return QC("button",{type:"button",class:"cm-diagnosticAction",onclick:r,onmousedown:r,"aria-label":` Action: ${g}${A<0?"":` (access key "${o[n]})"`}.`},a)}),e.source&&QC("div",{class:"cm-diagnosticSource"},e.source))}class bh extends ni{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return QC("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class yh{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=vh(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class wh{constructor(t){this.view=t,this.items=[],this.list=QC("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)uh(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:i}=this.items[this.selectedIndex],n=mh(i.actions);for(let o=0;o<n.length;o++)if(n[o].toUpperCase().charCodeAt(0)==e.keyCode){let e=Ah(this.view.state.field(lh).diagnostics,i);e&&i.actions[o].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=QC("div",{class:"cm-panel-lint"},this.list,QC("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>uh(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(lh).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(lh),i=0,n=!1,o=null,s=new Set;for(t.between(0,this.view.state.doc.length,(t,r,{spec:g})=>{for(let t of g.diagnostics){if(s.has(t))continue;s.add(t);let r,g=-1;for(let e=i;e<this.items.length;e++)if(this.items[e].diagnostic==t){g=e;break}g<0?(r=new yh(this.view,t),this.items.splice(i,0,r),n=!0):(r=this.items[g],g>i&&(this.items.splice(i,g-i),n=!0)),e&&r.diagnostic==e.diagnostic?r.dom.hasAttribute("aria-selected")||(r.dom.setAttribute("aria-selected","true"),o=r):r.dom.hasAttribute("aria-selected")&&r.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new yh(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let i=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/i:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/i)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=Ah(this.view.state.field(lh).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:Ih.of(e)})}static open(t){return new wh(t)}}function xh(t){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Eh=is.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:xh("#d11")},".cm-lintRange-warning":{backgroundImage:xh("orange")},".cm-lintRange-info":{backgroundImage:xh("#999")},".cm-lintRange-hint":{backgroundImage:xh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function kh(t){return"error"==t?4:"warning"==t?3:"info"==t?2:1}function Th(t){let e="hint",i=1;for(let n of t){let t=kh(n.severity);t>i&&(i=t,e=n.severity)}return e}const Sh=[lh,is.decorations.compute([lh],t=>{let{selected:e,panel:i}=t.field(lh);return e&&i&&e.from!=e.to?si.set([hh.range(e.from,e.to)]):si.none}),lr(ch,{hideOn:function(t,e){let i=e.pos,n=e.end||i,o=t.state.facet(fh).hideOn(t,i,n);if(null!=o)return o;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some(t=>t.is(ah))&&!t.changes.touchesRange(s.from,Math.max(s.to,n)))}}),Eh],Oh=(()=>[Zr(),jr,Vs(),Pa(),jA(),xs(),[Ns,Ms],Et.allowMultipleSelections.of(!0),Et.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:n}=t.newSelection.main,o=i.lineAt(n);if(n>o.from+200)return t;let s=i.sliceString(o.from,n);if(!e.some(t=>t.test(s)))return t;let{state:r}=t,g=-1,A=[];for(let{head:t}of r.selection.ranges){let e=r.doc.lineAt(t);if(e.from==g)continue;g=e.from;let i=hA(r,e.from);if(null==i)continue;let n=/^\s*/.exec(e.text)[0],o=lA(r,i);n!=o&&A.push({from:e.from,to:e.from+n.length,insert:o})}return A.length?[t,{changes:A,sequential:!0}]:t}),XA($A,{fallback:!0}),Aa(),[Kl,Gl],nh(),Ks(),qs(),Hs,lI(),Cs.of([...Ql,...KC,...YI,...qa,...LA,...oh,...ph])])();var Dh=i(28);const Nh=ct.define(),Mh=ct.define(),Rh=Q.define({create:()=>si.none,update:(t,e)=>{for(let t of e.effects){if(t.is(Nh))return t.value.map(e.changes);if(t.is(Mh))return si.none}return t.map(e.changes)},provide:t=>is.decorations.from(t)}),Ph=new is({doc:Dh.rE,parent:document.querySelector("#editor"),extensions:[Oh,Rh]}),Lh=()=>Ph.state.doc.toString(),Bh=(t,e,i="cm-error")=>si.mark({class:i}).range(t,e),Fh=new Map;let _h=0;const zh=()=>{const t=Ph.state.doc.length,e=new Mt;for(const{from:i,to:n,className:o}of Fh.values()){const s=Math.min(i,t),r=Math.min(n,t);s<r&&e.add(s,r,si.mark({class:o}))}Ph.dispatch({effects:Nh.of(e.finish())})},Vh=t=>{let e=++_h;return Fh.set(e,{from:t.from,to:t.to,className:t.value.spec.class||"cm-error"}),zh(),e},Zh=(t,e,i="cm-error")=>{const n=Bh(t,e,i);return Vh(n)},Wh=t=>{Fh.delete(t),zh()},Gh=()=>{Fh.clear(),Ph.dispatch({effects:Mh.of()})};let jh=new Map,Hh=0,Yh=new Map,Uh=0;const Kh=(t,e,i,n="cm-hover-msg")=>{const o=((t,e,i,n="cm-hover-msg")=>lr((o,s)=>s<t||s>=e?null:{pos:t,end:e,above:!0,create(t){const e=document.createElement("div");return e.className=n,e.innerText=i,{dom:e}}}))(e,i,t,n);let s=++Hh;return jh.set(s,o),Ph.dispatch({effects:ct.reconfigure.of([Oh,Rh,...jh.values(),...Yh.values(),is.editable.of(!qh)])}),s},Qh=()=>{jh.clear(),Ph.dispatch({effects:ct.reconfigure.of([Oh,Rh,...Yh.values(),is.editable.of(!qh)])})},Xh=(t,e=["edit","select"])=>(Yh.set(++Uh,is.updateListener.of(i=>{(e.includes("edit")&&i.docChanged||e.includes("select")&&i.selectionSet)&&t(Ph)})),Ph.dispatch({effects:ct.reconfigure.of([Oh,Rh,...jh.values(),...Yh.values(),is.editable.of(!qh)])}),Uh);let qh=!1;const Jh=t=>{qh=t,Ph.dispatch({effects:ct.reconfigure.of([Oh,Rh,...jh.values(),...Yh.values(),is.editable.of(!t)])}),t?Ph.dom.classList.add("readonly"):Ph.dom.classList.remove("readonly")};let $h=!1;Xh(t=>{console.log("Editor content changed, marking as dirty"),$h=!0,ic.forEach(t=>t($h))},["edit"]);const tc=()=>$h,ec=()=>{console.log("Editor content saved, clearing dirty flag"),$h=!1,ic.forEach(t=>t($h))},ic=[],nc=t=>{ic.push(t)}},668:t=>{"use strict";t.exports=function(){function t(t,e,i,n,o){return t<e||i<e?t>i?i+1:t+1:n===o?e:e+1}return function(e,i){if(e===i)return 0;if(e.length>i.length){var n=e;e=i,i=n}for(var o=e.length,s=i.length;o>0&&e.charCodeAt(o-1)===i.charCodeAt(s-1);)o--,s--;for(var r=0;r<o&&e.charCodeAt(r)===i.charCodeAt(r);)r++;if(s-=r,0===(o-=r)||s<3)return s;var g,A,a,C,I,l,h,c,d,u,p,f,m=0,v=[];for(g=0;g<o;g++)v.push(g+1),v.push(e.charCodeAt(r+g));for(var b=v.length-1;m<s-3;)for(d=i.charCodeAt(r+(A=m)),u=i.charCodeAt(r+(a=m+1)),p=i.charCodeAt(r+(C=m+2)),f=i.charCodeAt(r+(I=m+3)),l=m+=4,g=0;g<b;g+=2)A=t(h=v[g],A,a,d,c=v[g+1]),a=t(A,a,C,u,c),C=t(a,C,I,p,c),l=t(C,I,l,f,c),v[g]=l,I=C,C=a,a=A,A=h;for(;m<s;)for(d=i.charCodeAt(r+(A=m)),l=++m,g=0;g<b;g+=2)h=v[g],v[g]=l=t(h,A,l,d,v[g+1]),A=h;return l}}()},762:(t,e,i)=>{"use strict";var n=i(83),o=i(623),s=i(811),r=i(41),g=i(28);const A=document.getElementById("init-state"),a=document.getElementById("input");o.TT(t=>{s.qg(o.RB()),n.DT()},["edit"]),document.getElementById("run").addEventListener("click",()=>{const t=o.RB();s.eF(t)}),document.getElementById("run-step").addEventListener("click",s.VC),document.getElementById("next-step").addEventListener("click",s.VC),document.getElementById("run-remaining").addEventListener("click",s.NU),document.getElementById("cancel-step").addEventListener("click",s.l3);const C=document.getElementById("copy-empty"),I=C.innerHTML;C.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(g.wg)}catch(t){return void console.error("Failed to copy empty tape to clipboard:",t)}C.innerText="Copied!",setTimeout(()=>{C.innerHTML=I},2e3)}),A.addEventListener("change",()=>{n.Z$("no-init"),A.setCustomValidity("")}),a.addEventListener("keydown",()=>{n.Z$("warn-no-tape")}),document.getElementById("help-link").addEventListener("click",t=>{t.preventDefault(),(0,r.IL)("README",r.DB.readme)}),document.getElementById("examples-link").addEventListener("click",t=>{t.preventDefault(),(0,r.IL)("Examples",r.DB.examples)}),document.getElementById("teachers-link").addEventListener("click",t=>{t.preventDefault(),(0,r.IL)("Teachers",r.DB.teachers)}),document.getElementById("document-close").addEventListener("click",r.r4)},763:(t,e,i)=>{"use strict";t.exports=i.p+"manifest/icon_436x211-631a0a44.png"},772:(t,e,i)=>{"use strict";i.a(t,async(t,n)=>{try{i.d(e,{r:()=>A}),i(763),i(104),i(172),i(800);var o=i(41);const t=async()=>{if(!("serviceWorker"in navigator)||!navigator.serviceWorker.controller)return;const t=await navigator.serviceWorker.getRegistration();if(!t||!t.waiting)return console.warn("No waiting service worker found. Cancelling update dialog."),void localStorage.removeItem("sw_update_available");(0,o.IL)("Update",s)};"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("service-worker.js");console.log("SW registered: ",e);try{await e.update(),console.log("SW update check complete.")}catch(t){console.error("SW update check failed: ",t)}setInterval(async()=>{try{await e.update(),console.log("SW update check complete.")}catch(t){console.error("SW update check failed: ",t)}},36e5),e.addEventListener("updatefound",()=>{const i=e.installing;i?i.addEventListener("statechange",()=>{"installed"===i.state&&navigator.serviceWorker.controller&&(localStorage.setItem("sw_update_available","true"),t())}):console.error("No new worker found during update.")})}catch(t){console.error("SW registration failed: ",t)}});const s=document.createElement("p");s.innerHTML="A new version of Ture is available!<br><br>",s.style.textAlign="center";const r=document.createElement("button");r.innerText="Update",r.addEventListener("click",async()=>{if(await g(),"serviceWorker"in navigator){const t=await navigator.serviceWorker.getRegistration();t&&t.waiting&&t.waiting.postMessage({type:"SKIP_WAITING"})}localStorage.removeItem("sw_update_available"),localStorage.setItem("sw_may_try_reload","true"),window.location.reload()}),navigator.onLine||(r.innerText="Connect to internet to update",r.disabled=!0),window.addEventListener("online",()=>{r.disabled=!1,r.innerText="Update"}),window.addEventListener("offline",()=>{r.disabled=!0,r.innerText="Connect to internet to update"}),s.appendChild(r);const g=async()=>{if("caches"in window){const t=await caches.keys();await Promise.all(t.map(t=>caches.delete(t)))}};if("true"===localStorage.getItem("sw_update_available")&&t(),"serviceWorker"in navigator&&"true"===localStorage.getItem("sw_may_try_reload")){localStorage.setItem("sw_may_try_reload","false");const t=await navigator.serviceWorker.getRegistration();t&&t.waiting&&(t.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}let A=()=>window.matchMedia("(display-mode: standalone)").matches;n()}catch(t){n(t)}},1)},800:(t,e,i)=>{"use strict";t.exports=i.p+"manifest/icon_512x512-1dc5d68d.png"},811:(t,e,i)=>{"use strict";i.d(e,{l3:()=>Z,K0:()=>V,qg:()=>L,eF:()=>B,NU:()=>G,VC:()=>W});var n=i(83),o=i(623),s=i(997),r=i(576),g=i(967),A=i(168);class a extends A.JG{static SPACE=1;static NEWLINE=2;static OPENER=3;static CLOSER=4;static COMMA=5;static ARROW=6;static EMPTY=7;static DIRECTION=8;static LEGAL_CHAR=9;static WORD=10;static ESCAPED_PERCENT=11;static COMMENT=12;static EOF=A.ou.EOF;static channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];static literalNames=[null,null,null,"'('","')'","','","'->'","'\\u2B1A'",null,null,null,"'\\%'"];static symbolicNames=[null,"SPACE","NEWLINE","OPENER","CLOSER","COMMA","ARROW","EMPTY","DIRECTION","LEGAL_CHAR","WORD","ESCAPED_PERCENT","COMMENT"];static modeNames=["DEFAULT_MODE"];static ruleNames=["SPACE","NEWLINE","OPENER","CLOSER","COMMA","ARROW","EMPTY","DIRECTION","LEGAL_CHAR","WORD","ESCAPED_PERCENT","COMMENT"];constructor(t){super(t),this._interp=new A.ay(this,a._ATN,a.DecisionsToDFA,new A.tD)}get grammarFileName(){return"Turing.g4"}get literalNames(){return a.literalNames}get symbolicNames(){return a.symbolicNames}get ruleNames(){return a.ruleNames}get serializedATN(){return a._serializedATN}get channelNames(){return a.channelNames}get modeNames(){return a.modeNames}static _serializedATN=[4,0,12,79,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,1,0,4,0,27,8,0,11,0,12,0,28,1,1,1,1,1,1,1,1,3,1,35,8,1,1,2,1,2,1,3,1,3,1,4,1,4,1,5,1,5,1,5,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,1,7,3,7,57,8,7,1,8,1,8,3,8,61,8,8,1,9,4,9,64,8,9,11,9,12,9,65,1,10,1,10,1,10,1,11,1,11,5,11,73,8,11,10,11,12,11,76,9,11,1,11,1,11,0,0,12,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,1,0,3,2,0,9,9,32,32,6,0,9,10,13,13,32,32,40,41,44,44,11034,11034,2,0,10,10,13,13,85,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,1,26,1,0,0,0,3,34,1,0,0,0,5,36,1,0,0,0,7,38,1,0,0,0,9,40,1,0,0,0,11,42,1,0,0,0,13,45,1,0,0,0,15,56,1,0,0,0,17,60,1,0,0,0,19,63,1,0,0,0,21,67,1,0,0,0,23,70,1,0,0,0,25,27,7,0,0,0,26,25,1,0,0,0,27,28,1,0,0,0,28,26,1,0,0,0,28,29,1,0,0,0,29,2,1,0,0,0,30,35,5,10,0,0,31,32,5,13,0,0,32,35,5,10,0,0,33,35,5,13,0,0,34,30,1,0,0,0,34,31,1,0,0,0,34,33,1,0,0,0,35,4,1,0,0,0,36,37,5,40,0,0,37,6,1,0,0,0,38,39,5,41,0,0,39,8,1,0,0,0,40,41,5,44,0,0,41,10,1,0,0,0,42,43,5,45,0,0,43,44,5,62,0,0,44,12,1,0,0,0,45,46,5,11034,0,0,46,14,1,0,0,0,47,48,5,108,0,0,48,49,5,101,0,0,49,50,5,102,0,0,50,57,5,116,0,0,51,52,5,114,0,0,52,53,5,105,0,0,53,54,5,103,0,0,54,55,5,104,0,0,55,57,5,116,0,0,56,47,1,0,0,0,56,51,1,0,0,0,57,16,1,0,0,0,58,61,3,21,10,0,59,61,8,1,0,0,60,58,1,0,0,0,60,59,1,0,0,0,61,18,1,0,0,0,62,64,3,17,8,0,63,62,1,0,0,0,64,65,1,0,0,0,65,63,1,0,0,0,65,66,1,0,0,0,66,20,1,0,0,0,67,68,5,92,0,0,68,69,5,37,0,0,69,22,1,0,0,0,70,74,5,37,0,0,71,73,8,2,0,0,72,71,1,0,0,0,73,76,1,0,0,0,74,72,1,0,0,0,74,75,1,0,0,0,75,77,1,0,0,0,76,74,1,0,0,0,77,78,6,11,0,0,78,24,1,0,0,0,7,0,28,34,56,60,65,74,1,6,0,0];static __ATN;static get _ATN(){return a.__ATN||(a.__ATN=(new A.fr).deserialize(a._serializedATN)),a.__ATN}static DecisionsToDFA=a._ATN.decisionToState.map((t,e)=>new A.M8(t,e))}class C extends A.iX{static SPACE=1;static NEWLINE=2;static OPENER=3;static CLOSER=4;static COMMA=5;static ARROW=6;static EMPTY=7;static DIRECTION=8;static LEGAL_CHAR=9;static WORD=10;static ESCAPED_PERCENT=11;static COMMENT=12;static EOF=A.ou.EOF;static RULE_letter=0;static RULE_state=1;static RULE_lhs=2;static RULE_rhs=3;static RULE_turing_rule=4;static RULE_program=5;static literalNames=[null,null,null,"'('","')'","','","'->'","'\\u2B1A'",null,null,null,"'\\%'"];static symbolicNames=[null,"SPACE","NEWLINE","OPENER","CLOSER","COMMA","ARROW","EMPTY","DIRECTION","LEGAL_CHAR","WORD","ESCAPED_PERCENT","COMMENT"];static ruleNames=["letter","state","lhs","rhs","turing_rule","program"];get grammarFileName(){return"Turing.g4"}get literalNames(){return C.literalNames}get symbolicNames(){return C.symbolicNames}get ruleNames(){return C.ruleNames}get serializedATN(){return C._serializedATN}createFailedPredicateException(t,e){return new A.eP(this,t,e)}constructor(t){super(t),this._interp=new A.re(this,C._ATN,C.DecisionsToDFA,new A.tD)}letter(){let t,e=new I(this,this._ctx,this.state);this.enterRule(e,0,C.RULE_letter);try{this.enterOuterAlt(e,1),this.state=12,t=this._input.LA(1),7!==t&&9!==t?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}state_(){let t,e=new l(this,this._ctx,this.state);this.enterRule(e,2,C.RULE_state);try{this.enterOuterAlt(e,1),this.state=14,t=this._input.LA(1),9!==t&&10!==t?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}lhs(){let t,e=new h(this,this._ctx,this.state);this.enterRule(e,4,C.RULE_lhs);try{for(this.enterOuterAlt(e,1),this.state=16,this.match(C.OPENER),this.state=20,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=17,this.match(C.SPACE),this.state=22,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=23,e._from_state=this.state_(),this.state=27,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=24,this.match(C.SPACE),this.state=29,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=30,this.match(C.COMMA),this.state=34,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=31,this.match(C.SPACE),this.state=36,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=37,e._from_letter=this.letter(),this.state=41,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=38,this.match(C.SPACE),this.state=43,this._errHandler.sync(this),t=this._input.LA(1);this.state=44,this.match(C.CLOSER)}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}rhs(){let t,e=new c(this,this._ctx,this.state);this.enterRule(e,6,C.RULE_rhs);try{for(this.enterOuterAlt(e,1),this.state=46,this.match(C.OPENER),this.state=50,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=47,this.match(C.SPACE),this.state=52,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=53,e._to_state=this.state_(),this.state=57,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=54,this.match(C.SPACE),this.state=59,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=60,this.match(C.COMMA),this.state=64,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=61,this.match(C.SPACE),this.state=66,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=67,e._to_letter=this.letter(),this.state=71,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=68,this.match(C.SPACE),this.state=73,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=74,this.match(C.COMMA),this.state=78,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=75,this.match(C.SPACE),this.state=80,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=81,e._direction=this.match(C.DIRECTION),this.state=85,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=82,this.match(C.SPACE),this.state=87,this._errHandler.sync(this),t=this._input.LA(1);this.state=88,this.match(C.CLOSER)}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}turing_rule(){let t,e=new d(this,this._ctx,this.state);this.enterRule(e,8,C.RULE_turing_rule);try{let i;for(this.enterOuterAlt(e,1),this.state=93,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=90,this.match(C.SPACE),this.state=95,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=96,e._left=this.lhs(),this.state=100,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=97,this.match(C.SPACE),this.state=102,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=103,this.match(C.ARROW),this.state=107,this._errHandler.sync(this),t=this._input.LA(1);1===t;)this.state=104,this.match(C.SPACE),this.state=109,this._errHandler.sync(this),t=this._input.LA(1);for(this.state=110,e._right=this.rhs(),this.state=114,this._errHandler.sync(this),i=this._interp.adaptivePredict(this._input,13,this._ctx);2!==i&&i!==A.MG.INVALID_ALT_NUMBER;)1===i&&(this.state=111,this.match(C.SPACE)),this.state=116,this._errHandler.sync(this),i=this._interp.adaptivePredict(this._input,13,this._ctx)}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}program(){let t,e=new u(this,this._ctx,this.state);this.enterRule(e,10,C.RULE_program);try{for(this.enterOuterAlt(e,1),this.state=121,this._errHandler.sync(this),t=this._input.LA(1);!(-32&t)&&1<<t&14;){switch(this.state=119,this._errHandler.sync(this),this._input.LA(1)){case 1:case 3:this.state=117,this.turing_rule();break;case 2:this.state=118,this.match(C.NEWLINE);break;default:throw new A.X2(this)}this.state=123,this._errHandler.sync(this),t=this._input.LA(1)}this.state=124,this.match(C.EOF)}catch(t){if(!(t instanceof A.Dj))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}static _serializedATN=[4,1,12,127,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,1,0,1,0,1,1,1,1,1,2,1,2,5,2,19,8,2,10,2,12,2,22,9,2,1,2,1,2,5,2,26,8,2,10,2,12,2,29,9,2,1,2,1,2,5,2,33,8,2,10,2,12,2,36,9,2,1,2,1,2,5,2,40,8,2,10,2,12,2,43,9,2,1,2,1,2,1,3,1,3,5,3,49,8,3,10,3,12,3,52,9,3,1,3,1,3,5,3,56,8,3,10,3,12,3,59,9,3,1,3,1,3,5,3,63,8,3,10,3,12,3,66,9,3,1,3,1,3,5,3,70,8,3,10,3,12,3,73,9,3,1,3,1,3,5,3,77,8,3,10,3,12,3,80,9,3,1,3,1,3,5,3,84,8,3,10,3,12,3,87,9,3,1,3,1,3,1,4,5,4,92,8,4,10,4,12,4,95,9,4,1,4,1,4,5,4,99,8,4,10,4,12,4,102,9,4,1,4,1,4,5,4,106,8,4,10,4,12,4,109,9,4,1,4,1,4,5,4,113,8,4,10,4,12,4,116,9,4,1,5,1,5,5,5,120,8,5,10,5,12,5,123,9,5,1,5,1,5,1,5,0,0,6,0,2,4,6,8,10,0,2,2,0,7,7,9,9,1,0,9,10,136,0,12,1,0,0,0,2,14,1,0,0,0,4,16,1,0,0,0,6,46,1,0,0,0,8,93,1,0,0,0,10,121,1,0,0,0,12,13,7,0,0,0,13,1,1,0,0,0,14,15,7,1,0,0,15,3,1,0,0,0,16,20,5,3,0,0,17,19,5,1,0,0,18,17,1,0,0,0,19,22,1,0,0,0,20,18,1,0,0,0,20,21,1,0,0,0,21,23,1,0,0,0,22,20,1,0,0,0,23,27,3,2,1,0,24,26,5,1,0,0,25,24,1,0,0,0,26,29,1,0,0,0,27,25,1,0,0,0,27,28,1,0,0,0,28,30,1,0,0,0,29,27,1,0,0,0,30,34,5,5,0,0,31,33,5,1,0,0,32,31,1,0,0,0,33,36,1,0,0,0,34,32,1,0,0,0,34,35,1,0,0,0,35,37,1,0,0,0,36,34,1,0,0,0,37,41,3,0,0,0,38,40,5,1,0,0,39,38,1,0,0,0,40,43,1,0,0,0,41,39,1,0,0,0,41,42,1,0,0,0,42,44,1,0,0,0,43,41,1,0,0,0,44,45,5,4,0,0,45,5,1,0,0,0,46,50,5,3,0,0,47,49,5,1,0,0,48,47,1,0,0,0,49,52,1,0,0,0,50,48,1,0,0,0,50,51,1,0,0,0,51,53,1,0,0,0,52,50,1,0,0,0,53,57,3,2,1,0,54,56,5,1,0,0,55,54,1,0,0,0,56,59,1,0,0,0,57,55,1,0,0,0,57,58,1,0,0,0,58,60,1,0,0,0,59,57,1,0,0,0,60,64,5,5,0,0,61,63,5,1,0,0,62,61,1,0,0,0,63,66,1,0,0,0,64,62,1,0,0,0,64,65,1,0,0,0,65,67,1,0,0,0,66,64,1,0,0,0,67,71,3,0,0,0,68,70,5,1,0,0,69,68,1,0,0,0,70,73,1,0,0,0,71,69,1,0,0,0,71,72,1,0,0,0,72,74,1,0,0,0,73,71,1,0,0,0,74,78,5,5,0,0,75,77,5,1,0,0,76,75,1,0,0,0,77,80,1,0,0,0,78,76,1,0,0,0,78,79,1,0,0,0,79,81,1,0,0,0,80,78,1,0,0,0,81,85,5,8,0,0,82,84,5,1,0,0,83,82,1,0,0,0,84,87,1,0,0,0,85,83,1,0,0,0,85,86,1,0,0,0,86,88,1,0,0,0,87,85,1,0,0,0,88,89,5,4,0,0,89,7,1,0,0,0,90,92,5,1,0,0,91,90,1,0,0,0,92,95,1,0,0,0,93,91,1,0,0,0,93,94,1,0,0,0,94,96,1,0,0,0,95,93,1,0,0,0,96,100,3,4,2,0,97,99,5,1,0,0,98,97,1,0,0,0,99,102,1,0,0,0,100,98,1,0,0,0,100,101,1,0,0,0,101,103,1,0,0,0,102,100,1,0,0,0,103,107,5,6,0,0,104,106,5,1,0,0,105,104,1,0,0,0,106,109,1,0,0,0,107,105,1,0,0,0,107,108,1,0,0,0,108,110,1,0,0,0,109,107,1,0,0,0,110,114,3,6,3,0,111,113,5,1,0,0,112,111,1,0,0,0,113,116,1,0,0,0,114,112,1,0,0,0,114,115,1,0,0,0,115,9,1,0,0,0,116,114,1,0,0,0,117,120,3,8,4,0,118,120,5,2,0,0,119,117,1,0,0,0,119,118,1,0,0,0,120,123,1,0,0,0,121,119,1,0,0,0,121,122,1,0,0,0,122,124,1,0,0,0,123,121,1,0,0,0,124,125,5,0,0,1,125,11,1,0,0,0,16,20,27,34,41,50,57,64,71,78,85,93,100,107,114,119,121];static __ATN;static get _ATN(){return C.__ATN||(C.__ATN=(new A.fr).deserialize(C._serializedATN)),C.__ATN}static DecisionsToDFA=C._ATN.decisionToState.map((t,e)=>new A.M8(t,e))}class I extends A.Pg{constructor(t,e,i){super(e,i),this.parser=t}LEGAL_CHAR(){return this.getToken(C.LEGAL_CHAR,0)}EMPTY(){return this.getToken(C.EMPTY,0)}get ruleIndex(){return C.RULE_letter}accept(t){return t.visitLetter?t.visitLetter(this):t.visitChildren(this)}}class l extends A.Pg{constructor(t,e,i){super(e,i),this.parser=t}LEGAL_CHAR(){return this.getToken(C.LEGAL_CHAR,0)}WORD(){return this.getToken(C.WORD,0)}get ruleIndex(){return C.RULE_state}accept(t){return t.visitState?t.visitState(this):t.visitChildren(this)}}class h extends A.Pg{_from_state;_from_letter;constructor(t,e,i){super(e,i),this.parser=t}OPENER(){return this.getToken(C.OPENER,0)}COMMA(){return this.getToken(C.COMMA,0)}CLOSER(){return this.getToken(C.CLOSER,0)}state_(){return this.getTypedRuleContext(l,0)}letter(){return this.getTypedRuleContext(I,0)}SPACE_list(){return this.getTokens(C.SPACE)}SPACE(t){return this.getToken(C.SPACE,t)}get ruleIndex(){return C.RULE_lhs}accept(t){return t.visitLhs?t.visitLhs(this):t.visitChildren(this)}}class c extends A.Pg{_to_state;_to_letter;_direction;constructor(t,e,i){super(e,i),this.parser=t}OPENER(){return this.getToken(C.OPENER,0)}COMMA_list(){return this.getTokens(C.COMMA)}COMMA(t){return this.getToken(C.COMMA,t)}CLOSER(){return this.getToken(C.CLOSER,0)}state_(){return this.getTypedRuleContext(l,0)}letter(){return this.getTypedRuleContext(I,0)}DIRECTION(){return this.getToken(C.DIRECTION,0)}SPACE_list(){return this.getTokens(C.SPACE)}SPACE(t){return this.getToken(C.SPACE,t)}get ruleIndex(){return C.RULE_rhs}accept(t){return t.visitRhs?t.visitRhs(this):t.visitChildren(this)}}class d extends A.Pg{_left;_right;constructor(t,e,i){super(e,i),this.parser=t}ARROW(){return this.getToken(C.ARROW,0)}lhs(){return this.getTypedRuleContext(h,0)}rhs(){return this.getTypedRuleContext(c,0)}SPACE_list(){return this.getTokens(C.SPACE)}SPACE(t){return this.getToken(C.SPACE,t)}get ruleIndex(){return C.RULE_turing_rule}accept(t){return t.visitTuring_rule?t.visitTuring_rule(this):t.visitChildren(this)}}class u extends A.Pg{constructor(t,e,i){super(e,i),this.parser=t}EOF(){return this.getToken(C.EOF,0)}turing_rule_list(){return this.getTypedRuleContexts(d)}turing_rule(t){return this.getTypedRuleContext(d,t)}NEWLINE_list(){return this.getTokens(C.NEWLINE)}NEWLINE(t){return this.getToken(C.NEWLINE,t)}get ruleIndex(){return C.RULE_program}accept(t){return t.visitProgram?t.visitProgram(this):t.visitChildren(this)}}var p,f=i(131),m=i(28);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Halt=2]="Halt"}(p||(p={}));class v{status;new_tape;text_range;constructor(t,e,i){this.status=t,this.new_tape=e,this.text_range=i}}class b extends f.A{lookup=new Map;parsed=!1;visitLetter=t=>{const e=t.getText();return"\\%"===e?"%":e};visitState=t=>t.getText();construct_lookup_key=(t,e)=>`(${t}, ${e})`;visitLhs=t=>this.construct_lookup_key(this.visit(t._from_state),this.visit(t._from_letter));visitTuring_rule=t=>{const e=this.visit(t._left);if(this.lookup.has(e))throw new Error(`Duplicate rule for ${e}. Non-deterministic turing machines are not allowed at this time.`);return this.lookup.set(e,{rhs:t._right,text_range:{start:t.start.start,end:t.stop.stop+1}}),t.getText()};visit=t=>{let e=super.visit(t);return this.parsed=!0,e};current_state="";set_state=t=>{this.current_state=t};execute_step=(t,e)=>{let i;i=e>=t.length?m.wg:t[e];const n=this.construct_lookup_key(this.current_state,i),o=this.lookup.get(n);if(!o)return new v(p.Halt,t);t=((t,e,i)=>{if(e<t.length)return t.substring(0,e)+i+t.substring(e+1);const n=e-t.length;return t+m.wg.repeat(n)+i})(t,e,this.visit(o.rhs._to_letter)),this.current_state=this.visit(o.rhs._to_state);const s=o.rhs._direction.text;if(!s)throw new Error("Direction token could not be read");switch(s){case"left":return new v(p.Left,t,o.text_range);case"right":return new v(p.Right,t,o.text_range);default:throw new Error(`Unknown direction: ${s}`)}};execute=(t,e=0,i=m.lG)=>{if(!this.parsed)throw new Error("Rules have not been validated/loaded yet. Call visit first.");if(e<0)throw new Error("pos cannot be less than 0");if(e>t.length-1&&0!==t.length&&0!==e)throw new Error("pos is outside tape range");let n=!1,o=0;for(;o<i;o++){const i=this.execute_step(t,e);if(t=i.new_tape,i.status==p.Right)e+=1;else{if(i.status!=p.Left){n=!0;break}0!=e&&(e-=1)}}if(!n)throw new Error(`Step limit of ${i} reached without halting.`);return{tape:t,pos:e,step_idx:o,state:this.current_state}};get_step_iterator=(t,e=0)=>{if(!this.parsed)throw new Error("Rules have not been parsed yet. Call visit first.");if(e<0)throw new Error("pos cannot be less than 0");if(e>t.length-1&&0!==t.length&&0!==e)throw new Error("pos is outside tape range");return{next:()=>{const i=t,n=e,o=this.current_state,s=this.execute_step(t,e);return t=s.new_tape,s.status==p.Right?e+=1:s.status==p.Left&&0!=e&&(e-=1),{status:s.status,old_value:i,value:t,old_pos:n,pos:e,old_state:o,state:this.current_state,text_range:s.text_range}}}}}class y extends A.$t{reportUnwantedToken(t,e){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const i=t.getCurrentToken(),n=super.getTokenErrorDisplay(i),o=super.getExpectedTokens(t);if(o.contains(C.DIRECTION))return void t.notifyErrorListeners(`unrecognised direction ${n} (expected left or right)`,i,null);const s="extraneous input "+n+" expecting "+o.toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(s,i,null)}}class w extends f.A{state_names=[];letters=[];lhs_letters=[];visitState=t=>{const e=t.getText();return this.state_names.includes(e)||this.state_names.push(e),t.getText()};visitLetter=t=>{const e=t.getText();return this.letters.includes(e)||this.letters.push(e),e};visitLhs=t=>{const e=this.visit(t._from_letter);return this.lhs_letters.includes(e)||this.lhs_letters.push(e),this.visit(t._from_state),""}}var x=i(668),E=i.n(x);const k=document.getElementById("init-state"),T=document.getElementById("states"),S=document.getElementById("step-state"),O=document.getElementById("step-number"),D=document.getElementById("final-label"),N=document.getElementById("final-state"),M=document.getElementById("final-steps"),R=document.getElementById("final-steps-plural"),P=()=>{if(""!==k.value)return;const t=T.querySelectorAll("option");if(1===t.length)return n.WQ(`Warning: guessing initial state from only state "${t[0].value}" as none was set.`,"warn-guessed"),k.value=t[0].value,void k.setCustomValidity("");const e=["init","start"];let i=null,o=1/0;for(let n=0;n<t.length;n++){const s=t[n],r=s.value.toLowerCase();for(const t of e){const e=E()(r,t),n=e/r.length,g=n-(r.includes(t)?.4:0);console.log(`${r} vs ${t}: distance=${e}, normalised=${n}, adjusted=${g}`),g<=.5&&g<o&&(o=g,i=s.value)}}if(i)return n.WQ(`Warning: guessing initial state "${i}" as none was set.`,"warn-guessed"),k.value=i,void k.setCustomValidity("");n.WQ("Could not guess initial state. Please select one.","no-init")},L=t=>{n.Z$("syntax"),o.fz(),o.pu();const e=new A.Zo(t),i=new a(e),r=new A.jB(i),I=new C(r);I.removeErrorListeners(),I.addErrorListener(new n.AX),I._errHandler=new y;const l=I.program();g.dD(l);const h=new w;return l.accept(h),(t=>{let e=k.value;T.innerHTML="";for(const e of t){const t=document.createElement("option");t.value=e,t.innerText=e,T.appendChild(t)}t.includes(e)?k.value=e:k.value=""})(h.state_names),s.C(h.lhs_letters),l},B=t=>{n.IU();const e=L(t);if(n.hA().length>0)return n.DT(),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"});if(s.f8()&&!s.Zu())return n.WQ("Invalid input: tape contains letters not in the input alphabet Σ (determined from LHS letters).","tape-invalid"),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"});const i=new b;try{e.accept(i)}catch(t){return console.error(t),n.WQ("Validation error: "+t.message,"validation"),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"})}let o=k.value;if(""===o&&(P(),o=k.value,""===o))return void k.setCustomValidity("Please select an initial state.");i.set_state(o),D.classList.add("hidden");const r=s.tS();console.log(`Running Turing machine with initial state "${o}" and tape input "${r}"`),""!==r&&r!==m.wg.repeat(r.length)||n.WQ("Warning: tape input is empty. This may be a mistake.","warn-no-tape");try{const t=i.execute(r);let e=t.tape;console.log(e);let n=e.length;for(let t=e.length-1;t>=0;t--)if(e[t]!==m.wg){n=t+1;break}e=e.substring(0,n),s.to(e),D.classList.remove("hidden"),N.innerText=t.state;let o=t.step_idx+1;M.innerText=`${o}`,R.classList.toggle("hidden",1===o)}catch(t){console.error(t),n.WQ("Execution error: "+t.message,"exec")}};let F,_=null,z=1;const V=()=>null!==_,Z=()=>{_=null,document.getElementById("run").classList.remove("hidden"),document.getElementById("stepper-controls").classList.add("hidden"),document.getElementById("run-step").classList.remove("hidden"),s.o0(null),F&&o.Qd(F),g.MX(null);const t=r.xh(),e=t?.script?.readonly??!1,i=t?.init?.readonly??!1,n=t?.tape?.readonly??!1;o.G9(e),e||document.getElementById("upload-button").removeAttribute("disabled"),k.disabled=i,s.GD(n)},W=()=>{if(!_){n.IU();const t=o.RB(),e=L(t);if(n.hA().length>0)return n.DT(),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"});if(s.f8()&&!s.Zu())return n.WQ("Invalid input: tape contains letters not in the input alphabet Σ (determined from LHS letters).","tape-invalid"),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"});const i=new b;try{e.accept(i)}catch(t){return console.error(t),n.WQ("Validation error: "+t.message,"validation"),void n.Sx().scrollIntoView({behavior:"smooth",block:"end"})}let r=k.value;return""===r&&(P(),r=k.value,""===r)?void k.setCustomValidity("Please select an initial state."):(i.set_state(r),_=i.get_step_iterator(s.tS()),z=1,console.log("Prepared new step iterator."),document.getElementById("run").classList.add("hidden"),D.classList.add("hidden"),document.getElementById("stepper-controls").classList.remove("hidden"),document.getElementById("run-step").classList.add("hidden"),document.getElementById("upload-button").setAttribute("disabled","true"),k.disabled=!0,o.G9(!0),s.GD(!0),s.o0(0),s.Ub(0),S.innerText=r,void(O.innerText="1"))}if(_)try{O.innerText=""+ ++z;const t=_.next();if(t.status===p.Halt)console.log("Execution finished."),Z(),D.classList.remove("hidden"),N.innerText=t.state,M.innerText=""+--z,R.classList.toggle("hidden",1===z);else{console.log(`Tape: ${t.value}, Position: ${t.pos}, State: ${t.state} (Text range: ${t.text_range?.start} - ${t.text_range?.end})`),s.to(t.value),s.o0(t.pos),s.Ub(t.pos),F&&o.Qd(F),t.text_range&&(F=o.$p(t.text_range.start,t.text_range.end,"cm-highlight"));const e=t.old_value[t.old_pos]||m.wg;g.MX({from:t.old_state,to:t.state,letter:e}),S.innerText=t.state}}catch(t){console.error(t),n.WQ("Execution error: "+t.message,"exec"),Z()}},G=()=>{if(!_)return void console.warn("No step iterator available. Please run the program first.");const t=_;Z();let e=!1,i=s.tS(),o=S.innerText;for(;z<m.lG;z++){const n=t.next();if(n.status===p.Halt){console.log("Execution finished."),e=!0;break}i=n.value,o=n.state}s.to(i),D.classList.remove("hidden"),N.innerText=o,M.innerText=`${z}`,R.classList.toggle("hidden",1===z),e||(console.warn(`Reached step limit of ${m.lG} without halting.`),n.WQ(`Reached step limit of ${m.lG} without halting.`,"step-limit"))}},830:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});class n{listeners={};_current_tab=null;add_listener=(t,e)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)};get current_tab(){return this._current_tab}change_tab=t=>{const e=document.getElementById(t);e?e.classList.remove("hidden"):console.warn(`No element found with ID: ${t}`),this._current_tab=t,this.listeners[t]&&this.listeners[t].forEach(e=>{try{e()}catch(e){console.error(`Error in listener for target ${t}:`,e)}})};constructor(t){const e=t.querySelector(".tabs-buttons"),i=t.querySelector(".tabs-pane");e.querySelectorAll("button").forEach(t=>{t.addEventListener("click",()=>{e.querySelectorAll("button").forEach(t=>t.classList.remove("active")),t.classList.add("active"),[...i.children].forEach(t=>t.classList.add("hidden"));const n=t.getAttribute("data-target");n?(this.change_tab(n),i.scrollTo({top:0,behavior:"smooth"})):console.warn("Button has no data-target attribute.")})})}}},967:(t,e,i)=>{"use strict";function n(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===i&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}i.d(e,{MX:()=>$E,dD:()=>XE,l1:()=>qE}),n("div.vis-network div.vis-manipulation {\n  box-sizing: content-box;\n\n  border-width: 0;\n  border-bottom: 1px;\n  border-style: solid;\n  border-color: #d6d9d8;\n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #ffffff),\n    color-stop(48%, #fcfcfc),\n    color-stop(50%, #fafafa),\n    color-stop(100%, #fcfcfc)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */\n\n  padding-top: 4px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 28px;\n}\n\ndiv.vis-network div.vis-edit-mode,\ndiv.vis-network button.vis-edit-mode {\n  position: absolute;\n  left: 0;\n  top: 5px;\n  height: 30px;\n}\n\n/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */\n\ndiv.vis-network button.vis-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  background-position: 20px 3px;\n  background-repeat: no-repeat;\n  background-image: url('data:image/png;base64,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/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC');\n  border: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network button.vis-close:hover {\n  opacity: 0.6;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button,\ndiv.vis-network div.vis-edit-mode button.vis-button {\n  float: left;\n  font-family: verdana;\n  font-size: 12px;\n  border: none;\n  box-sizing: content-box;\n  -moz-border-radius: 15px;\n  border-radius: 15px;\n  background-color: transparent;\n  background-position: 0px 0px;\n  background-repeat: no-repeat;\n  height: 24px;\n  margin-left: 10px;\n  cursor: pointer;\n  padding: 0px 8px 0px 8px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.5);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-back {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC');\n}\n\ndiv.vis-network div.vis-manipulation div.vis-none:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n  cursor: default;\n}\ndiv.vis-network div.vis-manipulation div.vis-none:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n}\ndiv.vis-network div.vis-manipulation div.vis-none {\n  padding: 0px;\n  line-height: 23px;\n}\ndiv.vis-network div.vis-manipulation div.notification {\n  margin: 2px;\n  font-weight: bold;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-add {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-edit,\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode {\n  background-color: #fcfcfc;\n  border: 1px solid #cccccc;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-connect {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-delete {\n  background-image: url('data:image/png;base64,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/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=');\n}\n/* top right bottom left */\ndiv.vis-network div.vis-manipulation div.vis-label,\ndiv.vis-network div.vis-edit-mode div.vis-label {\n  margin: 0 0 0 23px;\n  line-height: 25px;\n}\ndiv.vis-network div.vis-manipulation div.vis-separator-line {\n  float: left;\n  display: inline-block;\n  width: 1px;\n  height: 21px;\n  background-color: #bdbdbd;\n  margin: 0px 7px 0 15px; /*top right bottom left*/\n}\n\n/* TODO: is this redundant?\ndiv.network-navigation_wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n*/\n"),n("div.vis-network div.vis-navigation div.vis-button {\n  width: 34px;\n  height: 34px;\n  -moz-border-radius: 17px;\n  border-radius: 17px;\n  position: absolute;\n  display: inline-block;\n  background-position: 2px 2px;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:hover {\n  box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.3);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:active {\n  box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button.vis-up {\n  background-image: url('data:image/png;base64,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');\n  bottom: 50px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-down {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-left {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABt5JREFUeNqsl2lUlOcVx//3Pi9DZRsGBgYiS2RYBQKIjAhEJW4pNrXNMbZpWtTGNkttYmJMG5soSZckRk+0p+dYPYY0Gk0ihlhRj63GhVUgBhDD5oIOy8AAMwzD4lCYtx+GqCQKuNyP7/Pc+3u2+7/3JUzEZFBYLh62S7yIZDmVBEIBqOwsQ4DNdtBFASq2A4cuZAwVgCCPF5LGHM0Chz+E1XamzUyAzCMO7IhMI+5MDCK+HpCANd+U2rYgC/Y7BoflYgVA2RAOoNYtyjDTe45+hk96e5QywaJR+NsAwDhocK61VCjLTYWaclNB0OW+en8mhl22g8C/rn7U+uGEwdov+C0i+Q0mIFWzoD7zwVU1czQ/6pjIreR3HPX5VL9jalHXiQgmBoH+XLHAtH5csDaXtxDLLzIBv5jyfOmG2H9U4S7snbpX43KaPpgBIhDx1rPzOlbfPC5GQT/nd1mS1zABa6PfPf5y5F/rcJeWpp7fPkly6f7KXBRCoOSATFfXll19x74HDsvFCghsJAG8HrvlvytCXm7EPVqc5wyzp5NX15muE1omKXXyMnd9yy5r5Q3wPghvJzrLAlimXV38+7D1DbhPFq1M6O4b6rPVWKsCBfHi5EWWv9TkQBYAEPpLvERMC9N8FtRvjt9dPl6wwo5jPvuas7WV5jNqEjz8wA+CBsaan+w9x1hrrXJtuaZX97ooLfqPLCUEGRR+iOwAsF2X98Uc30W3fb02u41frVqeVmo6FUkkwCAwCWxJ2Ls/0TPFNBb8TNdp9WvnVz4OAKdmX2QOzcMsAAjziDGMBd3asCF6SXHyknJTfqQTK+zpvhnVKT5zawCgzFTgN94pJXvP7gxxjTAIkpB+MnSWRMQZYEDnPVt/K4ejbZ/77726Lb6h95tAAiPELaJ1bcTbRfGeM8xv1azWSeyEa0P9igk+Nr1+oNFfkpwzJCJKIQA679ntN08yDXYo3qh+LuUrc0E4EcNL4dP7VNDzpU8FP3vpekoQQ5CEw4bPdEfa9+sAgEZUmkmAAAS5hLQ9p11XGO+pM8V5JLUfMeQARDMlEMKIGFOVCZYb0C7Fz0oeXmIZ6nZzYoV9od/jVS+GbahUOnn9b7T6sEOviUGyA8bMDlUa0W79wBW/bZf+lrY98cDBUI8YCxGDgHCJiVVEDN8R7QWAE8Z/+1mGut2i3eP1r0S+XRztkdBzq6NbF7WpbF3UprKxjvfHxbrfttla/QBArVDbJJIAQCURMRg8ugrKIAKBSNxzHtN3VdmxY0iQYSZmTeegwTlgknYAAB7RZBh2Nm7urbeeC1r19ROT52kWn3shfH2Fu1AO3RxjY/0fdac7/hPPJMDE11GC+HpBJmIEuAS3Oa6w01lybMbMgvgCE6O255zy24DeCr/Bvckn9+u8ZjXYIYvjxoMJy8oeXZrT9GHIqMWTwA2oI6cFMeDIcAiSEOyibXsmZG0hAFzuq1OyY6xBAnMJgdPOmks08zU/bbsB9x18P37PqS/b8+o/a96ZcLm3PmBH46Z5x40HW1eFvl4Uq0w0MwiCBOb7/qTsd6GvVY537DXWas1Iw1AiNJnOgwJi+bXhAbE08OnvaXSIW0TvYw88eaF/uM/WNdju3m5r9TlhPBzVNNDoPGC/5tRma/GJ80xqjPPUjVuvP2narrMOWd1Jlv/E1fN782UiNPZf9C/qOKa+ndOz2j+cz046sn+6KrVOsODirpOxld0lUxmEBK/ktvGgFd2l6taBZn9BAtEz5xYIvAn4/8rFKkgstAyZ6Yf+S67ezlkiSU73XXRV6xqh93TyssR4JF75efBvymLdE03jgT/Wb5tutLWpGbTm7wHZxQQAT+yDuKLyHRIk4cnAZ4pfCF9/HvfR9uh3xBxtz00BANsVDylnac6wAICaHMiBmW5NRLy4trcq0MtZ3RnpHme5H9AvjYeCc1t3pzMJgOSVnyw4eHZUB9Kyu68iMFPpysSppab8UJVC3Rnp/pDlXqF7mnYsdKQbv7cr6fDGW/Zczbt6jgUtV6kIlFxuyg/tH+6zJXmlGe8G+mlzdsyB1j3pTAwZ9q3/Sspbc9tmDwD0H3UffXCFlyuTlFpnPRdYb612c5c8+idPCu6fCLDKUubzsf6fSaWm0wmO9hbvZU8fDR2zoZ97OuppAu0UJEDEmOISZohT6q7Gek5rD3GN6FEp1DaAYB7sdNYPXPao7anS1Fmrg402g7+jYhGIaOXOaQc+uONfmCwZXJIf8xKx2KRgxYgOS+CROuyoyQKCxIhkOr4T6JWgxGnvZ1HWnf/CfHcBXxcnpRHxYwRKkUjSErFKkAQiNjP4kmBRTHbKm5KkKxwL+K39fwDX1XGF8ct++QAAAABJRU5ErkJggg==');\n  bottom: 10px;\n  left: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-right {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 95px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomIn {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  right: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomOut {\n  background-image: url('data:image/png;base64,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');\n  bottom: 10px;\n  right: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {\n  background-image: url('data:image/png;base64,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');\n  bottom: 50px;\n  right: 15px;\n}\n"),n(".vis-overlay {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n"),n('/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*="span"] {\n  min-height: 0;\n  width: auto;\n}\n'),n("div.vis-color-picker {\n  position: absolute;\n  top: 0px;\n  left: 30px;\n  margin-top: -140px;\n  margin-left: 30px;\n  width: 310px;\n  height: 444px;\n  z-index: 1;\n  padding: 10px;\n  border-radius: 15px;\n  background-color: #ffffff;\n  display: none;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 0px;\n}\n\ndiv.vis-color-picker div.vis-arrow {\n  position: absolute;\n  top: 147px;\n  left: 5px;\n}\n\ndiv.vis-color-picker div.vis-arrow::after,\ndiv.vis-color-picker div.vis-arrow::before {\n  right: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\ndiv.vis-color-picker div.vis-arrow:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-right-color: #ffffff;\n  border-width: 30px;\n  margin-top: -30px;\n}\n\ndiv.vis-color-picker div.vis-color {\n  position: absolute;\n  width: 289px;\n  height: 289px;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-brightness {\n  position: absolute;\n  top: 313px;\n}\n\ndiv.vis-color-picker div.vis-opacity {\n  position: absolute;\n  top: 350px;\n}\n\ndiv.vis-color-picker div.vis-selector {\n  position: absolute;\n  top: 137px;\n  left: 137px;\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  border: 1px solid #ffffff;\n  background: #4c4c4c; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #4c4c4c),\n    color-stop(12%, #595959),\n    color-stop(25%, #666666),\n    color-stop(39%, #474747),\n    color-stop(50%, #2c2c2c),\n    color-stop(51%, #000000),\n    color-stop(60%, #111111),\n    color-stop(76%, #2b2b2b),\n    color-stop(91%, #1c1c1c),\n    color-stop(100%, #131313)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */\n}\n\ndiv.vis-color-picker div.vis-new-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 159px;\n  text-align: right;\n  padding-right: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-initial-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 10px;\n  text-align: left;\n  padding-left: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-label {\n  position: absolute;\n  width: 300px;\n  left: 10px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-brightness {\n  top: 300px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-opacity {\n  top: 338px;\n}\n\ndiv.vis-color-picker div.vis-button {\n  position: absolute;\n  width: 68px;\n  height: 25px;\n  border-radius: 10px;\n  vertical-align: middle;\n  text-align: center;\n  line-height: 25px;\n  top: 410px;\n  border: 2px solid #d9d9d9;\n  background-color: #f7f7f7;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-button.vis-cancel {\n  /*border:2px solid #ff4e33;*/\n  /*background-color: #ff7761;*/\n  left: 5px;\n}\ndiv.vis-color-picker div.vis-button.vis-load {\n  /*border:2px solid #a153e6;*/\n  /*background-color: #cb8dff;*/\n  left: 82px;\n}\ndiv.vis-color-picker div.vis-button.vis-apply {\n  /*border:2px solid #4588e6;*/\n  /*background-color: #82b6ff;*/\n  left: 159px;\n}\ndiv.vis-color-picker div.vis-button.vis-save {\n  /*border:2px solid #45e655;*/\n  /*background-color: #6dff7c;*/\n  left: 236px;\n}\n\ndiv.vis-color-picker input.vis-range {\n  width: 290px;\n  height: 20px;\n}\n\n/* TODO: is this redundant?\ndiv.vis-color-picker input.vis-range-brightness {\n  width: 289px !important;\n}\n\n\ndiv.vis-color-picker input.vis-saturation-range {\n  width: 289px !important;\n}*/\n"),n("div.vis-configuration {\n  position: relative;\n  display: block;\n  float: left;\n  font-size: 12px;\n}\n\ndiv.vis-configuration-wrapper {\n  display: block;\n  width: 700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \"\";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container {\n  display: block;\n  width: 495px;\n  background-color: #ffffff;\n  border: 2px solid #f7f8fa;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n}\n\ndiv.vis-configuration.vis-config-button {\n  display: block;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n  background-color: #f7f8fa;\n  border: 2px solid #ceced0;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n  cursor: pointer;\n  margin-bottom: 30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover {\n  background-color: #4588e6;\n  border: 2px solid #214373;\n  color: #ffffff;\n}\n\ndiv.vis-configuration.vis-config-item {\n  display: block;\n  float: left;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s2 {\n  left: 10px;\n  background-color: #f7f8fa;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3 {\n  left: 20px;\n  background-color: #e4e9f0;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4 {\n  left: 30px;\n  background-color: #cfd8e6;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-header {\n  font-size: 18px;\n  font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label {\n  width: 120px;\n  height: 25px;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3 {\n  width: 110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4 {\n  width: 100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock {\n  top: 1px;\n  width: 30px;\n  height: 19px;\n  border: 1px solid #444444;\n  border-radius: 2px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n  left: -5px;\n}\n\ninput.vis-configuration.vis-config-rangeinput {\n  position: relative;\n  top: -5px;\n  width: 60px;\n  /*height:13px;*/\n  padding: 1px;\n  margin: 0;\n  pointer-events: none;\n}\n\ninput.vis-configuration.vis-config-range {\n  /*removes default webkit styles*/\n  -webkit-appearance: none;\n\n  /*fix for FF unable to apply focus style bug */\n  border: 0px solid white;\n  background-color: rgba(0, 0, 0, 0);\n\n  /*required for proper track sizing in FF*/\n  width: 300px;\n  height: 20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: 1px solid #14334b;\n  height: 17px;\n  width: 17px;\n  border-radius: 50%;\n  background: #3876c2; /* Old browsers */\n  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #3876c2),\n    color-stop(100%, #385380)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n  box-shadow: #111927 0px 0px 1px 0px;\n  margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n  outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n  background: #9d9d9d; /* Old browsers */\n  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #9d9d9d),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n  width: 300px;\n  height: 10px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n\n  border-radius: 50%;\n  background: #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n  width: 300px;\n  height: 5px;\n\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n\n  /*remove default tick marks*/\n  color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n  background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.vis-configuration-popup {\n  position: absolute;\n  background: rgba(57, 76, 89, 0.85);\n  border: 2px solid #f2faff;\n  line-height: 30px;\n  height: 30px;\n  width: 150px;\n  text-align: center;\n  color: #ffffff;\n  font-size: 14px;\n  border-radius: 4px;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after,\n.vis-configuration-popup:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n  border-color: rgba(136, 183, 213, 0);\n  border-left-color: rgba(57, 76, 89, 0.85);\n  border-width: 8px;\n  margin-top: -8px;\n}\n.vis-configuration-popup:before {\n  border-color: rgba(194, 225, 245, 0);\n  border-left-color: #f2faff;\n  border-width: 12px;\n  margin-top: -12px;\n}\n"),n("div.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size: 14px;\n  color: #000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n\n  z-index: 5;\n}\n");var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r,g,A,a,C,I,l,h,c,d,u,p,f,m,v,b,y={};function w(){if(g)return r;g=1;var t=function(t){return t&&t.Math===Math&&t};return r=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof o&&o)||t("object"==typeof r&&r)||function(){return this}()||Function("return this")()}function x(){return a?A:(a=1,A=function(t){try{return!!t()}catch(t){return!0}})}function E(){return I?C:(I=1,C=!x()(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function k(){if(h)return l;h=1;var t=E(),e=Function.prototype,i=e.apply,n=e.call;return l="object"==typeof Reflect&&Reflect.apply||(t?n.bind(i):function(){return n.apply(i,arguments)}),l}function T(){if(d)return c;d=1;var t=E(),e=Function.prototype,i=e.call,n=t&&e.bind.bind(i,i);return c=t?n:function(t){return function(){return i.apply(t,arguments)}},c}function S(){if(p)return u;p=1;var t=T(),e=t({}.toString),i=t("".slice);return u=function(t){return i(e(t),8,-1)}}function O(){if(m)return f;m=1;var t=S(),e=T();return f=function(i){if("Function"===t(i))return e(i)}}function D(){if(b)return v;b=1;var t="object"==typeof document&&document.all;return v=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var N,M,R,P,L={};function B(){return M?N:(M=1,N=!x()(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function F(){if(P)return R;P=1;var t=E(),e=Function.prototype.call;return R=t?e.bind(e):function(){return e.apply(e,arguments)},R}var _,z,V,Z,W,G,j,H,Y,U,K,Q,X,q,J,$,tt,et,it,nt,ot,st,rt,gt,At,at,Ct,It,lt,ht,ct,dt,ut,pt,ft,mt,vt,bt={};function yt(){if(_)return bt;_=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,i=e&&!t.call({1:2},1);return bt.f=i?function(t){var i=e(this,t);return!!i&&i.enumerable}:t,bt}function wt(){return V?z:(V=1,z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function xt(){if(W)return Z;W=1;var t=T(),e=x(),i=S(),n=Object,o=t("".split);return Z=e(function(){return!n("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?o(t,""):n(t)}:n}function Et(){return j||(j=1,G=function(t){return null==t}),G}function kt(){if(Y)return H;Y=1;var t=Et(),e=TypeError;return H=function(i){if(t(i))throw new e("Can't call method on "+i);return i}}function Tt(){if(K)return U;K=1;var t=xt(),e=kt();return U=function(i){return t(e(i))}}function St(){if(X)return Q;X=1;var t=D();return Q=function(e){return"object"==typeof e?null!==e:t(e)}}function Ot(){return J?q:(J=1,q={})}function Dt(){if(tt)return $;tt=1;var t=Ot(),e=w(),i=D(),n=function(t){return i(t)?t:void 0};return $=function(i,o){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][o]||e[i]&&e[i][o]},$}function Nt(){return it?et:(it=1,et=T()({}.isPrototypeOf))}function Mt(){if(ot)return nt;ot=1;var t=w().navigator,e=t&&t.userAgent;return nt=e?String(e):""}function Rt(){if(rt)return st;rt=1;var t,e,i=w(),n=Mt(),o=i.process,s=i.Deno,r=o&&o.versions||s&&s.version,g=r&&r.v8;return g&&(e=(t=g.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&n&&(!(t=n.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/))&&(e=+t[1]),st=e}function Pt(){if(At)return gt;At=1;var t=Rt(),e=x(),i=w().String;return gt=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41}),gt}function Lt(){return Ct?at:(Ct=1,at=Pt()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function Bt(){if(lt)return It;lt=1;var t=Dt(),e=D(),i=Nt(),n=Object;return It=Lt()?function(t){return"symbol"==typeof t}:function(o){var s=t("Symbol");return e(s)&&i(s.prototype,n(o))}}function Ft(){if(ct)return ht;ct=1;var t=String;return ht=function(e){try{return t(e)}catch(t){return"Object"}}}function _t(){if(ut)return dt;ut=1;var t=D(),e=Ft(),i=TypeError;return dt=function(n){if(t(n))return n;throw new i(e(n)+" is not a function")}}function zt(){if(ft)return pt;ft=1;var t=_t(),e=Et();return pt=function(i,n){var o=i[n];return e(o)?void 0:t(o)}}function Vt(){if(vt)return mt;vt=1;var t=F(),e=D(),i=St(),n=TypeError;return mt=function(o,s){var r,g;if("string"===s&&e(r=o.toString)&&!i(g=t(r,o)))return g;if(e(r=o.valueOf)&&!i(g=t(r,o)))return g;if("string"!==s&&e(r=o.toString)&&!i(g=t(r,o)))return g;throw new n("Can't convert object to primitive value")}}var Zt,Wt,Gt,jt,Ht,Yt,Ut,Kt,Qt,Xt,qt,Jt,$t,te,ee,ie,ne,oe,se,re,ge,Ae,ae,Ce,Ie,le,he,ce,de={exports:{}};function ue(){return Wt?Zt:(Wt=1,Zt=!0)}function pe(){if(jt)return Gt;jt=1;var t=w(),e=Object.defineProperty;return Gt=function(i,n){try{e(t,i,{value:n,configurable:!0,writable:!0})}catch(e){t[i]=n}return n}}function fe(){if(Ht)return de.exports;Ht=1;var t=ue(),e=w(),i=pe(),n="__core-js_shared__",o=de.exports=e[n]||i(n,{});return(o.versions||(o.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),de.exports}function me(){if(Ut)return Yt;Ut=1;var t=fe();return Yt=function(e,i){return t[e]||(t[e]=i||{})}}function ve(){if(Qt)return Kt;Qt=1;var t=kt(),e=Object;return Kt=function(i){return e(t(i))}}function be(){if(qt)return Xt;qt=1;var t=T(),e=ve(),i=t({}.hasOwnProperty);return Xt=Object.hasOwn||function(t,n){return i(e(t),n)}}function ye(){if($t)return Jt;$t=1;var t=T(),e=0,i=Math.random(),n=t(1.1.toString);return Jt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++e+i,36)}}function we(){if(ee)return te;ee=1;var t=w(),e=me(),i=be(),n=ye(),o=Pt(),s=Lt(),r=t.Symbol,g=e("wks"),A=s?r.for||r:r&&r.withoutSetter||n;return te=function(t){return i(g,t)||(g[t]=o&&i(r,t)?r[t]:A("Symbol."+t)),g[t]}}function xe(){if(ne)return ie;ne=1;var t=F(),e=St(),i=Bt(),n=zt(),o=Vt(),s=TypeError,r=we()("toPrimitive");return ie=function(g,A){if(!e(g)||i(g))return g;var a,C=n(g,r);if(C){if(void 0===A&&(A="default"),a=t(C,g,A),!e(a)||i(a))return a;throw new s("Can't convert object to primitive value")}return void 0===A&&(A="number"),o(g,A)}}function Ee(){if(se)return oe;se=1;var t=xe(),e=Bt();return oe=function(i){var n=t(i,"string");return e(n)?n:n+""}}function ke(){if(ge)return re;ge=1;var t=w(),e=St(),i=t.document,n=e(i)&&e(i.createElement);return re=function(t){return n?i.createElement(t):{}}}function Te(){if(ae)return Ae;ae=1;var t=B(),e=x(),i=ke();return Ae=!t&&!e(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})}function Se(){if(Ce)return L;Ce=1;var t=B(),e=F(),i=yt(),n=wt(),o=Tt(),s=Ee(),r=be(),g=Te(),A=Object.getOwnPropertyDescriptor;return L.f=t?A:function(t,a){if(t=o(t),a=s(a),g)try{return A(t,a)}catch(t){}if(r(t,a))return n(!e(i.f,t,a),t[a])},L}function Oe(){if(le)return Ie;le=1;var t=x(),e=D(),i=/#|\.prototype\./,n=function(i,n){var A=s[o(i)];return A===g||A!==r&&(e(n)?t(n):!!n)},o=n.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=n.data={},r=n.NATIVE="N",g=n.POLYFILL="P";return Ie=n}function De(){if(ce)return he;ce=1;var t=O(),e=_t(),i=E(),n=t(t.bind);return he=function(t,o){return e(t),void 0===o?t:i?n(t,o):function(){return t.apply(o,arguments)}},he}var Ne,Me,Re,Pe,Le,Be,Fe,_e,ze,Ve,Ze,We,Ge,je,He,Ye,Ue,Ke,Qe,Xe,qe,Je,$e,ti,ei,ii,ni,oi,si,ri={};function gi(){return Me?Ne:(Me=1,Ne=B()&&x()(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}))}function Ai(){if(Pe)return Re;Pe=1;var t=St(),e=String,i=TypeError;return Re=function(n){if(t(n))return n;throw new i(e(n)+" is not an object")}}function ai(){if(Le)return ri;Le=1;var t=B(),e=Te(),i=gi(),n=Ai(),o=Ee(),s=TypeError,r=Object.defineProperty,g=Object.getOwnPropertyDescriptor,A="enumerable",a="configurable",C="writable";return ri.f=t?i?function(t,e,i){if(n(t),e=o(e),n(i),"function"==typeof t&&"prototype"===e&&"value"in i&&C in i&&!i[C]){var s=g(t,e);s&&s[C]&&(t[e]=i.value,i={configurable:a in i?i[a]:s[a],enumerable:A in i?i[A]:s[A],writable:!1})}return r(t,e,i)}:r:function(t,i,g){if(n(t),i=o(i),n(g),e)try{return r(t,i,g)}catch(t){}if("get"in g||"set"in g)throw new s("Accessors not supported");return"value"in g&&(t[i]=g.value),t},ri}function Ci(){if(Fe)return Be;Fe=1;var t=B(),e=ai(),i=wt();return Be=t?function(t,n,o){return e.f(t,n,i(1,o))}:function(t,e,i){return t[e]=i,t},Be}function Ii(){if(ze)return _e;ze=1;var t=w(),e=k(),i=O(),n=D(),o=Se().f,s=Oe(),r=Ot(),g=De(),A=Ci(),a=be(),C=function(t){var i=function(n,o,s){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,o)}return new t(n,o,s)}return e(t,this,arguments)};return i.prototype=t.prototype,i};return _e=function(e,I){var l,h,c,d,u,p,f,m,v,b=e.target,y=e.global,w=e.stat,x=e.proto,E=y?t:w?t[b]:t[b]&&t[b].prototype,k=y?r:r[b]||A(r,b,{})[b],T=k.prototype;for(d in I)h=!(l=s(y?d:b+(w?".":"#")+d,e.forced))&&E&&a(E,d),p=k[d],h&&(f=e.dontCallGetSet?(v=o(E,d))&&v.value:E[d]),u=h&&f?f:I[d],(l||x||typeof p!=typeof u)&&(m=e.bind&&h?g(u,t):e.wrap&&h?C(u):x&&n(u)?i(u):u,(e.sham||u&&u.sham||p&&p.sham)&&A(m,"sham",!0),A(k,d,m),x&&(a(r,c=b+"Prototype")||A(r,c,{}),A(r[c],d,u),e.real&&T&&(l||!T[d])&&A(T,d,u)))}}function li(){if(Ze)return Ve;Ze=1;var t=Math.ceil,e=Math.floor;return Ve=Math.trunc||function(i){var n=+i;return(n>0?e:t)(n)}}function hi(){if(Ge)return We;Ge=1;var t=li();return We=function(e){var i=+e;return i!=i||0===i?0:t(i)},We}function ci(){if(He)return je;He=1;var t=hi(),e=Math.max,i=Math.min;return je=function(n,o){var s=t(n);return s<0?e(s+o,0):i(s,o)},je}function di(){if(Ue)return Ye;Ue=1;var t=hi(),e=Math.min;return Ye=function(i){var n=t(i);return n>0?e(n,9007199254740991):0}}function ui(){if(Qe)return Ke;Qe=1;var t=di();return Ke=function(e){return t(e.length)}}function pi(){if(qe)return Xe;qe=1;var t=Tt(),e=ci(),i=ui(),n=function(n){return function(o,s,r){var g=t(o),A=i(g);if(0===A)return!n&&-1;var a,C=e(r,A);if(n&&s!=s){for(;A>C;)if((a=g[C++])!=a)return!0}else for(;A>C;C++)if((n||C in g)&&g[C]===s)return n||C||0;return!n&&-1}};return Xe={includes:n(!0),indexOf:n(!1)}}function fi(){return $e?Je:($e=1,Je={})}function mi(){if(ei)return ti;ei=1;var t=T(),e=be(),i=Tt(),n=pi().indexOf,o=fi(),s=t([].push);return ti=function(t,r){var g,A=i(t),a=0,C=[];for(g in A)!e(o,g)&&e(A,g)&&s(C,g);for(;r.length>a;)e(A,g=r[a++])&&(~n(C,g)||s(C,g));return C},ti}function vi(){return ni?ii:(ni=1,ii=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function bi(){if(si)return oi;si=1;var t=mi(),e=vi();return oi=Object.keys||function(i){return t(i,e)}}var yi,wi,xi,Ei,ki,Ti,Si,Oi,Di,Ni,Mi={};function Ri(){return yi||(yi=1,Mi.f=Object.getOwnPropertySymbols),Mi}function Pi(){if(xi)return wi;xi=1;var t=B(),e=T(),i=F(),n=x(),o=bi(),s=Ri(),r=yt(),g=ve(),A=xt(),a=Object.assign,C=Object.defineProperty,I=e([].concat);return wi=!a||n(function(){if(t&&1!==a({b:1},a(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},n=Symbol("assign detection"),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach(function(t){i[t]=t}),7!==a({},e)[n]||o(a({},i)).join("")!==s})?function(e,n){for(var a=g(e),C=arguments.length,l=1,h=s.f,c=r.f;C>l;)for(var d,u=A(arguments[l++]),p=h?I(o(u),h(u)):o(u),f=p.length,m=0;f>m;)d=p[m++],t&&!i(c,u,d)||(a[d]=u[d]);return a}:a,wi}function Li(){return Ti?ki:(Ti=1,function(){if(Ei)return y;Ei=1;var t=Ii(),e=Pi();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})}(),ki=Ot().Object.assign)}function Bi(){return Oi?Si:(Oi=1,Si=Li())}var Fi,_i,zi,Vi,Zi,Wi,Gi,ji,Hi,Yi,Ui,Ki,Qi,Xi,qi,Ji=s(Ni?Di:(Ni=1,Di=Bi())),$i={};function tn(){return _i?Fi:(_i=1,Fi=T()([].slice))}function en(){if(Vi)return zi;Vi=1;var t=T(),e=_t(),i=St(),n=be(),o=tn(),s=E(),r=Function,g=t([].concat),A=t([].join),a={};return zi=s?r.bind:function(t){var s=e(this),C=s.prototype,I=o(arguments,1),l=function(){var e=g(I,o(arguments));return this instanceof l?function(t,e,i){if(!n(a,e)){for(var o=[],s=0;s<e;s++)o[s]="a["+s+"]";a[e]=r("C,a","return new C("+A(o,",")+")")}return a[e](t,i)}(s,e.length,e):s.apply(t,e)};return i(C)&&(l.prototype=C),l},zi}function nn(){if(Gi)return Wi;Gi=1;var t=w(),e=Ot();return Wi=function(i,n){var o=e[i+"Prototype"],s=o&&o[n];if(s)return s;var r=t[i],g=r&&r.prototype;return g&&g[n]}}function on(){return Hi?ji:(Hi=1,function(){if(Zi)return $i;Zi=1;var t=Ii(),e=en();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}(),ji=nn()("Function","bind"))}function sn(){if(Ui)return Yi;Ui=1;var t=Nt(),e=on(),i=Function.prototype;return Yi=function(n){var o=n.bind;return n===i||t(i,n)&&o===i.bind?e:o}}function rn(){return Qi?Ki:(Qi=1,Ki=sn())}var gn=s(qi?Xi:(qi=1,Xi=rn()));function An(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function an(t,e,i,n,o,s){const r=Math.PI/180;n-2*s<0&&(s=n/2),o-2*s<0&&(s=o/2),t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.arc(e+n-s,i+s,s,270*r,360*r,!1),t.lineTo(e+n,i+o-s),t.arc(e+n-s,i+o-s,s,0,90*r,!1),t.lineTo(e+s,i+o),t.arc(e+s,i+o-s,s,90*r,180*r,!1),t.lineTo(e,i+s),t.arc(e+s,i+s,s,180*r,270*r,!1),t.closePath()}function Cn(t,e,i,n,o){const s=.5522848,r=n/2*s,g=o/2*s,A=e+n,a=i+o,C=e+n/2,I=i+o/2;t.beginPath(),t.moveTo(e,I),t.bezierCurveTo(e,I-g,C-r,i,C,i),t.bezierCurveTo(C+r,i,A,I-g,A,I),t.bezierCurveTo(A,I+g,C+r,a,C,a),t.bezierCurveTo(C-r,a,e,I+g,e,I),t.closePath()}function In(t,e,i,n,o){const s=o*(1/3),r=.5522848,g=n/2*r,A=s/2*r,a=e+n,C=i+s,I=e+n/2,l=i+s/2,h=i+(o-s/2),c=i+o;t.beginPath(),t.moveTo(a,l),t.bezierCurveTo(a,l+A,I+g,C,I,C),t.bezierCurveTo(I-g,C,e,l+A,e,l),t.bezierCurveTo(e,l-A,I-g,i,I,i),t.bezierCurveTo(I+g,i,a,l-A,a,l),t.lineTo(a,h),t.bezierCurveTo(a,h+A,I+g,c,I,c),t.bezierCurveTo(I-g,c,e,h+A,e,h),t.lineTo(e,l)}function ln(t,e,i,n,o,s){t.beginPath(),t.moveTo(e,i);const r=s.length,g=n-e,A=o-i,a=A/g;let C=Math.sqrt(g*g+A*A),I=0,l=!0,h=0,c=+s[0];for(;C>=.1;)c=+s[I++%r],c>C&&(c=C),h=Math.sqrt(c*c/(1+a*a)),h=g<0?-h:h,e+=h,i+=a*h,!0===l?t.lineTo(e,i):t.moveTo(e,i),C-=c,l=!l}const hn={circle:An,dashedLine:ln,database:In,diamond:function(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()},ellipse:Cn,ellipse_vis:Cn,hexagon:function(t,e,i,n){t.beginPath();const o=2*Math.PI/6;t.moveTo(e+n,i);for(let s=1;s<6;s++)t.lineTo(e+n*Math.cos(o*s),i+n*Math.sin(o*s));t.closePath()},roundRect:an,square:function(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()},star:function(t,e,i,n){t.beginPath(),i+=.1*(n*=.82);for(let o=0;o<10;o++){const s=o%2==0?1.3*n:.5*n;t.lineTo(e+s*Math.sin(2*o*Math.PI/10),i-s*Math.cos(2*o*Math.PI/10))}t.closePath()},triangle:function(t,e,i,n){t.beginPath(),i+=.275*(n*=1.15);const o=2*n,s=o/2,r=Math.sqrt(3)/6*o,g=Math.sqrt(o*o-s*s);t.moveTo(e,i-(g-r)),t.lineTo(e+s,i+r),t.lineTo(e-s,i+r),t.lineTo(e,i-(g-r)),t.closePath()},triangleDown:function(t,e,i,n){t.beginPath(),i-=.275*(n*=1.15);const o=2*n,s=o/2,r=Math.sqrt(3)/6*o,g=Math.sqrt(o*o-s*s);t.moveTo(e,i+(g-r)),t.lineTo(e+s,i-r),t.lineTo(e-s,i-r),t.lineTo(e,i+(g-r)),t.closePath()}};var cn,dn,un={exports:{}},pn=(cn||(cn=1,function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(un)),un.exports),fn=s(pn);function mn(){return mn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},mn.apply(this,arguments)}function vn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}dn="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var yn,wn=dn,xn=["","webkit","Moz","MS","ms","o"],En="undefined"==typeof document?{style:{}}:document.createElement("div"),kn=Math.round,Tn=Math.abs,Sn=Date.now;function On(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<xn.length;){if((n=(i=xn[s])?i+o:e)in t)return n;s++}}yn="undefined"==typeof window?{}:window;var Dn=On(En.style,"touchAction"),Nn=void 0!==Dn,Mn="compute",Rn="auto",Pn="manipulation",Ln="none",Bn="pan-x",Fn="pan-y",_n=function(){if(!Nn)return!1;var t={},e=yn.CSS&&yn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||yn.CSS.supports("touch-action",i)}),t}(),zn="ontouchstart"in yn,Vn=void 0!==On(yn,"PointerEvent"),Zn=zn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Wn="touch",Gn="mouse",jn=["x","y"],Hn=["clientX","clientY"];function Yn(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Un(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Kn(t,e){return t.indexOf(e)>-1}var Qn=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Mn&&(t=this.compute()),Nn&&this.manager.element.style&&_n[t]&&(this.manager.element.style[Dn]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Yn(this.manager.recognizers,function(e){Un(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(Kn(t,Ln))return Ln;var e=Kn(t,Bn),i=Kn(t,Fn);return e&&i?Ln:e||i?e?Bn:Fn:Kn(t,Pn)?Pn:Rn}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=Kn(n,Ln)&&!_n[Ln],s=Kn(n,Fn)&&!_n[Fn],r=Kn(n,Bn)&&!_n[Bn];if(o){var g=1===t.pointers.length,A=t.distance<2,a=t.deltaTime<250;if(g&&A&&a)return}if(!r||!s)return o||s&&6&i||r&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Xn(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function qn(t){var e=t.length;if(1===e)return{x:kn(t[0].clientX),y:kn(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:kn(i/e),y:kn(n/e)}}function Jn(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:kn(t.pointers[i].clientX),clientY:kn(t.pointers[i].clientY)},i++;return{timeStamp:Sn(),pointers:e,center:qn(e),deltaX:t.deltaX,deltaY:t.deltaY}}function $n(t,e,i){i||(i=jn);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function to(t,e,i){i||(i=jn);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function eo(t,e){return t===e?1:Tn(t)>=Tn(e)?t<0?2:4:e<0?8:16}function io(t,e,i){return{x:e/t||0,y:i/t||0}}function no(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=1&e&&n-o===0,r=12&e&&n-o===0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=Jn(e)),o>1&&!i.firstMultiple?i.firstMultiple=Jn(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,g=r?r.center:s.center,A=e.center=qn(n);e.timeStamp=Sn(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=to(g,A),e.distance=$n(g,A),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=eo(e.deltaX,e.deltaY);var a,C,I=io(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=I.x,e.overallVelocityY=I.y,e.overallVelocity=Tn(I.x)>Tn(I.y)?I.x:I.y,e.scale=r?(a=r.pointers,$n((C=n)[0],C[1],Hn)/$n(a[0],a[1],Hn)):1,e.rotation=r?function(t,e){return to(e[1],e[0],Hn)+to(t[1],t[0],Hn)}(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,s,r=t.lastInterval||e,g=e.timeStamp-r.timeStamp;if(8!==e.eventType&&(g>25||void 0===r.velocity)){var A=e.deltaX-r.deltaX,a=e.deltaY-r.deltaY,C=io(g,A,a);n=C.x,o=C.y,i=Tn(C.x)>Tn(C.y)?C.x:C.y,s=eo(A,a),t.lastInterval=e}else i=r.velocity,n=r.velocityX,o=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}(i,e);var l,h=t.element,c=e.srcEvent;Xn(l=c.composedPath?c.composedPath()[0]:c.path?c.path[0]:c.target,h)&&(h=l),e.target=h}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function oo(t){return t.trim().split(/\s+/g)}function so(t,e,i){Yn(oo(e),function(e){t.addEventListener(e,i,!1)})}function ro(t,e,i){Yn(oo(e),function(e){t.removeEventListener(e,i,!1)})}function go(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ao=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Un(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&so(this.element,this.evEl,this.domHandler),this.evTarget&&so(this.target,this.evTarget,this.domHandler),this.evWin&&so(go(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ro(this.element,this.evEl,this.domHandler),this.evTarget&&ro(this.target,this.evTarget,this.domHandler),this.evWin&&ro(go(this.element),this.evWin,this.domHandler)},t}();function ao(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var Co={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Io={2:Wn,3:"pen",4:Gn,5:"kinect"},lo="pointerdown",ho="pointermove pointerup pointercancel";yn.MSPointerEvent&&!yn.PointerEvent&&(lo="MSPointerDown",ho="MSPointerMove MSPointerUp MSPointerCancel");var co=function(t){function e(){var i,n=e.prototype;return n.evEl=lo,n.evWin=ho,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return vn(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Co[n],s=Io[t.pointerType]||t.pointerType,r=s===Wn,g=ao(e,t.pointerId,"pointerId");1&o&&(0===t.button||r)?g<0&&(e.push(t),g=e.length-1):12&o&&(i=!0),g<0||(e[g]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(g,1))},e}(Ao);function uo(t){return Array.prototype.slice.call(t,0)}function po(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];ao(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var fo={touchstart:1,touchmove:2,touchend:4,touchcancel:8},mo=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return vn(e,t),e.prototype.handler=function(t){var e=fo[t.type],i=vo.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Wn,srcEvent:t})},e}(Ao);function vo(t,e){var i,n,o=uo(t.touches),s=this.targetIds;if(3&e&&1===o.length)return s[o[0].identifier]=!0,[o,o];var r=uo(t.changedTouches),g=[],A=this.target;if(n=o.filter(function(t){return Xn(t.target,A)}),1===e)for(i=0;i<n.length;)s[n[i].identifier]=!0,i++;for(i=0;i<r.length;)s[r[i].identifier]&&g.push(r[i]),12&e&&delete s[r[i].identifier],i++;return g.length?[po(n.concat(g),"identifier",!0),g]:void 0}var bo={mousedown:1,mousemove:2,mouseup:4},yo=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return vn(e,t),e.prototype.handler=function(t){var e=bo[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Gn,srcEvent:t}))},e}(Ao);function wo(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},2500)}}function xo(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,wo.call(this,e)):12&t&&wo.call(this,e)}function Eo(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),r=Math.abs(i-o.y);if(s<=25&&r<=25)return!0}return!1}var ko=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var o=i.pointerType===Wn,s=i.pointerType===Gn;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)xo.call(bn(bn(n)),e,i);else if(s&&Eo.call(bn(bn(n)),i))return;n.callback(t,e,i)}},n.touch=new mo(n.manager,n.handler),n.mouse=new yo(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return vn(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Ao)}();function To(t,e,i){return!!Array.isArray(t)&&(Yn(t,i[e],i),!0)}var So=32,Oo=1;function Do(t,e){var i=e.manager;return i?i.get(t):t}function No(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Mo=function(){function t(t){void 0===t&&(t={}),this.options=mn({enable:!0},t),this.id=Oo++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return wn(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(To(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Do(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return To(t,"dropRecognizeWith",this)||(t=Do(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(To(t,"requireFailure",this))return this;var e=this.requireFail;return-1===ao(e,t=Do(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(To(t,"dropRequireFailure",this))return this;t=Do(t,this);var e=ao(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+No(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+No(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=So},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=wn({},t);if(!Un(this.options.enable,[this,e]))return this.reset(),void(this.state=So);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Ro=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,mn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Pn]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,s=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(o&&s&&n){if(4!==t.eventType)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<i.interval,g=!this.pCenter||$n(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,g&&r?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return So},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=So},this.options.interval),So},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Mo),Po=function(t){function e(e){return void 0===e&&(e={}),t.call(this,mn({pointers:1},e))||this}vn(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,o=this.attrTest(t);return n&&(8&i||!o)?16|e:n||o?4&i?8|e:2&e?4|e:2:So},e}(Mo);function Lo(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var Bo=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,mn({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Fn),24&t&&e.push(Bn),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(6&e.direction?(o=0===s?1:s<0?2:4,i=s!==this.pX,n=Math.abs(t.deltaX)):(o=0===r?1:r<0?8:16,i=r!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return Po.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Lo(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Po),Fo=function(t){function e(e){return void 0===e&&(e={}),t.call(this,mn({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){return Bo.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Tn(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=Lo(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Po),_o=function(t){function e(e){return void 0===e&&(e={}),t.call(this,mn({event:"pinch",threshold:0,pointers:2},e))||this}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Ln]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Po),zo=function(t){function e(e){return void 0===e&&(e={}),t.call(this,mn({event:"rotate",threshold:0,pointers:2},e))||this}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Ln]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Po),Vo=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,mn({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}vn(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Rn]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,s=t.deltaTime>i.time;if(this._input=t,!o||!n||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(4&t.eventType)return 8;return So},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Sn(),this.manager.emit(this.options.event,this._input)))},e}(Mo),Zo={domEvents:!1,touchAction:Mn,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Wo=[[zo,{enable:!1}],[_o,{enable:!1},["rotate"]],[Fo,{direction:6}],[Bo,{direction:6},["swipe"]],[Ro],[Ro,{event:"doubletap",taps:2},["tap"]],[Vo]];function Go(t,e){var i,n=t.element;n.style&&(Yn(t.options.cssProps,function(o,s){i=On(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var jo=function(){function t(t,e){var i=this;this.options=wn({},Zo,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(Vn?co:Zn?mo:zn?ko:yo))(this,no),this.touchAction=new Qn(this,this.options.touchAction),Go(this,!0),Yn(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return wn(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(e.curRecognizer=i,o=i),s++}},e.get=function(t){if(t instanceof Mo)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(To(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(To(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=ao(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Yn(oo(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Yn(oo(t),function(t){e?i[t]&&i[t].splice(ao(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&Go(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Ho={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Yo=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return vn(e,t),e.prototype.handler=function(t){var e=Ho[t.type];if(1===e&&(this.started=!0),this.started){var i=Uo.call(this,t,e);12&e&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Wn,srcEvent:t})}},e}(Ao);function Uo(t,e){var i=uo(t.touches),n=uo(t.changedTouches);return 12&e&&(i=po(i.concat(n),"identifier",!0)),[i,n]}function Ko(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var Qo=Ko(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),Xo=Ko(function(t,e){return Qo(t,e,!0)},"merge","Use `assign`.");function qo(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&wn(n,i)}function Jo(t,e){return function(){return t.apply(e,arguments)}}var $o=function(){var t=function(t,e){return void 0===e&&(e={}),new jo(t,mn({recognizers:Wo.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=So,t.Manager=jo,t.Input=Ao,t.TouchAction=Qn,t.TouchInput=mo,t.MouseInput=yo,t.PointerEventInput=co,t.TouchMouseInput=ko,t.SingleTouchInput=Yo,t.Recognizer=Mo,t.AttrRecognizer=Po,t.Tap=Ro,t.Pan=Bo,t.Swipe=Fo,t.Pinch=_o,t.Rotate=zo,t.Press=Vo,t.on=so,t.off=ro,t.each=Yn,t.merge=Xo,t.extend=Qo,t.bindFn=Jo,t.assign=wn,t.inherit=qo,t.bindFn=Jo,t.prefixed=On,t.toArray=uo,t.inArray=ao,t.uniqueArray=po,t.splitStr=oo,t.boolOrFn=Un,t.hasParent=Xn,t.addEventListeners=so,t.removeEventListeners=ro,t.defaults=wn({},Zo,{preset:Wo}),t}();$o.defaults;const ts=Symbol("DELETE");function es(...t){const e=is(...t);return os(e),e}function is(...t){if(t.length<2)return t[0];if(t.length>2)return is(es(t[0],t[1]),...t.slice(2));const e=t[0],i=t[1];if(e instanceof Date&&i instanceof Date)return e.setTime(i.getTime()),e;for(const t of Reflect.ownKeys(i))Object.prototype.propertyIsEnumerable.call(i,t)&&(i[t]===ts?delete e[t]:null===e[t]||null===i[t]||"object"!=typeof e[t]||"object"!=typeof i[t]||Array.isArray(e[t])||Array.isArray(i[t])?e[t]=ns(i[t]):e[t]=is(e[t],i[t]));return e}function ns(t){return Array.isArray(t)?t.map(t=>ns(t)):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):is({},t):t}function os(t){for(const e of Object.keys(t))t[e]===ts?delete t[e]:"object"==typeof t[e]&&null!==t[e]&&os(t[e])}function ss(...t){return function(t){let[e,i,n]=function(...t){const e=function(){let t=4022871197;return function(e){const i=e.toString();for(let e=0;e<i.length;e++){t+=i.charCodeAt(e);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return 2.3283064365386963e-10*(t>>>0)}}();let i=e(" "),n=e(" "),o=e(" ");for(let s=0;s<t.length;s++)i-=e(t[s]),i<0&&(i+=1),n-=e(t[s]),n<0&&(n+=1),o-=e(t[s]),o<0&&(o+=1);return[i,n,o]}(t),o=1;const s=()=>{const t=2091639*e+2.3283064365386963e-10*o;return e=i,i=n,n=t-(o=0|t)};return s.uint32=()=>4294967296*s(),s.fract53=()=>s()+11102230246251565e-32*(2097152*s()|0),s.algorithm="Alea",s.seed=t,s.version="0.9",s}(t.length?t:[Date.now()])}const rs="undefined"!=typeof window?window.Hammer||$o:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function gs(t){this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=rs(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(t=>{e.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}fn(gs.prototype),gs.current=null,gs.prototype.destroy=function(){this.deactivate();for(const t of this._cleanupQueue.splice(0).reverse())t()},gs.prototype.activate=function(){gs.current&&gs.current.deactivate(),gs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},gs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},gs.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const As=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,as=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cs=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Is=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ls(t){if(t)for(;!0===t.hasChildNodes();){const e=t.firstChild;e&&(ls(e),t.removeChild(e))}}function hs(t){return t instanceof String||"string"==typeof t}function cs(t){return"object"==typeof t&&null!==t}function ds(t,e,i,n){let o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}function us(t,e,i=!1){for(const n in t)if(void 0!==e[n])if(null===e[n]||"object"!=typeof e[n])ds(t,e,n,i);else{const o=t[n],s=e[n];cs(o)&&cs(s)&&us(o,s,i)}}function ps(t,e,i,n=!1){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const s=t[o];if(Object.prototype.hasOwnProperty.call(i,s))if(i[s]&&i[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?ms(e[s],i[s],!1,n):ds(e,i,s,n);else{if(Array.isArray(i[s]))throw new TypeError("Arrays are not supported by deepExtend");ds(e,i,s,n)}}return e}function fs(t,e,i,n=!1){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&!t.includes(o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?ms(e[o],i[o]):ds(e,i,o,n);else if(Array.isArray(i[o])){e[o]=[];for(let t=0;t<i[o].length;t++)e[o].push(i[o][t])}else ds(e,i,o,n);return e}function ms(t,e,i=!1,n=!1){for(const o in e)(Object.prototype.hasOwnProperty.call(e,o)||!0===i)&&("object"==typeof e[o]&&null!==e[o]&&Object.getPrototypeOf(e[o])===Object.prototype?void 0===t[o]?t[o]=ms({},e[o],i):"object"==typeof t[o]&&null!==t[o]&&Object.getPrototypeOf(t[o])===Object.prototype?ms(t[o],e[o],i):ds(t,e,o,n):Array.isArray(e[o])?t[o]=e[o].slice():ds(t,e,o,n));return t}function vs(t,e){return[...t,e]}function bs(t){return t.slice()}function ys(t){return t.getBoundingClientRect().top}function ws(t,e){if(Array.isArray(t)){const i=t.length;for(let n=0;n<i;n++)e(t[n],n,t)}else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function xs(t){let e;switch(t.length){case 3:case 4:return e=as.exec(t),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=As.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function Es(t,e){if(t.includes("rgba"))return t;if(t.includes("rgb")){const i=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}{const i=xs(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}}function ks(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}function Ts(t,e){if(hs(t)){let e=t;if(Ms(e)){const t=e.substr(4).substr(0,e.length-5).split(",").map(function(t){return parseInt(t)});e=ks(t[0],t[1],t[2])}if(!0===Ns(e)){const t=function(t){const e=xs(t);if(!e)throw new TypeError(`'${t}' is not a valid color.`);return Ss(e.r,e.g,e.b)}(e),i={h:t.h,s:.8*t.s,v:Math.min(1,1.02*t.v)},n={h:t.h,s:Math.min(1,1.25*t.s),v:.8*t.v},o=Ds(n.h,n.s,n.v),s=Ds(i.h,i.s,i.v);return{background:e,border:o,highlight:{background:s,border:o},hover:{background:s,border:o}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}return{background:t.background||void 0,border:t.border||void 0,highlight:hs(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:hs(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Ss(t,e,i){t/=255,e/=255,i/=255;const n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n===o?{h:0,s:0,v:n}:{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}}function Os(t,e,i){let n,o,s;const r=Math.floor(6*t),g=6*t-r,A=i*(1-e),a=i*(1-g*e),C=i*(1-(1-g)*e);switch(r%6){case 0:n=i,o=C,s=A;break;case 1:n=a,o=i,s=A;break;case 2:n=A,o=i,s=C;break;case 3:n=A,o=a,s=i;break;case 4:n=C,o=A,s=i;break;case 5:n=i,o=A,s=a}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*s)}}function Ds(t,e,i){const n=Os(t,e,i);return ks(n.r,n.g,n.b)}function Ns(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Ms(t){return Cs.test(t)}function Rs(t){if(null===t||"object"!=typeof t)return null;if(t instanceof Element)return t;const e=Object.create(t);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==typeof t[i]&&(e[i]=Rs(t[i]));return e}function Ps(t,e,i,n={}){const o=function(t){return null!=t},s=function(t){return null!==t&&"object"==typeof t};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const r=e[i],g=s(n)&&!function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)?n[i]:void 0,A=g?g.enabled:void 0;if(void 0===r)return;if("boolean"==typeof r)return s(t[i])||(t[i]={}),void(t[i].enabled=r);if(null===r&&!s(t[i])){if(!o(g))return;t[i]=Object.create(g)}if(!s(r))return;let a=!0;void 0!==r.enabled?a=r.enabled:void 0!==A&&(a=g.enabled),function(t,e,i){s(t[i])||(t[i]={});const n=e[i],o=t[i];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t])}(t,e,i),t[i].enabled=a}const Ls={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};function Bs(t,e){let i;Array.isArray(e)||(e=[e]);for(const n of t)if(n){i=n[e[0]];for(let t=1;t<e.length;t++)i&&(i=i[e[t]]);if(void 0!==i)break}return i}const Fs={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let _s=class{constructor(t=1){this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"==typeof t)return Fs[t]}setColor(t,e=!0){if("none"===t)return;let i;const n=this._isColorString(t);if(void 0!==n&&(t=n),!0===hs(t)){if(!0===Ms(t)){const e=t.substr(4).substr(0,t.length-5).split(",");i={r:e[0],g:e[1],b:e[2],a:1}}else if(!0===function(t){return Is.test(t)}(t)){const e=t.substr(5).substr(0,t.length-6).split(",");i={r:e[0],g:e[1],b:e[2],a:e[3]}}else if(!0===Ns(t)){const e=xs(t);i={r:e.r,g:e.g,b:e.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){const e=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:e}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(t=!0){!0===t&&(this.previousColor=Object.assign({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t,e=!0){!0===e&&(this.initialColor=Object.assign({},t)),this.color=t;const i=Ss(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(n*i.h),r=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){const e=Ss(this.color.r,this.color.g,this.color.b);e.v=t/100;const i=Os(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(t=this.color){const e=Ss(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const t=this;this.opacityRange.onchange=function(){t._setOpacity(this.value)},this.opacityRange.oninput=function(){t._setOpacity(this.value)},this.brightnessRange.onchange=function(){t._setBrightness(this.value)},this.brightnessRange.oninput=function(){t._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new rs(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",t=>{t.isFirst&&this._moveSelector(t)}),this.hammer.on("tap",t=>{this._moveSelector(t)}),this.hammer.on("panstart",t=>{this._moveSelector(t)}),this.hammer.on("panmove",t=>{this._moveSelector(t)}),this.hammer.on("panend",t=>{this._moveSelector(t)})}_generateHueCircle(){if(!1===this.generated){const t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;let n,o,s,r;t.clearRect(0,0,e,i),this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;const g=2*Math.PI/360,A=1/360,a=1/this.r;let C;for(s=0;s<360;s++)for(r=0;r<this.r;r++)n=this.centerCoordinates.x+r*Math.sin(g*s),o=this.centerCoordinates.y+r*Math.cos(g*s),C=Os(s*A,r*a,1),t.fillStyle="rgb("+C.r+","+C.g+","+C.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}_moveSelector(t){const e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,r=i-s,g=n-o,A=Math.atan2(r,g),a=.98*Math.min(Math.sqrt(r*r+g*g),s),C=Math.cos(A)*a+o,I=Math.sin(A)*a+s;this.colorPickerSelector.style.top=C-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=I-.5*this.colorPickerSelector.clientWidth+"px";let l=A/(2*Math.PI);l=l<0?l+1:l;const h=a/this.r,c=Ss(this.color.r,this.color.g,this.color.b);c.h=l,c.s=h;const d=Os(c.h,c.s,c.v);d.a=this.color.a,this.color=d,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function zs(...t){if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);{const e=document.createElement(t[0]);return e.appendChild(zs(...t.slice(1))),e}}let Vs,Zs=!1;const Ws="background: #FFeeee; color: #dd0000",Gs=gs,js=class{constructor(t,e,i,n=1,o=()=>!1){this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new _s(n),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Array.isArray(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const t=this.options.filter;let e=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?(i=t(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):!0!==t&&-1===t.indexOf(n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t,...e){if(!0===this.allowCreation){const i=document.createElement("div");return i.className="vis-configuration vis-config-item vis-config-s"+t.length,e.forEach(t=>{i.appendChild(t)}),this.domElements.push(i),this.domElements.length}return 0}_makeHeader(t){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e,i=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(zs("i","b",t))}else n.innerText=t+":";return n}_makeDropdown(t,e,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(let e=0;e<t.length;e++){const i=document.createElement("option");i.value=t[e],e===o&&(i.selected="selected"),i.innerText=t[e],n.appendChild(i)}const s=this;n.onchange=function(){s._update(this.value,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeRange(t,e,i){const n=t[0],o=t[1],s=t[2],r=t[3],g=document.createElement("input");g.className="vis-configuration vis-config-range";try{g.type="range",g.min=o,g.max=s}catch(t){}g.step=r;let A="",a=0;if(void 0!==e){const t=1.2;e<0&&e*t<o?(g.min=Math.ceil(e*t),a=g.min,A="range increased"):e/t<o&&(g.min=Math.ceil(e/t),a=g.min,A="range increased"),e*t>s&&1!==s&&(g.max=Math.ceil(e*t),a=g.max,A="range increased"),g.value=e}else g.value=n;const C=document.createElement("input");C.className="vis-configuration vis-config-rangeinput",C.value=g.value;const I=this;g.onchange=function(){C.value=this.value,I._update(Number(this.value),i)},g.oninput=function(){C.value=this.value};const l=this._makeLabel(i[i.length-1],i),h=this._makeItem(i,l,g,C);""!==A&&this.popupHistory[h]!==a&&(this.popupHistory[h]=a,this._setupPopup(A,h))}_makeButton(){if(!0===this.options.showButton){const t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(t,e,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));const o=this;n.onchange=function(){o._update(this.checked,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeTextInput(t,e,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});const o=this;n.onchange=function(){o._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeColorField(t,e,i){const n=t[1],o=document.createElement("div");"none"!==(e=void 0===e?n:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,o.onclick=()=>{this._showColorPicker(e,o,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(t=>{const n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,this._update(n,i)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}})}_handleObject(t,e=[],i=!1){let n=!1;const o=this.options.filter;let s=!1;for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){n=!0;const g=t[r],A=vs(e,r);if("function"==typeof o&&(n=o(r,e),!1===n&&!Array.isArray(g)&&"string"!=typeof g&&"boolean"!=typeof g&&g instanceof Object&&(this.allowCreation=!1,n=this._handleObject(g,A,!0),this.allowCreation=!1===i)),!1!==n){s=!0;const t=this._getValue(A);if(Array.isArray(g))this._handleArray(g,t,A);else if("string"==typeof g)this._makeTextInput(g,t,A);else if("boolean"==typeof g)this._makeCheckbox(g,t,A);else if(g instanceof Object){if(!this.hideOption(e,r,this.moduleOptions))if(void 0!==g.enabled){const t=vs(A,"enabled"),e=this._getValue(t);if(!0===e){const t=this._makeLabel(r,A,!0);this._makeItem(A,t),s=this._handleObject(g,A)||s}else this._makeCheckbox(g,e,A)}else{const t=this._makeLabel(r,A,!0);this._makeItem(A,t),s=this._handleObject(g,A)||s}}else console.error("dont know how to handle",g,r,A)}}return s}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){const i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e,i={}){let n=i;t="false"!==(t="true"===t||t)&&t;for(let i=0;i<e.length;i++)"global"!==e[i]&&(void 0===n[e[i]]&&(n[e[i]]={}),i!==e.length-1?n=n[e[i]]:n[e[i]]=t);return i}_printOptions(){const t=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(zs("pre","const options = "+JSON.stringify(t,null,2)))}getOptions(){const t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}},Hs=rs,Ys=class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=parseInt(t),this.y=parseInt(e)}setText(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){const t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth;let o=0,s=0;if("flip"==this.overflowMethod){let i=!1,r=!0;this.y-t<this.padding&&(r=!1),this.x+e>n-this.padding&&(i=!0),o=i?this.x-e:this.x,s=r?this.y-t:this.y}else s=this.y-t,s+t+this.padding>i&&(s=i-t-this.padding),s<this.padding&&(s=this.padding),o=this.x,o+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Us=Ws,Ks=class t{static validate(e,i,n){Zs=!1,Vs=i;let o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),Zs}static parse(e,i,n){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.check(o,e,i,n)}static check(e,i,n,o){if(void 0===n[e]&&void 0===n.__any__)return void t.getSuggestion(e,n,o);let s=e,r=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",r="object"===t.getType(i[e]));let g=n[s];r&&void 0!==g.__type__&&(g=g.__type__),t.checkFields(e,i,n,s,g,o)}static checkFields(e,i,n,o,s,r){const g=function(i){console.error("%c"+i+t.printLocation(r,e),Ws)},A=t.getType(i[e]),a=s[A];void 0!==a?"array"===t.getType(a)&&-1===a.indexOf(i[e])?(g('Invalid option detected in "'+e+'". Allowed values are:'+t.print(a)+' not "'+i[e]+'". '),Zs=!0):"object"===A&&"__any__"!==o&&(r=vs(r,e),t.parse(i[e],n[o],r)):void 0===s.any&&(g('Invalid type received for "'+e+'". Expected: '+t.print(Object.keys(s))+". Received ["+A+'] "'+i[e]+'"'),Zs=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,i,n){const o=t.findInOptions(e,i,n,!1),s=t.findInOptions(e,Vs,[],!0);let r;r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Object.keys(i))+t.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+r,Ws),Zs=!0}static findInOptions(e,i,n,o=!1){let s=1e9,r="",g=[];const A=e.toLowerCase();let a;for(const C in i){let I;if(void 0!==i[C].__type__&&!0===o){const o=t.findInOptions(e,i[C],vs(n,C));s>o.distance&&(r=o.closestMatch,g=o.path,s=o.distance,a=o.indexMatch)}else-1!==C.toLowerCase().indexOf(A)&&(a=C),I=t.levenshteinDistance(e,C),s>I&&(r=C,g=bs(n),s=I)}return{closestMatch:r,path:g,distance:s,indexMatch:a}}static printLocation(t,e,i="Problem value found at: \n"){let n="\n\n"+i+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return JSON.stringify(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let n,o;for(n=0;n<=e.length;n++)i[n]=[n];for(o=0;o<=t.length;o++)i[0][o]=o;for(n=1;n<=e.length;n++)for(o=1;o<=t.length;o++)e.charAt(n-1)==t.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[e.length][t.length]}};var Qs,Xs,qs,Js,$s,tr,er,ir,nr,or,sr,rr,gr,Ar,ar={};function Cr(){if(Qs)return ar;Qs=1;var t=B(),e=gi(),i=ai(),n=Ai(),o=Tt(),s=bi();return ar.f=t&&!e?Object.defineProperties:function(t,e){n(t);for(var r,g=o(e),A=s(e),a=A.length,C=0;a>C;)i.f(t,r=A[C++],g[r]);return t},ar}function Ir(){return qs?Xs:(qs=1,Xs=Dt()("document","documentElement"))}function lr(){if($s)return Js;$s=1;var t=me(),e=ye(),i=t("keys");return Js=function(t){return i[t]||(i[t]=e(t))}}function hr(){if(er)return tr;er=1;var t,e=Ai(),i=Cr(),n=vi(),o=fi(),s=Ir(),r=ke(),g="prototype",A="script",a=lr()("IE_PROTO"),C=function(){},I=function(t){return"<"+A+">"+t+"</"+A+">"},l=function(t){t.write(I("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,i,o;h="undefined"!=typeof document?document.domain&&t?l(t):(i=r("iframe"),o="java"+A+":",i.style.display="none",s.appendChild(i),i.src=String(o),(e=i.contentWindow.document).open(),e.write(I("document.F=Object")),e.close(),e.F):l(t);for(var a=n.length;a--;)delete h[g][n[a]];return h()};return o[a]=!0,tr=Object.create||function(t,n){var o;return null!==t?(C[g]=e(t),o=new C,C[g]=null,o[a]=t):o=h(),void 0===n?o:i.f(o,n)}}function cr(){if(or)return nr;or=1,ir||(ir=1,Ii()({target:"Object",stat:!0,sham:!B()},{create:hr()}));var t=Ot().Object;return nr=function(e,i){return t.create(e,i)}}function dr(){return rr?sr:(rr=1,sr=cr())}var ur,pr,fr,mr,vr,br,yr,wr,xr,Er,kr,Tr=s(Ar?gr:(Ar=1,gr=dr())),Sr={};function Or(){if(pr)return ur;pr=1;var t=x();return ur=function(e,i){var n=[][e];return!!n&&t(function(){n.call(null,i||function(){return 1},1)})}}function Dr(){return vr?mr:(vr=1,function(){if(fr)return Sr;fr=1;var t=Ii(),e=O(),i=pi().indexOf,n=Or(),o=e([].indexOf),s=!!o&&1/o([1],1,-0)<0;t({target:"Array",proto:!0,forced:s||!n("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return s?o(this,t,e)||0:i(this,t,e)}})}(),mr=nn()("Array","indexOf"))}function Nr(){if(yr)return br;yr=1;var t=Nt(),e=Dr(),i=Array.prototype;return br=function(n){var o=n.indexOf;return n===i||t(i,n)&&o===i.indexOf?e:o}}function Mr(){return xr?wr:(xr=1,wr=Nr())}var Rr,Pr,Lr,Br,Fr,_r=s(kr?Er:(kr=1,Er=Mr())),zr={};function Vr(){return Pr?Rr:(Pr=1,Rr=function(){})}function Zr(){return Fr?Br:(Fr=1,function(){if(Lr)return zr;Lr=1;var t=Ii(),e=pi().includes,i=x(),n=Vr();t({target:"Array",proto:!0,forced:i(function(){return!Array(1).includes()})},{includes:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}(),Br=nn()("Array","includes"))}var Wr,Gr,jr,Hr,Yr,Ur,Kr,Qr,Xr,qr,Jr,$r,tg,eg,ig,ng,og,sg,rg,gg,Ag,ag={};function Cg(){if(Gr)return Wr;Gr=1;var t=St(),e=S(),i=we()("match");return Wr=function(n){var o;return t(n)&&(void 0!==(o=n[i])?!!o:"RegExp"===e(n))}}function Ig(){if(Hr)return jr;Hr=1;var t=Cg(),e=TypeError;return jr=function(i){if(t(i))throw new e("The method doesn't accept regular expressions");return i}}function lg(){if(Ur)return Yr;Ur=1;var t={};return t[we()("toStringTag")]="z",Yr="[object z]"===String(t)}function hg(){if(Qr)return Kr;Qr=1;var t=lg(),e=D(),i=S(),n=we()("toStringTag"),o=Object,s="Arguments"===i(function(){return arguments}());return Kr=t?i:function(t){var r,g,A;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(g=function(t,e){try{return t[e]}catch(t){}}(r=o(t),n))?g:s?i(r):"Object"===(A=i(r))&&e(r.callee)?"Arguments":A}}function cg(){if(qr)return Xr;qr=1;var t=hg(),e=String;return Xr=function(i){if("Symbol"===t(i))throw new TypeError("Cannot convert a Symbol value to a string");return e(i)}}function dg(){if($r)return Jr;$r=1;var t=we()("match");return Jr=function(e){var i=/./;try{"/./"[e](i)}catch(n){try{return i[t]=!1,"/./"[e](i)}catch(t){}}return!1}}function ug(){return ig?eg:(ig=1,function(){if(tg)return ag;tg=1;var t=Ii(),e=T(),i=Ig(),n=kt(),o=cg(),s=dg(),r=e("".indexOf);t({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~r(o(n(this)),o(i(t)),arguments.length>1?arguments[1]:void 0)}})}(),eg=nn()("String","includes"))}function pg(){if(og)return ng;og=1;var t=Nt(),e=Zr(),i=ug(),n=Array.prototype,o=String.prototype;return ng=function(s){var r=s.includes;return s===n||t(n,s)&&r===n.includes?e:"string"==typeof s||s===o||t(o,s)&&r===o.includes?i:r}}function fg(){return rg?sg:(rg=1,sg=pg())}var mg,vg,bg,yg,wg,xg,Eg,kg,Tg,Sg,Og,Dg,Ng,Mg,Rg,Pg,Lg,Bg,Fg,_g,zg,Vg,Zg,Wg,Gg,jg,Hg,Yg,Ug,Kg=s(Ag?gg:(Ag=1,gg=fg())),Qg={};function Xg(){if(vg)return mg;vg=1;var t=S();return mg=Array.isArray||function(e){return"Array"===t(e)}}function qg(){if(yg)return bg;yg=1;var t=B(),e=Xg(),i=TypeError,n=Object.getOwnPropertyDescriptor,o=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return bg=o?function(t,o){if(e(t)&&!n(t,"length").writable)throw new i("Cannot set read only .length");return t.length=o}:function(t,e){return t.length=e}}function Jg(){if(xg)return wg;xg=1;var t=TypeError;return wg=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}}function $g(){if(kg)return Eg;kg=1;var t=T(),e=D(),i=fe(),n=t(Function.toString);return e(i.inspectSource)||(i.inspectSource=function(t){return n(t)}),Eg=i.inspectSource}function tA(){if(Sg)return Tg;Sg=1;var t=T(),e=x(),i=D(),n=hg(),o=Dt(),s=$g(),r=function(){},g=o("Reflect","construct"),A=/^\s*(?:class|function)\b/,a=t(A.exec),C=!A.test(r),I=function(t){if(!i(t))return!1;try{return g(r,[],t),!0}catch(t){return!1}},l=function(t){if(!i(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!a(A,s(t))}catch(t){return!0}};return l.sham=!0,Tg=!g||e(function(){var t;return I(I.call)||!I(Object)||!I(function(){t=!0})||t})?l:I}function eA(){if(Dg)return Og;Dg=1;var t=Xg(),e=tA(),i=St(),n=we()("species"),o=Array;return Og=function(s){var r;return t(s)&&(r=s.constructor,(e(r)&&(r===o||t(r.prototype))||i(r)&&null===(r=r[n]))&&(r=void 0)),void 0===r?o:r}}function iA(){if(Mg)return Ng;Mg=1;var t=eA();return Ng=function(e,i){return new(t(e))(0===i?0:i)}}function nA(){if(Pg)return Rg;Pg=1;var t=B(),e=ai(),i=wt();return Rg=function(n,o,s){t?e.f(n,o,i(0,s)):n[o]=s},Rg}function oA(){if(Bg)return Lg;Bg=1;var t=Ft(),e=TypeError;return Lg=function(i,n){if(!delete i[n])throw new e("Cannot delete property "+t(n)+" of "+t(i))}}function sA(){if(_g)return Fg;_g=1;var t=x(),e=we(),i=Rt(),n=e("species");return Fg=function(e){return i>=51||!t(function(){var t=[];return(t.constructor={})[n]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Fg}function rA(){return Zg?Vg:(Zg=1,function(){if(zg)return Qg;zg=1;var t=Ii(),e=ve(),i=ci(),n=hi(),o=ui(),s=qg(),r=Jg(),g=iA(),A=nA(),a=oA(),C=sA()("splice"),I=Math.max,l=Math.min;t({target:"Array",proto:!0,forced:!C},{splice:function(t,C){var h,c,d,u,p,f,m=e(this),v=o(m),b=i(t,v),y=arguments.length;for(0===y?h=c=0:1===y?(h=0,c=v-b):(h=y-2,c=l(I(n(C),0),v-b)),r(v+h-c),d=g(m,c),u=0;u<c;u++)(p=b+u)in m&&A(d,u,m[p]);if(d.length=c,h<c){for(u=b;u<v-c;u++)f=u+h,(p=u+c)in m?m[f]=m[p]:a(m,f);for(u=v;u>v-c+h;u--)a(m,u-1)}else if(h>c)for(u=v-c;u>b;u--)f=u+h-1,(p=u+c-1)in m?m[f]=m[p]:a(m,f);for(u=0;u<h;u++)m[u+b]=arguments[u+2];return s(m,v-c+h),d}})}(),Vg=nn()("Array","splice"))}function gA(){if(Gg)return Wg;Gg=1;var t=Nt(),e=rA(),i=Array.prototype;return Wg=function(n){var o=n.splice;return n===i||t(i,n)&&o===i.splice?e:o}}function AA(){return Hg?jg:(Hg=1,jg=gA())}var aA,CA,IA,lA,hA,cA,dA,uA=s(Ug?Yg:(Ug=1,Yg=AA()));function pA(){return IA?CA:(IA=1,aA||(aA=1,Ii()({target:"Array",stat:!0},{isArray:Xg()})),CA=Ot().Array.isArray)}function fA(){return hA?lA:(hA=1,lA=pA())}var mA,vA,bA,yA,wA,xA,EA,kA,TA,SA,OA,DA,NA,MA=s(dA?cA:(dA=1,cA=fA())),RA={};function PA(){if(vA)return mA;vA=1;var t=De(),e=T(),i=xt(),n=ve(),o=ui(),s=iA(),r=e([].push),g=function(e){var g=1===e,A=2===e,a=3===e,C=4===e,I=6===e,l=7===e,h=5===e||I;return function(c,d,u,p){for(var f,m,v=n(c),b=i(v),y=o(b),w=t(d,u),x=0,E=p||s,k=g?E(c,y):A||l?E(c,0):void 0;y>x;x++)if((h||x in b)&&(m=w(f=b[x],x,v),e))if(g)k[x]=m;else if(m)switch(e){case 3:return!0;case 5:return f;case 6:return x;case 2:r(k,f)}else switch(e){case 4:return!1;case 7:r(k,f)}return I?-1:a||C?C:k}};return mA={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}}function LA(){if(yA)return bA;yA=1;var t=PA().forEach,e=Or()("forEach");return bA=e?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)},bA}function BA(){return EA?xA:(EA=1,function(){if(wA)return RA;wA=1;var t=Ii(),e=LA();t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e})}(),xA=nn()("Array","forEach"))}function FA(){return TA?kA:(TA=1,kA=BA())}function _A(){if(OA)return SA;OA=1;var t=hg(),e=be(),i=Nt(),n=FA(),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return SA=function(r){var g=r.forEach;return r===o||i(o,r)&&g===o.forEach||e(s,t(r))?n:g}}var zA=s(NA?DA:(NA=1,DA=_A()));var VA={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},ZA=Tr(VA);ZA.color="color.color",ZA.style="dashes";var WA={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},GA={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},jA="",HA=0,YA="",UA="",KA=WA.NULL;function QA(){HA++,YA=jA.charAt(HA)}function XA(){return jA.charAt(HA+1)}function qA(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function JA(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function $A(t,e,i){for(var n=e.split("."),o=t;n.length;){var s=n.shift();n.length?(o[s]||(o[s]={}),o=o[s]):o[s]=i}}function ta(t,e){for(var i,n,o=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,n=r.nodes.length;i<n;i++)if(e.id===r.nodes[i].id){o=r.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=JA(o.attr,t.node))),i=s.length-1;i>=0;i--){var g,A=s[i];A.nodes||(A.nodes=[]),-1===_r(g=A.nodes).call(g,o)&&A.nodes.push(o)}e.attr&&(o.attr=JA(o.attr,e.attr))}function ea(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=JA({},t.edge);e.attr=JA(i,e.attr)}}function ia(t,e,i,n,o){var s={from:e,to:i,type:n};return t.edge&&(s.attr=JA({},t.edge)),s.attr=JA(s.attr||{},o),null!=o&&o.hasOwnProperty("arrows")&&null!=o.arrows&&(s.arrows={to:{enabled:!0,type:o.arrows.type}},o.arrows=null),s}function na(){for(KA=WA.NULL,UA="";" "===YA||"\t"===YA||"\n"===YA||"\r"===YA;)QA();do{var t=!1;if("#"===YA){for(var e=HA-1;" "===jA.charAt(e)||"\t"===jA.charAt(e);)e--;if("\n"===jA.charAt(e)||""===jA.charAt(e)){for(;""!=YA&&"\n"!=YA;)QA();t=!0}}if("/"===YA&&"/"===XA()){for(;""!=YA&&"\n"!=YA;)QA();t=!0}if("/"===YA&&"*"===XA()){for(;""!=YA;){if("*"===YA&&"/"===XA()){QA(),QA();break}QA()}t=!0}for(;" "===YA||"\t"===YA||"\n"===YA||"\r"===YA;)QA()}while(t);if(""!==YA){var i=YA+XA();if(GA[i])return KA=WA.DELIMITER,UA=i,QA(),void QA();if(GA[YA])return KA=WA.DELIMITER,UA=YA,void QA();if(qA(YA)||"-"===YA){for(UA+=YA,QA();qA(YA);)UA+=YA,QA();return"false"===UA?UA=!1:"true"===UA?UA=!0:isNaN(Number(UA))||(UA=Number(UA)),void(KA=WA.IDENTIFIER)}if('"'===YA){for(QA();""!=YA&&('"'!=YA||'"'===YA&&'"'===XA());)'"'===YA?(UA+=YA,QA()):"\\"===YA&&"n"===XA()?(UA+="\n",QA()):UA+=YA,QA();if('"'!=YA)throw aa('End of string " expected');return QA(),void(KA=WA.IDENTIFIER)}for(KA=WA.UNKNOWN;""!=YA;)UA+=YA,QA();throw new SyntaxError('Syntax error in part "'+Ca(UA,30)+'"')}KA=WA.DELIMITER}function oa(t){for(;""!==UA&&"}"!=UA;)sa(t),";"===UA&&na()}function sa(t){var e=ra(t);if(e)ga(t,e);else{var i=function(t){return"node"===UA?(na(),t.node=Aa(),"node"):"edge"===UA?(na(),t.edge=Aa(),"edge"):"graph"===UA?(na(),t.graph=Aa(),"graph"):null}(t);if(!i){if(KA!=WA.IDENTIFIER)throw aa("Identifier expected");var n=UA;if(na(),"="===UA){if(na(),KA!=WA.IDENTIFIER)throw aa("Identifier expected");t[n]=UA,na()}else!function(t,e){var i={id:e},n=Aa();n&&(i.attr=n),ta(t,i),ga(t,e)}(t,n)}}}function ra(t){var e=null;if("subgraph"===UA&&((e={}).type="subgraph",na(),KA===WA.IDENTIFIER&&(e.id=UA,na())),"{"===UA){if(na(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,oa(e),"}"!=UA)throw aa("Angle bracket } expected");na(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function ga(t,e){for(;"->"===UA||"--"===UA;){var i,n=UA;na();var o=ra(t);if(o)i=o;else{if(KA!=WA.IDENTIFIER)throw aa("Identifier or subgraph expected");ta(t,{id:i=UA}),na()}ea(t,ia(t,e,i,n,Aa())),e=i}}function Aa(){for(var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=new Array,r=new Array;"["===UA;){for(na(),i={};""!==UA&&"]"!=UA;){if(KA!=WA.IDENTIFIER)throw aa("Attribute name expected");var g=UA;if(na(),"="!=UA)throw aa("Equal sign = expected");if(na(),KA!=WA.IDENTIFIER)throw aa("Attribute value expected");var A=UA;"style"===g&&(A=n[A]),"arrowhead"===g&&(g="arrows",A={to:{enabled:!0,type:o[A]}}),"arrowtail"===g&&(g="arrows",A={from:{enabled:!0,type:o[A]}}),s.push({attr:i,name:g,value:A}),r.push(g),na(),","==UA&&na()}if("]"!=UA)throw aa("Bracket ] expected");na()}if(Kg(r).call(r,"dir")){var a={arrows:{}};for(t=0;t<s.length;t++)if("arrows"===s[t].name)if(null!=s[t].value.to)a.arrows.to=t;else{if(null==s[t].value.from)throw aa("Invalid value of arrows");a.arrows.from=t}else"dir"===s[t].name&&(a.dir=t);var C,I,l=s[a.dir].value;if(!Kg(r).call(r,"arrows"))if("both"===l)s.push({attr:s[a.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),a.arrows.to=s.length-1,s.push({attr:s[a.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),a.arrows.from=s.length-1;else if("forward"===l)s.push({attr:s[a.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),a.arrows.to=s.length-1;else if("back"===l)s.push({attr:s[a.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),a.arrows.from=s.length-1;else{if("none"!==l)throw aa('Invalid dir type "'+l+'"');s.push({attr:s[a.dir].attr,name:"arrows",value:""}),a.arrows.to=s.length-1}if("both"===l)a.arrows.to&&a.arrows.from?(I=s[a.arrows.to].value.to.type,C=s[a.arrows.from].value.from.type,s[a.arrows.to]={attr:s[a.arrows.to].attr,name:s[a.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}},uA(s).call(s,a.arrows.from,1)):a.arrows.to?(I=s[a.arrows.to].value.to.type,C="arrow",s[a.arrows.to]={attr:s[a.arrows.to].attr,name:s[a.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}):a.arrows.from&&(I="arrow",C=s[a.arrows.from].value.from.type,s[a.arrows.from]={attr:s[a.arrows.from].attr,name:s[a.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}});else if("back"===l)a.arrows.to&&a.arrows.from?(I="",C=s[a.arrows.from].value.from.type,s[a.arrows.from]={attr:s[a.arrows.from].attr,name:s[a.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}):a.arrows.to?(I="",C="arrow",a.arrows.from=a.arrows.to,s[a.arrows.from]={attr:s[a.arrows.from].attr,name:s[a.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}):a.arrows.from&&(I="",C=s[a.arrows.from].value.from.type,s[a.arrows.to]={attr:s[a.arrows.from].attr,name:s[a.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}),s[a.arrows.from]={attr:s[a.arrows.from].attr,name:s[a.arrows.from].name,value:{from:{enabled:!0,type:s[a.arrows.from].value.from.type}}};else if("none"===l){var h;s[h=a.arrows.to?a.arrows.to:a.arrows.from]={attr:s[h].attr,name:s[h].name,value:""}}else{if("forward"!==l)throw aa('Invalid dir type "'+l+'"');a.arrows.to&&a.arrows.from||a.arrows.to?(I=s[a.arrows.to].value.to.type,C="",s[a.arrows.to]={attr:s[a.arrows.to].attr,name:s[a.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}):a.arrows.from&&(I="arrow",C="",a.arrows.to=a.arrows.from,s[a.arrows.to]={attr:s[a.arrows.to].attr,name:s[a.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:C}}}),s[a.arrows.to]={attr:s[a.arrows.to].attr,name:s[a.arrows.to].name,value:{to:{enabled:!0,type:s[a.arrows.to].value.to.type}}}}uA(s).call(s,a.dir,1)}if(Kg(r).call(r,"penwidth")){var c=[];for(e=s.length,t=0;t<e;t++)"width"!==s[t].name&&("penwidth"===s[t].name&&(s[t].name="width"),c.push(s[t]));s=c}for(e=s.length,t=0;t<e;t++)$A(s[t].attr,s[t].name,s[t].value);return i}function aa(t){return new SyntaxError(t+', got "'+Ca(UA,30)+'" (char '+HA+")")}function Ca(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Ia(t,e,i){for(var n=e.split("."),o=n.pop(),s=t,r=0;r<n.length;r++){var g=n[r];g in s||(s[g]={}),s=s[g]}return s[o]=i,t}function la(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];MA(o)?zA(o).call(o,function(e){Ia(i,e,t[n])}):Ia(i,"string"==typeof o?o:n,t[n])}return i}function ha(t){var e,i=function(t){return jA=t,function(){var t={};if(HA=0,YA=jA.charAt(0),na(),"strict"===UA&&(t.strict=!0,na()),"graph"!==UA&&"digraph"!==UA||(t.type=UA,na()),KA===WA.IDENTIFIER&&(t.id=UA,na()),"{"!=UA)throw aa("Angle bracket { expected");if(na(),oa(t),"}"!=UA)throw aa("Angle bracket } expected");if(na(),""!==UA)throw aa("End of file expected");return na(),delete t.node,delete t.edge,delete t.graph,t}()}(t),n={nodes:[],edges:[],options:{}};if(i.nodes&&zA(e=i.nodes).call(e,function(t){var e={id:t.id,label:String(t.label||t.id)};JA(e,la(t.attr,VA)),e.image&&(e.shape="image"),n.nodes.push(e)}),i.edges){var o,s=function(t){var e={from:t.from,to:t.to};return JA(e,la(t.attr,ZA)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};zA(o=i.edges).call(o,function(t){var e,i,o,r,g,A,a;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&zA(o=t.from.edges).call(o,function(t){var e=s(t);n.edges.push(e)}),g=i,A=function(e,i){var o=ia(n,e.id,i.id,t.type,t.attr),r=s(o);n.edges.push(r)},MA(r=e)?zA(r).call(r,function(t){MA(g)?zA(g).call(g,function(e){A(t,e)}):A(t,g)}):MA(g)?zA(g).call(g,function(t){A(r,t)}):A(r,g),t.to instanceof Object&&t.to.edges&&zA(a=t.to.edges).call(a,function(t){var e=s(t);n.edges.push(e)})})}return i.attr&&(n.options=i.attr),n}var ca,da,ua,pa,fa,ma,va,ba,ya,wa={};function xa(){return ua?da:(ua=1,function(){if(ca)return wa;ca=1;var t=Ii(),e=PA().map;t({target:"Array",proto:!0,forced:!sA()("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),da=nn()("Array","map"))}function Ea(){if(fa)return pa;fa=1;var t=Nt(),e=xa(),i=Array.prototype;return pa=function(n){var o=n.map;return n===i||t(i,n)&&o===i.map?e:o}}function ka(){return va?ma:(va=1,ma=Ea())}var Ta=s(ya?ba:(ya=1,ba=ka()));var Sa,Oa,Da,Na,Ma,Ra,Pa,La,Ba,Fa=Object.freeze({__proto__:null,cn:{addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},cs:{addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},ru:{addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},uk:{addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"}}),_a={};function za(){if(Sa)return _a;Sa=1;var t=Ii(),e=x(),i=Xg(),n=St(),o=ve(),s=ui(),r=Jg(),g=nA(),A=iA(),a=sA(),C=we(),I=Rt(),l=C("isConcatSpreadable"),h=I>=51||!e(function(){var t=[];return t[l]=!1,t.concat()[0]!==t}),c=function(t){if(!n(t))return!1;var e=t[l];return void 0!==e?!!e:i(t)};return t({target:"Array",proto:!0,arity:1,forced:!h||!a("concat")},{concat:function(t){var e,i,n,a,C,I=o(this),l=A(I,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(c(C=-1===e?I:arguments[e]))for(a=s(C),r(h+a),i=0;i<a;i++,h++)i in C&&g(l,h,C[i]);else r(h+1),g(l,h++,C);return l.length=h,l}}),_a}function Va(){return Da?Oa:(Da=1,za(),Oa=nn()("Array","concat"))}function Za(){if(Ma)return Na;Ma=1;var t=Nt(),e=Va(),i=Array.prototype;return Na=function(n){var o=n.concat;return n===i||t(i,n)&&o===i.concat?e:o}}function Wa(){return Pa?Ra:(Pa=1,Ra=Za())}var Ga,ja,Ha,Ya,Ua,Ka,Qa,Xa,qa,Ja,$a,tC,eC,iC,nC,oC,sC,rC,gC,AC,aC,CC,IC,lC,hC,cC,dC,uC,pC,fC,mC,vC,bC,yC,wC,xC,EC=s(Ba?La:(Ba=1,La=Wa()));class kC{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const t=this.image.width,e=this.image.height;this.width=t,this.height=e;const i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),s=Math.floor(e/16),r=Math.floor(t/2),g=Math.floor(t/4),A=Math.floor(t/8),a=Math.floor(t/16);this.canvas.width=3*g,this.canvas.height=i,this.coordinates=[[0,0,r,i],[r,0,g,n],[r,n,A,o],[5*A,n,a,s]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){const t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(let e=1;e<this.NUM_ITERATIONS;e++){const i=this.coordinates[e-1],n=this.coordinates[e];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],n[0],n[1],n[2],n[3])}}drawImageAtPosition(t,e,i,n,o,s){if(this.initialized())if(e>2){e*=.5;let r=0;for(;e>2&&r<this.NUM_ITERATIONS;)e*=.5,r+=1;r>=this.NUM_ITERATIONS&&(r=this.NUM_ITERATIONS-1);const g=this.coordinates[r];t.drawImage(this.canvas,g[0],g[1],g[2],g[3],i,n,o,s)}else t.drawImage(this.image,i,n,o,s)}}class TC{constructor(t){this.images={},this.imageBroken={},this.callback=t}_tryloadBrokenUrl(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=()=>{console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}_redrawWithImage(t){this.callback&&this.callback(t)}load(t,e){const i=this.images[t];if(i)return i;const n=new kC;return this.images[t]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",t),this._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}_fixImageCoordinates(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}function SC(){return ja?Ga:(ja=1,Ga={})}function OC(){if(Ya)return Ha;Ya=1;var t=w(),e=D(),i=t.WeakMap;return Ha=e(i)&&/native code/.test(String(i))}function DC(){if(Ka)return Ua;Ka=1;var t,e,i,n=OC(),o=w(),s=St(),r=Ci(),g=be(),A=fe(),a=lr(),C=fi(),I="Object already initialized",l=o.TypeError,h=o.WeakMap;if(n||A.state){var c=A.state||(A.state=new h);c.get=c.get,c.has=c.has,c.set=c.set,t=function(t,e){if(c.has(t))throw new l(I);return e.facade=t,c.set(t,e),e},e=function(t){return c.get(t)||{}},i=function(t){return c.has(t)}}else{var d=a("state");C[d]=!0,t=function(t,e){if(g(t,d))throw new l(I);return e.facade=t,r(t,d,e),e},e=function(t){return g(t,d)?t[d]:{}},i=function(t){return g(t,d)}}return Ua={set:t,get:e,has:i,enforce:function(n){return i(n)?e(n):t(n,{})},getterFor:function(t){return function(i){var n;if(!s(i)||(n=e(i)).type!==t)throw new l("Incompatible receiver, "+t+" required");return n}}}}function NC(){if(Xa)return Qa;Xa=1;var t=B(),e=be(),i=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,o=e(i,"name"),s=o&&"something"===function(){}.name,r=o&&(!t||t&&n(i,"name").configurable);return Qa={EXISTS:o,PROPER:s,CONFIGURABLE:r}}function MC(){return Ja?qa:(Ja=1,qa=!x()(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}function RC(){if(tC)return $a;tC=1;var t=be(),e=D(),i=ve(),n=lr(),o=MC(),s=n("IE_PROTO"),r=Object,g=r.prototype;return $a=o?r.getPrototypeOf:function(n){var o=i(n);if(t(o,s))return o[s];var A=o.constructor;return e(A)&&o instanceof A?A.prototype:o instanceof r?g:null},$a}function PC(){if(iC)return eC;iC=1;var t=Ci();return eC=function(e,i,n,o){return o&&o.enumerable?e[i]=n:t(e,i,n),e}}function LC(){if(oC)return nC;oC=1;var t,e,i,n=x(),o=D(),s=St(),r=hr(),g=RC(),A=PC(),a=we(),C=ue(),I=a("iterator"),l=!1;return[].keys&&("next"in(i=[].keys())?(e=g(g(i)))!==Object.prototype&&(t=e):l=!0),!s(t)||n(function(){var e={};return t[I].call(e)!==e})?t={}:C&&(t=r(t)),o(t[I])||A(t,I,function(){return this}),nC={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:l}}function BC(){if(rC)return sC;rC=1;var t=lg(),e=hg();return sC=t?{}.toString:function(){return"[object "+e(this)+"]"}}function FC(){if(AC)return gC;AC=1;var t=lg(),e=ai().f,i=Ci(),n=be(),o=BC(),s=we()("toStringTag");return gC=function(r,g,A,a){var C=A?r:r&&r.prototype;C&&(n(C,s)||e(C,s,{configurable:!0,value:g}),a&&!t&&i(C,"toString",o))}}function _C(){if(CC)return aC;CC=1;var t=LC().IteratorPrototype,e=hr(),i=wt(),n=FC(),o=SC(),s=function(){return this};return aC=function(r,g,A,a){var C=g+" Iterator";return r.prototype=e(t,{next:i(+!a,A)}),n(r,C,!1,!0),o[C]=s,r},aC}function zC(){if(lC)return IC;lC=1;var t=T(),e=_t();return IC=function(i,n,o){try{return t(e(Object.getOwnPropertyDescriptor(i,n)[o]))}catch(t){}},IC}function VC(){if(cC)return hC;cC=1;var t=St();return hC=function(e){return t(e)||null===e}}function ZC(){if(uC)return dC;uC=1;var t=VC(),e=String,i=TypeError;return dC=function(n){if(t(n))return n;throw new i("Can't set "+e(n)+" as a prototype")}}function WC(){if(fC)return pC;fC=1;var t=zC(),e=St(),i=kt(),n=ZC();return pC=Object.setPrototypeOf||("__proto__"in{}?function(){var o,s=!1,r={};try{(o=t(Object.prototype,"__proto__","set"))(r,[]),s=r instanceof Array}catch(t){}return function(t,r){return i(t),n(r),e(t)?(s?o(t,r):t.__proto__=r,t):t}}():void 0)}function GC(){if(vC)return mC;vC=1;var t=Ii(),e=F(),i=ue(),n=NC(),o=D(),s=_C(),r=RC(),g=WC(),A=FC(),a=Ci(),C=PC(),I=we(),l=SC(),h=LC(),c=n.PROPER,d=n.CONFIGURABLE,u=h.IteratorPrototype,p=h.BUGGY_SAFARI_ITERATORS,f=I("iterator"),m="keys",v="values",b="entries",y=function(){return this};return mC=function(n,I,h,w,x,E,k){s(h,I,w);var T,S,O,D=function(t){if(t===x&&L)return L;if(!p&&t&&t in R)return R[t];switch(t){case m:case v:case b:return function(){return new h(this,t)}}return function(){return new h(this)}},N=I+" Iterator",M=!1,R=n.prototype,P=R[f]||R["@@iterator"]||x&&R[x],L=!p&&P||D(x),B="Array"===I&&R.entries||P;if(B&&(T=r(B.call(new n)))!==Object.prototype&&T.next&&(i||r(T)===u||(g?g(T,u):o(T[f])||C(T,f,y)),A(T,N,!0,!0),i&&(l[N]=y)),c&&x===v&&P&&P.name!==v&&(!i&&d?a(R,"name",v):(M=!0,L=function(){return e(P,this)})),x)if(S={values:D(v),keys:E?L:D(m),entries:D(b)},k)for(O in S)(p||M||!(O in R))&&C(R,O,S[O]);else t({target:I,proto:!0,forced:p||M},S);return i&&!k||R[f]===L||C(R,f,L,{name:x}),l[I]=L,S},mC}function jC(){return yC?bC:(yC=1,bC=function(t,e){return{value:t,done:e}})}function HC(){if(xC)return wC;xC=1;var t=Tt(),e=Vr(),i=SC(),n=DC(),o=ai().f,s=GC(),r=jC(),g=ue(),A=B(),a="Array Iterator",C=n.set,I=n.getterFor(a);wC=s(Array,"Array",function(e,i){C(this,{type:a,target:t(e),index:0,kind:i})},function(){var t=I(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=null,r(void 0,!0);switch(t.kind){case"keys":return r(i,!1);case"values":return r(e[i],!1)}return r([i,e[i]],!1)},"values");var l=i.Arguments=i.Array;if(e("keys"),e("values"),e("entries"),!g&&A&&"values"!==l.name)try{o(l,"name",{value:"values"})}catch(t){}return wC}var YC,UC={exports:{}},KC={};function QC(){if(YC)return KC;YC=1;var t=mi(),e=vi().concat("length","prototype");return KC.f=Object.getOwnPropertyNames||function(i){return t(i,e)},KC}var XC,qC,JC,$C,tI,eI,iI,nI,oI,sI,rI,gI,AI,aI,CI,II,lI,hI,cI,dI,uI,pI,fI,mI,vI,bI,yI,wI,xI,EI,kI,TI,SI={};function OI(){if(XC)return SI;XC=1;var t=S(),e=Tt(),i=QC().f,n=tn(),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return SI.f=function(s){return o&&"Window"===t(s)?function(t){try{return i(t)}catch(t){return n(o)}}(s):i(e(s))},SI}function DI(){return JC?qC:(JC=1,qC=x()(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))}function NI(){if(tI)return $C;tI=1;var t=x(),e=St(),i=S(),n=DI(),o=Object.isExtensible,s=t(function(){});return $C=s||n?function(t){return!!e(t)&&(!n||"ArrayBuffer"!==i(t))&&(!o||o(t))}:o}function MI(){return iI?eI:(iI=1,eI=!x()(function(){return Object.isExtensible(Object.preventExtensions({}))}))}function RI(){if(nI)return UC.exports;nI=1;var t=Ii(),e=T(),i=fi(),n=St(),o=be(),s=ai().f,r=QC(),g=OI(),A=NI(),a=ye(),C=MI(),I=!1,l=a("meta"),h=0,c=function(t){s(t,l,{value:{objectID:"O"+h++,weakData:{}}})},d=UC.exports={enable:function(){d.enable=function(){},I=!0;var i=r.f,n=e([].splice),o={};o[l]=1,i(o).length&&(r.f=function(t){for(var e=i(t),o=0,s=e.length;o<s;o++)if(e[o]===l){n(e,o,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:g.f}))},fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!A(t))return"F";if(!e)return"E";c(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!A(t))return!0;if(!e)return!1;c(t)}return t[l].weakData},onFreeze:function(t){return C&&I&&A(t)&&!o(t,l)&&c(t),t}};return i[l]=!0,UC.exports}function PI(){if(sI)return oI;sI=1;var t=we(),e=SC(),i=t("iterator"),n=Array.prototype;return oI=function(t){return void 0!==t&&(e.Array===t||n[i]===t)}}function LI(){if(gI)return rI;gI=1;var t=hg(),e=zt(),i=Et(),n=SC(),o=we()("iterator");return rI=function(s){if(!i(s))return e(s,o)||e(s,"@@iterator")||n[t(s)]}}function BI(){if(aI)return AI;aI=1;var t=F(),e=_t(),i=Ai(),n=Ft(),o=LI(),s=TypeError;return AI=function(r,g){var A=arguments.length<2?o(r):g;if(e(A))return i(t(A,r));throw new s(n(r)+" is not iterable")},AI}function FI(){if(II)return CI;II=1;var t=F(),e=Ai(),i=zt();return CI=function(n,o,s){var r,g;e(n);try{if(!(r=i(n,"return"))){if("throw"===o)throw s;return s}r=t(r,n)}catch(t){g=!0,r=t}if("throw"===o)throw s;if(g)throw r;return e(r),s},CI}function _I(){if(hI)return lI;hI=1;var t=De(),e=F(),i=Ai(),n=Ft(),o=PI(),s=ui(),r=Nt(),g=BI(),A=LI(),a=FI(),C=TypeError,I=function(t,e){this.stopped=t,this.result=e},l=I.prototype;return lI=function(h,c,d){var u,p,f,m,v,b,y,w=d&&d.that,x=!(!d||!d.AS_ENTRIES),E=!(!d||!d.IS_RECORD),k=!(!d||!d.IS_ITERATOR),T=!(!d||!d.INTERRUPTED),S=t(c,w),O=function(t){return u&&a(u,"normal"),new I(!0,t)},D=function(t){return x?(i(t),T?S(t[0],t[1],O):S(t[0],t[1])):T?S(t,O):S(t)};if(E)u=h.iterator;else if(k)u=h;else{if(!(p=A(h)))throw new C(n(h)+" is not iterable");if(o(p)){for(f=0,m=s(h);m>f;f++)if((v=D(h[f]))&&r(l,v))return v;return new I(!1)}u=g(h,p)}for(b=E?h.next:u.next;!(y=e(b,u)).done;){try{v=D(y.value)}catch(t){a(u,"throw",t)}if("object"==typeof v&&v&&r(l,v))return v}return new I(!1)},lI}function zI(){if(dI)return cI;dI=1;var t=Nt(),e=TypeError;return cI=function(i,n){if(t(n,i))return i;throw new e("Incorrect invocation")}}function VI(){if(pI)return uI;pI=1;var t=Ii(),e=w(),i=RI(),n=x(),o=Ci(),s=_I(),r=zI(),g=D(),A=St(),a=Et(),C=FC(),I=ai().f,l=PA().forEach,h=B(),c=DC(),d=c.set,u=c.getterFor;return uI=function(c,p,f){var m,v=-1!==c.indexOf("Map"),b=-1!==c.indexOf("Weak"),y=v?"set":"add",w=e[c],x=w&&w.prototype,E={};if(h&&g(w)&&(b||x.forEach&&!n(function(){(new w).entries().next()}))){var k=(m=p(function(t,e){d(r(t,k),{type:c,collection:new w}),a(e)||s(e,t[y],{that:t,AS_ENTRIES:v})})).prototype,T=u(c);l(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;!(t in x)||b&&"clear"===t||o(k,t,function(i,n){var o=T(this).collection;if(!e&&b&&!A(i))return"get"===t&&void 0;var s=o[t](0===i?0:i,n);return e?this:s})}),b||I(k,"size",{configurable:!0,get:function(){return T(this).collection.size}})}else m=f.getConstructor(p,c,v,y),i.enable();return C(m,c,!1,!0),E[c]=m,t({global:!0,forced:!0},E),b||f.setStrong(m,c,v),m}}function ZI(){if(mI)return fI;mI=1;var t=ai();return fI=function(e,i,n){return t.f(e,i,n)}}function WI(){if(bI)return vI;bI=1;var t=PC();return vI=function(e,i,n){for(var o in i)n&&n.unsafe&&e[o]?e[o]=i[o]:t(e,o,i[o],n);return e}}function GI(){if(wI)return yI;wI=1;var t=Dt(),e=ZI(),i=we(),n=B(),o=i("species");return yI=function(i){var s=t(i);n&&s&&!s[o]&&e(s,o,{configurable:!0,get:function(){return this}})}}function jI(){if(EI)return xI;EI=1;var t=hr(),e=ZI(),i=WI(),n=De(),o=zI(),s=Et(),r=_I(),g=GC(),A=jC(),a=GI(),C=B(),I=RI().fastKey,l=DC(),h=l.set,c=l.getterFor;return xI={getConstructor:function(g,A,a,l){var d=g(function(e,i){o(e,u),h(e,{type:A,index:t(null),first:null,last:null,size:0}),C||(e.size=0),s(i)||r(i,e[l],{that:e,AS_ENTRIES:a})}),u=d.prototype,p=c(A),f=function(t,e,i){var n,o,s=p(t),r=m(t,e);return r?r.value=i:(s.last=r={index:o=I(e,!0),key:e,value:i,previous:n=s.last,next:null,removed:!1},s.first||(s.first=r),n&&(n.next=r),C?s.size++:t.size++,"F"!==o&&(s.index[o]=r)),t},m=function(t,e){var i,n=p(t),o=I(e);if("F"!==o)return n.index[o];for(i=n.first;i;i=i.next)if(i.key===e)return i};return i(u,{clear:function(){for(var e=p(this),i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=null),i=i.next;e.first=e.last=null,e.index=t(null),C?e.size=0:this.size=0},delete:function(t){var e=this,i=p(e),n=m(e,t);if(n){var o=n.next,s=n.previous;delete i.index[n.index],n.removed=!0,s&&(s.next=o),o&&(o.previous=s),i.first===n&&(i.first=o),i.last===n&&(i.last=s),C?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=p(this),o=n(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),i(u,a?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return f(this,0===t?0:t,e)}}:{add:function(t){return f(this,t=0===t?0:t,t)}}),C&&e(u,"size",{configurable:!0,get:function(){return p(this).size}}),d},setStrong:function(t,e,i){var n=e+" Iterator",o=c(e),s=c(n);g(t,e,function(t,e){h(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?A("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=null,A(void 0,!0))},i?"entries":"values",!i,!0),a(e)}},xI}var HI,YI,UI,KI,QI,XI={};function qI(){return YI||(YI=1,HI=function(t,e){return 1===e?function(e,i){return e[t](i)}:function(e,i,n){return e[t](i,n)}}),HI}function JI(){if(KI)return UI;KI=1;var t=Dt(),e=qI(),i=t("Map");return UI={Map:i,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:i.prototype}}var $I,tl,el,il,nl,ol={};function sl(){if(tl)return $I;tl=1;var t=T(),e=hi(),i=cg(),n=kt(),o=t("".charAt),s=t("".charCodeAt),r=t("".slice),g=function(t){return function(g,A){var a,C,I=i(n(g)),l=e(A),h=I.length;return l<0||l>=h?t?"":void 0:(a=s(I,l))<55296||a>56319||l+1===h||(C=s(I,l+1))<56320||C>57343?t?o(I,l):a:t?r(I,l,l+2):C-56320+(a-55296<<10)+65536}};return $I={codeAt:g(!1),charAt:g(!0)}}function rl(){if(el)return ol;el=1;var t=sl().charAt,e=cg(),i=DC(),n=GC(),o=jC(),s="String Iterator",r=i.set,g=i.getterFor(s);return n(String,"String",function(t){r(this,{type:s,string:e(t),index:0})},function(){var e,i=g(this),n=i.string,s=i.index;return s>=n.length?o(void 0,!0):(e=t(n,s),i.index+=e.length,o(e,!1))}),ol}function gl(){return nl?il:(nl=1,HC(),TI||(TI=1,kI||(kI=1,VI()("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},jI()))),function(){if(QI)return XI;QI=1;var t=Ii(),e=T(),i=_t(),n=kt(),o=_I(),s=JI(),r=ue(),g=x(),A=s.Map,a=s.has,C=s.get,I=s.set,l=e([].push),h=r||g(function(){return 1!==A.groupBy("ab",function(t){return t}).get("a").length});t({target:"Map",stat:!0,forced:r||h},{groupBy:function(t,e){n(t),i(e);var s=new A,r=0;return o(t,function(t){var i=e(t,r++);a(s,i)?l(C(s,i),t):I(s,i,[t])}),s}})}(),rl(),il=Ot().Map)}var Al,al,Cl,Il,ll,hl,cl,dl={};function ul(){return al?Al:(al=1,Al={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function pl(){if(Cl)return dl;Cl=1,HC();var t=ul(),e=w(),i=FC(),n=SC();for(var o in t)i(e[o],o),n[o]=n.Array;return dl}function fl(){if(ll)return Il;ll=1;var t=gl();return pl(),Il=t}var ml,vl,bl,yl,wl,xl,El,kl=s(cl?hl:(cl=1,hl=fl()));class Tl{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ji(this.options,this.defaultOptions)}setOptions(t){const e=["useDefaultGroups"];if(void 0!==t)for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===_r(e).call(e,i)){const e=t[i];this.add(i,e)}}clear(){this._groups=new kl,this._groupNames=[]}get(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){const e=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[e]),this._groups.set(t,i)}else{const e=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[e],this._groups.set(t,i)}return i}add(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}function Sl(){return bl?vl:(bl=1,ml||(ml=1,Ii()({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})),vl=Ot().Number.isNaN)}function Ol(){return wl?yl:(wl=1,yl=Sl())}var Dl,Nl,Ml,Rl,Pl,Ll,Bl,Fl,_l,zl=s(El?xl:(El=1,xl=Ol()));function Vl(){if(Nl)return Dl;Nl=1;var t=w().isFinite;return Dl=Number.isFinite||function(e){return"number"==typeof e&&t(e)}}function Zl(){return Pl?Rl:(Pl=1,Ml||(Ml=1,Ii()({target:"Number",stat:!0},{isFinite:Vl()})),Rl=Ot().Number.isFinite)}function Wl(){return Bl?Ll:(Bl=1,Ll=Zl())}var Gl,jl,Hl,Yl,Ul,Kl,Ql,Xl=s(_l?Fl:(_l=1,Fl=Wl())),ql={};function Jl(){return Hl?jl:(Hl=1,function(){if(Gl)return ql;Gl=1;var t=Ii(),e=ve(),i=bi();t({target:"Object",stat:!0,forced:x()(function(){i(1)})},{keys:function(t){return i(e(t))}})}(),jl=Ot().Object.keys)}function $l(){return Ul?Yl:(Ul=1,Yl=Jl())}var th,eh,ih,nh,oh,sh,rh,gh,Ah,ah=s(Ql?Kl:(Ql=1,Kl=$l())),Ch={};function Ih(){return ih?eh:(ih=1,function(){if(th)return Ch;th=1;var t=Ii(),e=PA().some;t({target:"Array",proto:!0,forced:!Or()("some")},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),eh=nn()("Array","some"))}function lh(){if(oh)return nh;oh=1;var t=Nt(),e=Ih(),i=Array.prototype;return nh=function(n){var o=n.some;return n===i||t(i,n)&&o===i.some?e:o}}function hh(){return rh?sh:(rh=1,sh=lh())}var ch,dh,uh,ph,fh,mh,vh,bh=s(Ah?gh:(Ah=1,gh=hh())),yh={},wh={};function xh(){if(dh)return ch;dh=1;var t=w(),e=Mt(),i=S(),n=function(t){return e.slice(0,t.length)===t};return ch=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function Eh(){if(ph)return uh;ph=1;var t=TypeError;return uh=function(e,i){if(e<i)throw new t("Not enough arguments");return e}}function kh(){if(mh)return fh;mh=1;var t,e=w(),i=k(),n=D(),o=xh(),s=Mt(),r=tn(),g=Eh(),A=e.Function,a=/MSIE .\./.test(s)||"BUN"===o&&((t=e.Bun.version.split(".")).length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2]));return fh=function(t,e){var o=e?2:1;return a?function(s,a){var C=g(arguments.length,1)>o,I=n(s)?s:A(s),l=C?r(arguments,o):[],h=C?function(){i(I,this,l)}:I;return e?t(h,a):t(h)}:t},fh}var Th,Sh,Oh,Dh,Nh,Mh,Rh={};function Ph(){return Sh||(Sh=1,function(){if(vh)return wh;vh=1;var t=Ii(),e=w(),i=kh()(e.setInterval,!0);t({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i})}(),function(){if(Th)return Rh;Th=1;var t=Ii(),e=w(),i=kh()(e.setTimeout,!0);t({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i})}()),yh}function Lh(){return Dh?Oh:(Dh=1,Ph(),Oh=Ot().setTimeout)}var Bh=s(Mh?Nh:(Mh=1,Nh=Lh()));const Fh=[];for(let t=0;t<256;++t)Fh.push((t+256).toString(16).slice(1));let _h;const zh=new Uint8Array(16);var Vh={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Zh(t,e,i){if(Vh.randomUUID&&!t)return Vh.randomUUID();const n=(t=t||{}).random??t.rng?.()??function(){if(!_h){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_h=crypto.getRandomValues.bind(crypto)}return _h(zh)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(t,e=0){return(Fh[t[e+0]]+Fh[t[e+1]]+Fh[t[e+2]]+Fh[t[e+3]]+"-"+Fh[t[e+4]]+Fh[t[e+5]]+"-"+Fh[t[e+6]]+Fh[t[e+7]]+"-"+Fh[t[e+8]]+Fh[t[e+9]]+"-"+Fh[t[e+10]]+Fh[t[e+11]]+Fh[t[e+12]]+Fh[t[e+13]]+Fh[t[e+14]]+Fh[t[e+15]]).toLowerCase()}(n)}function Wh(t){return"string"==typeof t||"number"==typeof t}class Gh{delay;max;_queue=[];_timeout=null;_extended=null;constructor(t){this.delay=null,this.max=1/0,this.setOptions(t)}setOptions(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}static extend(t,e){const i=new Gh(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=()=>{i.flush()};const n=[{name:"flush",original:void 0}];if(e&&e.replace)for(let o=0;o<e.replace.length;o++){const s=e.replace[o];n.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:n},i}destroy(){if(this.flush(),this._extended){const t=this._extended.object,e=this._extended.methods;for(let i=0;i<e.length;i++){const n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}replace(t,e){const i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(...t){i.queue({args:t,fn:n,context:this})}}queue(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(t=>{t.fn.apply(t.context||t.fn,t.args||[])})}}class jh{_subscribers={"*":[],add:[],remove:[],update:[]};_trigger(t,e,i){if("*"===t)throw new Error("Cannot trigger event *");[...this._subscribers[t],...this._subscribers["*"]].forEach(n=>{n(t,e,null!=i?i:null)})}on(t,e){"function"==typeof e&&this._subscribers[t].push(e)}off(t,e){this._subscribers[t]=this._subscribers[t].filter(t=>t!==e)}subscribe=jh.prototype.on;unsubscribe=jh.prototype.off;get testLeakSubscribers(){return this._subscribers}}class Hh{_pairs;constructor(t){this._pairs=t}*[Symbol.iterator](){for(const[t,e]of this._pairs)yield[t,e]}*entries(){for(const[t,e]of this._pairs)yield[t,e]}*keys(){for(const[t]of this._pairs)yield t}*values(){for(const[,t]of this._pairs)yield t}toIdArray(){return[...this._pairs].map(t=>t[0])}toItemArray(){return[...this._pairs].map(t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const t=Object.create(null);for(const[e,i]of this._pairs)t[e]=i;return t}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new Hh([...this._pairs])}distinct(t){const e=new Set;for(const[i,n]of this._pairs)e.add(t(n,i));return e}filter(t){const e=this._pairs;return new Hh({*[Symbol.iterator](){for(const[i,n]of e)t(n,i)&&(yield[i,n])}})}forEach(t){for(const[e,i]of this._pairs)t(i,e)}map(t){const e=this._pairs;return new Hh({*[Symbol.iterator](){for(const[i,n]of e)yield[i,t(n,i)]}})}max(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[e,s]=i.value,r=t(s,e);r>o&&(o=r,n=s)}return n}min(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[e,s]=i.value,r=t(s,e);r<o&&(o=r,n=s)}return n}reduce(t,e){for(const[i,n]of this._pairs)e=t(e,n,i);return e}sort(t){return new Hh({[Symbol.iterator]:()=>[...this._pairs].sort(([e,i],[n,o])=>t(i,o,e,n))[Symbol.iterator]()})}}class Yh extends jh{flush;length;get idProp(){return this._idProp}_options;_data;_idProp;_queue=null;constructor(t,e){super(),t&&!Array.isArray(t)&&(e=t,t=[]),this._options=e||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(e)}setOptions(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Gh.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}add(t,e){const i=[];let n;if(Array.isArray(t)){if(t.map(t=>t[this._idProp]).some(t=>this._data.has(t)))throw new Error("A duplicate id was found in the parameter array.");for(let e=0,o=t.length;e<o;e++)n=this._addItem(t[e]),i.push(n)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i}update(t,e){const i=[],n=[],o=[],s=[],r=this._idProp,g=t=>{const e=t[r];if(null!=e&&this._data.has(e)){const i=t,r=Object.assign({},this._data.get(e)),g=this._updateItem(i);n.push(g),s.push(i),o.push(r)}else{const e=this._addItem(t);i.push(e)}};if(Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e]&&"object"==typeof t[e]?g(t[e]):console.warn("Ignoring input item, which is not an object at index "+e);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");g(t)}if(i.length&&this._trigger("add",{items:i},e),n.length){const t={items:n,oldData:o,data:s};this._trigger("update",t,e)}return i.concat(n)}updateOnly(t,e){Array.isArray(t)||(t=[t]);const i=t.map(t=>{const e=this._data.get(t[this._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}).map(({oldData:t,update:e})=>{const i=t[this._idProp],n=function(t,...e){return es({},t,...e)}(t,e);return this._data.set(i,n),{id:i,oldData:t,updatedData:n}});if(i.length){const t={items:i.map(t=>t.id),oldData:i.map(t=>t.oldData),data:i.map(t=>t.updatedData)};return this._trigger("update",t,e),t.items}return[]}get(t,e){let i,n,o;Wh(t)?(i=t,o=e):Array.isArray(t)?(n=t,o=e):o=t;const s=o&&"Object"===o.returnType?"Object":"Array",r=o&&o.filter,g=[];let A,a,C;if(null!=i)A=this._data.get(i),A&&r&&!r(A)&&(A=void 0);else if(null!=n)for(let t=0,e=n.length;t<e;t++)A=this._data.get(n[t]),null==A||r&&!r(A)||g.push(A);else{a=[...this._data.keys()];for(let t=0,e=a.length;t<e;t++)C=a[t],A=this._data.get(C),null==A||r&&!r(A)||g.push(A)}if(o&&o.order&&null==i&&this._sort(g,o.order),o&&o.fields){const t=o.fields;if(null!=i&&null!=A)A=this._filterFields(A,t);else for(let e=0,i=g.length;e<i;e++)g[e]=this._filterFields(g[e],t)}if("Object"==s){const t={};for(let e=0,i=g.length;e<i;e++){const i=g[e];t[i[this._idProp]]=i}return t}return null!=i?A??null:g}getIds(t){const e=this._data,i=t&&t.filter,n=t&&t.order,o=[...e.keys()],s=[];if(i)if(n){const t=[];for(let e=0,n=o.length;e<n;e++){const n=o[e],s=this._data.get(n);null!=s&&i(s)&&t.push(s)}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)s.push(t[e][this._idProp])}else for(let t=0,e=o.length;t<e;t++){const e=o[t],n=this._data.get(e);null!=n&&i(n)&&s.push(n[this._idProp])}else if(n){const t=[];for(let i=0,n=o.length;i<n;i++){const n=o[i];t.push(e.get(n))}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)s.push(t[e][this._idProp])}else for(let t=0,i=o.length;t<i;t++){const i=o[t],n=e.get(i);null!=n&&s.push(n[this._idProp])}return s}getDataSet(){return this}forEach(t,e){const i=e&&e.filter,n=[...this._data.keys()];if(e&&e.order){const i=this.get(e);for(let e=0,n=i.length;e<n;e++){const n=i[e];t(n,n[this._idProp])}}else for(let e=0,o=n.length;e<o;e++){const o=n[e],s=this._data.get(o);null==s||i&&!i(s)||t(s,o)}}map(t,e){const i=e&&e.filter,n=[],o=[...this._data.keys()];for(let e=0,s=o.length;e<s;e++){const s=o[e],r=this._data.get(s);null==r||i&&!i(r)||n.push(t(r,s))}return e&&e.order&&this._sort(n,e.order),n}_filterFields(t,e){return t?(Array.isArray(e)?e:Object.keys(e)).reduce((e,i)=>(e[i]=t[i],e),{}):t}_sort(t,e){if("string"==typeof e){const i=e;t.sort((t,e)=>{const n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}}remove(t,e){const i=[],n=[],o=Array.isArray(t)?t:[t];for(let t=0,e=o.length;t<e;t++){const e=this._remove(o[t]);if(e){const t=e[this._idProp];null!=t&&(i.push(t),n.push(e))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}_remove(t){let e;if(Wh(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){const t=this._data.get(e)||null;return this._data.delete(e),--this.length,t}return null}clear(t){const e=[...this._data.keys()],i=[];for(let t=0,n=e.length;t<n;t++)i.push(this._data.get(e[t]));return this._data.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i},t),e}max(t){let e=null,i=null;for(const n of this._data.values()){const o=n[t];"number"==typeof o&&(null==i||o>i)&&(e=n,i=o)}return e||null}min(t){let e=null,i=null;for(const n of this._data.values()){const o=n[t];"number"==typeof o&&(null==i||o<i)&&(e=n,i=o)}return e||null}distinct(t){const e=this._data,i=[...e.keys()],n=[];let o=0;for(let s=0,r=i.length;s<r;s++){const r=i[s],g=e.get(r)[t];let A=!1;for(let t=0;t<o;t++)if(n[t]==g){A=!0;break}A||void 0===g||(n[o]=g,o++)}return n}_addItem(t){const e=function(t,e){return null==t[e]&&(t[e]=Zh()),t}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}_updateItem(t){const e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");const i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,{...i,...t}),e}stream(t){if(t){const e=this._data;return new Hh({*[Symbol.iterator](){for(const i of t){const t=e.get(i);null!=t&&(yield[i,t])}}})}return new Hh({[Symbol.iterator]:this._data.entries.bind(this._data)})}get testLeakData(){return this._data}get testLeakIdProp(){return this._idProp}get testLeakOptions(){return this._options}get testLeakQueue(){return this._queue}set testLeakQueue(t){this._queue=t}}function Uh(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof e.map&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&function(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof e.map&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}(t,e.getDataSet())}console.warn("You're running a development build.");var Kh,Qh,Xh,qh,Jh,$h,tc,ec,ic,nc,oc={exports:{}},sc={};function rc(){if(Kh)return sc;Kh=1;var t=Ii(),e=B(),i=ai().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!e},{defineProperty:i}),sc}function gc(){if(Qh)return oc.exports;Qh=1,rc();var t=Ot().Object,e=oc.exports=function(e,i,n){return t.defineProperty(e,i,n)};return t.defineProperty.sham&&(e.sham=!0),oc.exports}function Ac(){return qh?Xh:(qh=1,Xh=gc())}function ac(){return $h?Jh:($h=1,Jh=Ac())}function Cc(){return ec?tc:(ec=1,tc=ac())}function Ic(){return nc?ic:(nc=1,ic=Cc())}var lc,hc,cc,dc,uc,pc,fc=s(Ic()),mc={},vc={},bc={};function yc(){if(lc)return bc;lc=1;var t=we();return bc.f=t,bc}function wc(){if(cc)return hc;cc=1;var t=Ot(),e=be(),i=yc(),n=ai().f;return hc=function(o){var s=t.Symbol||(t.Symbol={});e(s,o)||n(s,o,{value:i.f(o)})}}function xc(){if(uc)return dc;uc=1;var t=F(),e=Dt(),i=we(),n=PC();return dc=function(){var o=e("Symbol"),s=o&&o.prototype,r=s&&s.valueOf,g=i("toPrimitive");s&&!s[g]&&n(s,g,function(e){return t(r,this)},{arity:1})}}var Ec,kc,Tc,Sc={};function Oc(){return kc?Ec:(kc=1,Ec=Pt()&&!!Symbol.for&&!!Symbol.keyFor)}var Dc,Nc,Mc,Rc,Pc={},Lc={};function Bc(){if(Mc)return Nc;Mc=1;var t=T(),e=Xg(),i=D(),n=S(),o=cg(),s=t([].push);return Nc=function(t){if(i(t))return t;if(e(t)){for(var r=t.length,g=[],A=0;A<r;A++){var a=t[A];"string"==typeof a?s(g,a):"number"!=typeof a&&"Number"!==n(a)&&"String"!==n(a)||s(g,o(a))}var C=g.length,I=!0;return function(t,i){if(I)return I=!1,i;if(e(this))return i;for(var n=0;n<C;n++)if(g[n]===t)return i}}},Nc}function Fc(){if(Rc)return Lc;Rc=1;var t=Ii(),e=Dt(),i=k(),n=F(),o=T(),s=x(),r=D(),g=Bt(),A=tn(),a=Bc(),C=Pt(),I=String,l=e("JSON","stringify"),h=o(/./.exec),c=o("".charAt),d=o("".charCodeAt),u=o("".replace),p=o(1.1.toString),f=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,b=!C||s(function(){var t=e("Symbol")("stringify detection");return"[null]"!==l([t])||"{}"!==l({a:t})||"{}"!==l(Object(t))}),y=s(function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}),w=function(t,e){var o=A(arguments),s=a(e);if(r(s)||void 0!==t&&!g(t))return o[1]=function(t,e){if(r(s)&&(e=n(s,this,I(t),e)),!g(e))return e},i(l,null,o)},E=function(t,e,i){var n=c(i,e-1),o=c(i,e+1);return h(m,t)&&!h(v,o)||h(v,t)&&!h(m,n)?"\\u"+p(d(t,0),16):t};return l&&t({target:"JSON",stat:!0,arity:3,forced:b||y},{stringify:function(t,e,n){var o=A(arguments),s=i(b?w:l,null,o);return y&&"string"==typeof s?u(s,f,E):s}}),Lc}var _c,zc,Vc={};function Zc(){return zc||(zc=1,function(){if(pc)return vc;pc=1;var t=Ii(),e=w(),i=F(),n=T(),o=ue(),s=B(),r=Pt(),g=x(),A=be(),a=Nt(),C=Ai(),I=Tt(),l=Ee(),h=cg(),c=wt(),d=hr(),u=bi(),p=QC(),f=OI(),m=Ri(),v=Se(),b=ai(),y=Cr(),E=yt(),k=PC(),S=ZI(),O=me(),D=lr(),N=fi(),M=ye(),R=we(),P=yc(),L=wc(),_=xc(),z=FC(),V=DC(),Z=PA().forEach,W=D("hidden"),G="Symbol",j="prototype",H=V.set,Y=V.getterFor(G),U=Object[j],K=e.Symbol,Q=K&&K[j],X=e.RangeError,q=e.TypeError,J=e.QObject,$=v.f,tt=b.f,et=f.f,it=E.f,nt=n([].push),ot=O("symbols"),st=O("op-symbols"),rt=O("wks"),gt=!J||!J[j]||!J[j].findChild,At=function(t,e,i){var n=$(U,e);n&&delete U[e],tt(t,e,i),n&&t!==U&&tt(U,e,n)},at=s&&g(function(){return 7!==d(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a})?At:tt,Ct=function(t,e){var i=ot[t]=d(Q);return H(i,{type:G,tag:t,description:e}),s||(i.description=e),i},It=function(t,e,i){t===U&&It(st,e,i),C(t);var n=l(e);return C(i),A(ot,n)?(i.enumerable?(A(t,W)&&t[W][n]&&(t[W][n]=!1),i=d(i,{enumerable:c(0,!1)})):(A(t,W)||tt(t,W,c(1,d(null))),t[W][n]=!0),at(t,n,i)):tt(t,n,i)},lt=function(t,e){C(t);var n=I(e),o=u(n).concat(ut(n));return Z(o,function(e){s&&!i(ht,n,e)||It(t,e,n[e])}),t},ht=function(t){var e=l(t),n=i(it,this,e);return!(this===U&&A(ot,e)&&!A(st,e))&&(!(n||!A(this,e)||!A(ot,e)||A(this,W)&&this[W][e])||n)},ct=function(t,e){var i=I(t),n=l(e);if(i!==U||!A(ot,n)||A(st,n)){var o=$(i,n);return!o||!A(ot,n)||A(i,W)&&i[W][n]||(o.enumerable=!0),o}},dt=function(t){var e=et(I(t)),i=[];return Z(e,function(t){A(ot,t)||A(N,t)||nt(i,t)}),i},ut=function(t){var e=t===U,i=et(e?st:I(t)),n=[];return Z(i,function(t){!A(ot,t)||e&&!A(U,t)||nt(n,ot[t])}),n};r||(K=function(){if(a(Q,this))throw new q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,n=M(t),o=function(t){var s=void 0===this?e:this;s===U&&i(o,st,t),A(s,W)&&A(s[W],n)&&(s[W][n]=!1);var r=c(1,t);try{at(s,n,r)}catch(t){if(!(t instanceof X))throw t;At(s,n,r)}};return s&&gt&&at(U,n,{configurable:!0,set:o}),Ct(n,t)},k(Q=K[j],"toString",function(){return Y(this).tag}),k(K,"withoutSetter",function(t){return Ct(M(t),t)}),E.f=ht,b.f=It,y.f=lt,v.f=ct,p.f=f.f=dt,m.f=ut,P.f=function(t){return Ct(R(t),t)},s&&(S(Q,"description",{configurable:!0,get:function(){return Y(this).description}}),o||k(U,"propertyIsEnumerable",ht,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!r,sham:!r},{Symbol:K}),Z(u(rt),function(t){L(t)}),t({target:G,stat:!0,forced:!r},{useSetter:function(){gt=!0},useSimple:function(){gt=!1}}),t({target:"Object",stat:!0,forced:!r,sham:!s},{create:function(t,e){return void 0===e?d(t):lt(d(t),e)},defineProperty:It,defineProperties:lt,getOwnPropertyDescriptor:ct}),t({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:dt}),_(),z(K,G),N[W]=!0}(),function(){if(Tc)return Sc;Tc=1;var t=Ii(),e=Dt(),i=be(),n=cg(),o=me(),s=Oc(),r=o("string-to-symbol-registry"),g=o("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!s},{for:function(t){var o=n(t);if(i(r,o))return r[o];var s=e("Symbol")(o);return r[o]=s,g[s]=o,s}})}(),function(){if(Dc)return Pc;Dc=1;var t=Ii(),e=be(),i=Bt(),n=Ft(),o=me(),s=Oc(),r=o("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(t){if(!i(t))throw new TypeError(n(t)+" is not a symbol");if(e(r,t))return r[t]}})}(),Fc(),function(){if(_c)return Vc;_c=1;var t=Ii(),e=Pt(),i=x(),n=Ri(),o=ve();t({target:"Object",stat:!0,forced:!e||i(function(){n.f(1)})},{getOwnPropertySymbols:function(t){var e=n.f;return e?e(o(t)):[]}})}()),mc}var Wc,Gc,jc={};function Hc(){return Wc||(Wc=1,wc()("asyncDispose")),jc}var Yc,Uc,Kc,Qc={};function Xc(){return Yc||(Yc=1,wc()("dispose")),Qc}var qc,Jc,$c,td,ed,id,nd,od={};function sd(){return qc||(qc=1,wc()("iterator")),od}var rd,gd={};function Ad(){if(rd)return gd;rd=1;var t=wc(),e=xc();return t("toPrimitive"),e(),gd}var ad,Cd,Id,ld,hd,cd,dd,ud={},pd={};function fd(){return hd?ld:(hd=1,za(),Zc(),Hc(),Gc||(Gc=1,wc()("asyncIterator")),Xc(),Uc||(Uc=1,wc()("hasInstance")),Kc||(Kc=1,wc()("isConcatSpreadable")),sd(),Jc||(Jc=1,wc()("match")),$c||($c=1,wc()("matchAll")),td||(td=1,wc()("replace")),ed||(ed=1,wc()("search")),id||(id=1,wc()("species")),nd||(nd=1,wc()("split")),Ad(),function(){if(ad)return ud;ad=1;var t=Dt(),e=wc(),i=FC();e("toStringTag"),i(t("Symbol"),"Symbol")}(),Cd||(Cd=1,wc()("unscopables")),function(){if(Id)return pd;Id=1;var t=w();FC()(t.JSON,"JSON",!0)}(),ld=Ot().Symbol)}function md(){if(dd)return cd;dd=1;var t=fd();return pl(),cd=t}var vd,bd,yd,wd,xd,Ed,kd,Td,Sd,Od,Dd,Nd,Md,Rd,Pd,Ld,Bd,Fd,_d,zd,Vd,Zd,Wd,Gd,jd={};function Hd(){if(Ed)return xd;Ed=1;var t=md();return function(){if(vd)return jd;vd=1;var t=we(),e=ai().f,i=t("metadata"),n=Function.prototype;void 0===n[i]&&e(n,i,{value:null})}(),bd||(bd=1,Hc()),yd||(yd=1,Xc()),wd||(wd=1,wc()("metadata")),xd=t}function Yd(){if(Td)return kd;Td=1;var t=Dt(),e=T(),i=t("Symbol"),n=i.keyFor,o=e(i.prototype.valueOf);return kd=i.isRegisteredSymbol||function(t){try{return void 0!==n(o(t))}catch(t){return!1}}}function Ud(){if(Dd)return Od;Dd=1;for(var t=me(),e=Dt(),i=T(),n=Bt(),o=we(),s=e("Symbol"),r=s.isWellKnownSymbol,g=e("Object","getOwnPropertyNames"),A=i(s.prototype.valueOf),a=t("wks"),C=0,I=g(s),l=I.length;C<l;C++)try{var h=I[C];n(s[h])&&o(h)}catch(t){}return Od=function(t){if(r&&r(t))return!0;try{for(var e=A(t),i=0,n=g(a),o=n.length;i<o;i++)if(a[n[i]]==e)return!0}catch(t){}return!1},Od}function Kd(){if(Zd)return Vd;Zd=1;var t=Hd();return Sd||(Sd=1,Ii()({target:"Symbol",stat:!0},{isRegisteredSymbol:Yd()})),Nd||(Nd=1,Ii()({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Ud()})),Md||(Md=1,wc()("customMatcher")),Rd||(Rd=1,wc()("observable")),Pd||(Pd=1,Ii()({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Yd()})),Ld||(Ld=1,Ii()({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Ud()})),Bd||(Bd=1,wc()("matcher")),Fd||(Fd=1,wc()("metadataKey")),_d||(_d=1,wc()("patternMatch")),zd||(zd=1,wc()("replaceAll")),Vd=t}function Qd(){return Gd?Wd:(Gd=1,Wd=Kd())}var Xd,qd,Jd,$d,tu,eu,iu,nu,ou,su,ru=s(Qd());function gu(){return qd?Xd:(qd=1,HC(),rl(),sd(),Xd=yc().f("iterator"))}function Au(){if($d)return Jd;$d=1;var t=gu();return pl(),Jd=t}function au(){return eu?tu:(eu=1,tu=Au())}function Cu(){return nu?iu:(nu=1,iu=au())}function Iu(){return su?ou:(su=1,ou=Cu())}var lu,hu,cu,du,uu,pu,fu,mu,vu,bu,yu=s(Iu());function wu(t){return wu="function"==typeof ru&&"symbol"==typeof yu?function(t){return typeof t}:function(t){return t&&"function"==typeof ru&&t.constructor===ru&&t!==ru.prototype?"symbol":typeof t},wu(t)}function xu(){return hu?lu:(hu=1,Ad(),lu=yc().f("toPrimitive"))}function Eu(){return du?cu:(du=1,cu=xu())}function ku(){return pu?uu:(pu=1,uu=Eu())}function Tu(){return mu?fu:(mu=1,fu=ku())}function Su(){return bu?vu:(bu=1,vu=Tu())}var Ou=s(Su());function Du(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=wu(t)||!t)return t;var i=t[Ou];if(void 0!==i){var n=i.call(t,e);if("object"!=wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==wu(e)?e:e+""}(e))in t?fc(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Nu,Mu,Ru,Pu,Lu,Bu,Fu,_u,zu,Vu,Zu,Wu,Gu,ju={};function Hu(){return Mu?Nu:(Mu=1,Nu="\t\n\v\f\r                　\u2028\u2029\ufeff")}function Yu(){if(Pu)return Ru;Pu=1;var t=T(),e=kt(),i=cg(),n=Hu(),o=t("".replace),s=RegExp("^["+n+"]+"),r=RegExp("(^|[^"+n+"])["+n+"]+$"),g=function(t){return function(n){var g=i(e(n));return 1&t&&(g=o(g,s,"")),2&t&&(g=o(g,r,"$1")),g}};return Ru={start:g(1),end:g(2),trim:g(3)}}function Uu(){if(Bu)return Lu;Bu=1;var t=w(),e=x(),i=T(),n=cg(),o=Yu().trim,s=Hu(),r=t.parseInt,g=t.Symbol,A=g&&g.iterator,a=/^[+-]?0x/i,C=i(a.exec),I=8!==r(s+"08")||22!==r(s+"0x16")||A&&!e(function(){r(Object(A))});return Lu=I?function(t,e){var i=o(n(t));return r(i,e>>>0||(C(a,i)?16:10))}:r,Lu}function Ku(){return zu?_u:(zu=1,function(){if(Fu)return ju;Fu=1;var t=Ii(),e=Uu();t({global:!0,forced:parseInt!==e},{parseInt:e})}(),_u=Ot().parseInt)}function Qu(){return Zu?Vu:(Zu=1,Vu=Ku())}var Xu,qu,Ju,$u,tp,ep,ip,np,op,sp=s(Gu?Wu:(Gu=1,Wu=Qu())),rp={};function gp(){if(qu)return Xu;qu=1;var t=w(),e=x(),i=T(),n=cg(),o=Yu().trim,s=Hu(),r=i("".charAt),g=t.parseFloat,A=t.Symbol,a=A&&A.iterator,C=1/g(s+"-0")!=-1/0||a&&!e(function(){g(Object(a))});return Xu=C?function(t){var e=o(n(t)),i=g(e);return 0===i&&"-"===r(e,0)?-0:i}:g,Xu}function Ap(){return tp?$u:(tp=1,function(){if(Ju)return rp;Ju=1;var t=Ii(),e=gp();t({global:!0,forced:parseFloat!==e},{parseFloat:e})}(),$u=Ot().parseFloat)}function ap(){return ip?ep:(ip=1,ep=Ap())}var Cp,Ip,lp,hp,cp,dp,up,pp,fp,mp=s(op?np:(op=1,np=ap())),vp={};function bp(){return lp?Ip:(lp=1,function(){if(Cp)return vp;Cp=1;var t=Ii(),e=PA().filter;t({target:"Array",proto:!0,forced:!sA()("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),Ip=nn()("Array","filter"))}function yp(){if(cp)return hp;cp=1;var t=Nt(),e=bp(),i=Array.prototype;return hp=function(n){var o=n.filter;return n===i||t(i,n)&&o===i.filter?e:o}}function wp(){return up?dp:(up=1,dp=yp())}var xp,Ep,kp,Tp,Sp,Op,Dp,Np=s(fp?pp:(fp=1,pp=wp())),Mp={};function Rp(){if(xp)return Mp;xp=1;var t=Ii(),e=x(),i=OI().f;return t({target:"Object",stat:!0,forced:e(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i}),Mp}function Pp(){if(kp)return Ep;kp=1,Rp();var t=Ot().Object;return Ep=function(e){return t.getOwnPropertyNames(e)}}function Lp(){return Sp?Tp:(Sp=1,Tp=Pp())}var Bp,Fp,_p,zp,Vp,Zp,Wp=s(Dp?Op:(Dp=1,Op=Lp()));function Gp(){return Fp?Bp:(Fp=1,Zc(),Bp=Ot().Object.getOwnPropertySymbols)}function jp(){return zp?_p:(zp=1,_p=Gp())}var Hp,Yp,Up,Kp,Qp,Xp,qp=s(Zp?Vp:(Zp=1,Vp=jp())),Jp={exports:{}},$p={};function tf(){if(Yp)return Jp.exports;Yp=1,function(){if(Hp)return $p;Hp=1;var t=Ii(),e=x(),i=Tt(),n=Se().f,o=B();t({target:"Object",stat:!0,forced:!o||e(function(){n(1)}),sham:!o},{getOwnPropertyDescriptor:function(t,e){return n(i(t),e)}})}();var t=Ot().Object,e=Jp.exports=function(e,i){return t.getOwnPropertyDescriptor(e,i)};return t.getOwnPropertyDescriptor.sham&&(e.sham=!0),Jp.exports}function ef(){return Kp?Up:(Kp=1,Up=tf())}var nf,of,sf,rf,gf,Af,af,Cf,If,lf=s(Xp?Qp:(Xp=1,Qp=ef())),hf={};function cf(){if(of)return nf;of=1;var t=Dt(),e=T(),i=QC(),n=Ri(),o=Ai(),s=e([].concat);return nf=t("Reflect","ownKeys")||function(t){var e=i.f(o(t)),r=n.f;return r?s(e,r(t)):e},nf}function df(){return gf?rf:(gf=1,function(){if(sf)return hf;sf=1;var t=Ii(),e=B(),i=cf(),n=Tt(),o=Se(),s=nA();t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){for(var e,r,g=n(t),A=o.f,a=i(g),C={},I=0;a.length>I;)void 0!==(r=A(g,e=a[I++]))&&s(C,e,r);return C}})}(),rf=Ot().Object.getOwnPropertyDescriptors)}function uf(){return af?Af:(af=1,Af=df())}var pf,ff,mf,vf,bf,yf,wf=s(If?Cf:(If=1,Cf=uf())),xf={exports:{}},Ef={};function kf(){if(pf)return Ef;pf=1;var t=Ii(),e=B(),i=Cr().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!e},{defineProperties:i}),Ef}function Tf(){if(ff)return xf.exports;ff=1,kf();var t=Ot().Object,e=xf.exports=function(e,i){return t.defineProperties(e,i)};return t.defineProperties.sham&&(e.sham=!0),xf.exports}function Sf(){return vf?mf:(vf=1,mf=Tf())}var Of,Df,Nf=s(yf?bf:(yf=1,bf=Sf())),Mf=s(Df?Of:(Df=1,Of=Ac()));function Rf(t,e){const i=["node","edge","label"];let n=!0;const o=Bs(e,"chosen");if("boolean"==typeof o)n=o;else if("object"==typeof o){if(-1===_r(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");const o=Bs(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(n=o)}return n}function Pf(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){const t={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){const n=-i.angle;e={x:Math.cos(n)*t.x-Math.sin(n)*t.y,y:Math.sin(n)*t.x+Math.cos(n)*t.y}}else e=t}const n=t.x+t.width,o=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&o>e.y}function Lf(t){return"string"==typeof t&&""!==t}function Bf(t,e,i,n){let o=n.x,s=n.y;if("function"==typeof n.distanceToBorder){const i=n.distanceToBorder(t,e),r=Math.sin(e)*i,g=Math.cos(e)*i;g===i?(o+=i,s=n.y):r===i?(o=n.x,s-=i):(o+=g,s-=r)}else n.shape.width>n.shape.height?(o=n.x+.5*n.shape.width,s=n.y-i):(o=n.x+i,s=n.y-.5*n.shape.height);return{x:o,y:s}}var Ff,_f,zf,Vf,Zf,Wf,Gf,jf,Hf,Yf={};function Uf(){return zf?_f:(zf=1,function(){if(Ff)return Yf;Ff=1;var t=Ii(),e=Xg(),i=tA(),n=St(),o=ci(),s=ui(),r=Tt(),g=nA(),A=we(),a=sA(),C=tn(),I=a("slice"),l=A("species"),h=Array,c=Math.max;t({target:"Array",proto:!0,forced:!I},{slice:function(t,A){var a,I,d,u=r(this),p=s(u),f=o(t,p),m=o(void 0===A?p:A,p);if(e(u)&&(a=u.constructor,(i(a)&&(a===h||e(a.prototype))||n(a)&&null===(a=a[l]))&&(a=void 0),a===h||void 0===a))return C(u,f,m);for(I=new(void 0===a?h:a)(c(m-f,0)),d=0;f<m;f++,d++)f in u&&g(I,d,u[f]);return I.length=d,I}})}(),_f=nn()("Array","slice"))}function Kf(){if(Zf)return Vf;Zf=1;var t=Nt(),e=Uf(),i=Array.prototype;return Vf=function(n){var o=n.slice;return n===i||t(i,n)&&o===i.slice?e:o}}function Qf(){return Gf?Wf:(Gf=1,Wf=Kf())}var Xf,qf,Jf,$f,tm,em,im,nm,om=s(Hf?jf:(Hf=1,jf=Qf()));function sm(){return qf?Xf:(qf=1,HC(),Xf=nn()("Array","values"))}function rm(){return $f?Jf:($f=1,Jf=sm())}function gm(){if(em)return tm;em=1,pl();var t=hg(),e=be(),i=Nt(),n=rm(),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return tm=function(r){var g=r.values;return r===o||i(o,r)&&g===o.values||e(s,t(r))?n:g}}var Am=s(nm?im:(nm=1,im=gm()));class am{constructor(t){this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});let n=e;void 0!==e&&""!==e||(n=" ");const o=this.measureText(n,i),s=Ji({},Am(o));s.text=e,s.width=o.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}curWidth(){const t=this.lines[this.current];return void 0===t?0:t.width}append(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}newLine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}determineLineHeights(){for(let t=0;t<this.lines.length;t++){const e=this.lines[t];let i=0;if(void 0!==e.blocks)for(let t=0;t<e.blocks.length;t++){const n=e.blocks[t];i<n.height&&(i=n.height)}e.height=i}}determineLabelSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}removeEmptyBlocks(){const t=[];for(let e=0;e<this.lines.length;e++){const i=this.lines[e];if(0===i.blocks.length)continue;if(e===this.lines.length-1&&0===i.width)continue;const n={};let o;Ji(n,i),n.blocks=[];const s=[];for(let t=0;t<i.blocks.length;t++){const e=i.blocks[t];0!==e.width?s.push(e):void 0===o&&(o=e)}0===s.length&&void 0!==o&&s.push(o),n.blocks=s,t.push(n)}return t}finalize(){this.determineLineHeights(),this.determineLabelSize();const t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}const Cm={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class Im{constructor(t){this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}parseWS(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}setTag(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}unsetTag(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}parseStartTag(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}match(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[i,n]=this.prepareRegExp(t),o=i.test(this.text.substr(this.position,n));return o&&e&&(this.position+=n-1),o}parseEndTag(t,e,i){let n=this.mod()===t;return n="mono"===t?n&&this.mono:n&&!this.mono,!(!n||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}replace(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}prepareRegExp(t){let e,i;if(t instanceof RegExp)i=t,e=1;else{const n=Cm[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}class lm{constructor(t,e,i,n){this.ctx=t,this.parent=e,this.selected=i,this.hover=n,this.lines=new am((e,o)=>{if(void 0===e)return 0;const s=this.parent.getFormattingValues(t,i,n,o);let r=0;return""!==e&&(r=this.ctx.measureText(e).width),{width:r,values:s}})}process(t){if(!Lf(t))return this.lines.finalize();const e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");const i=String(t).split("\n"),n=i.length;if(e.multi)for(let t=0;t<n;t++){const n=this.splitBlocks(i[t],e.multi);if(void 0!==n)if(0!==n.length){if(e.maxWdt>0)for(let t=0;t<n.length;t++){const e=n[t].mod,i=n[t].text;this.splitStringIntoLines(i,e,!0)}else for(let t=0;t<n.length;t++){const e=n[t].mod,i=n[t].text;this.lines.append(i,e)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(let t=0;t<n;t++)this.splitStringIntoLines(i[t]);else for(let t=0;t<n;t++)this.lines.newLine(i[t]);return this.lines.finalize()}decodeMarkupSystem(t){let e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}splitHtmlBlocks(t){const e=new Im(t),i=t=>!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0);for(;e.position<e.text.length;){const t=e.text.charAt(e.position);e.parseWS(t)||/</.test(t)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(t)||e.add(t),e.position++}return e.emitBlock(),e.blocks}splitMarkdownBlocks(t){const e=new Im(t);let i=!0;const n=t=>!!/\\/.test(t)&&(e.position<this.text.length+1&&(e.position++,t=this.text.charAt(e.position),/ \t/.test(t)?e.spacing=!0:(e.add(t),i=!1)),!0);for(;e.position<e.text.length;){const t=e.text.charAt(e.position);e.parseWS(t)||n(t)||(i||e.spacing)&&(e.parseStartTag("bold","*")||e.parseStartTag("ital","_")||e.parseStartTag("mono","`"))||e.parseEndTag("bold","*","afterBold")||e.parseEndTag("ital","_","afterItal")||e.parseEndTag("mono","`","afterMono")||(e.add(t),i=!1),e.position++}return e.emitBlock(),e.blocks}splitBlocks(t,e){const i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}overMaxWidth(t){const e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}getLongestFit(t){let e="",i=0;for(;i<t.length;){const n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}getLongestFitWord(t){let e=0;for(;e<t.length&&!this.overMaxWidth(om(t).call(t,0,e));)e++;return e}splitStringIntoLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);let n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;n.length>0;){let t=this.getLongestFit(n);if(0===t){const t=n[0],i=this.getLongestFitWord(t);this.lines.newLine(om(t).call(t,0,i),e),n[0]=om(t).call(t,i)}else{let o=t;" "===n[t-1]?t--:" "===n[o]&&o++;const s=om(n).call(n,0,t).join("");t==n.length&&i?this.lines.append(s,e):this.lines.newLine(s,e),n=om(n).call(n,o)}}}}const hm=["bold","ital","boldital","mono"];class cm{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(t){if(this.elementOptions=t,this.initFontOptions(t.font),Lf(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"==typeof t.font){const e=t.font.size;void 0!==e&&(this.baseSize=e)}}initFontOptions(t){ws(hm,t=>{this.fontOptions[t]={}}),cm.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:ws(t,(t,e)=>{null!=t&&"object"!=typeof t&&(this.fontOptions[e]=t)})}static parseFontString(t,e){if(!e||"string"!=typeof e)return!1;const i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}constrain(t){const e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Bs(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"==typeof i){const i=Bs(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));const n=Bs(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}const n=Bs(t,"heightConstraint");if("number"==typeof n)e.minHgt=Number(n);else if("object"==typeof n){const i=Bs(t,["heightConstraint","minimum"]);"number"==typeof i&&(e.minHgt=Number(i));const n=Bs(t,["heightConstraint","valign"]);"string"==typeof n&&("top"!==n&&"bottom"!==n||(e.valign=n))}return e}update(t,e){this.setOptions(t,!0),this.propagateFonts(e),ms(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Rf("label",e)}adjustSizes(t){const e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);const i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(t,e){for(let i=0;i<e.length;++i)this.addFontToPile(t,e[i])}addFontToPile(t,e){if(void 0===e)return;if(void 0===e.font||null===e.font)return;const i=e.font;t.push(i)}getBasicOptions(t){const e={};for(let i=0;i<t.length;++i){let n=t[i];const o={};cm.parseFontString(o,n)&&(n=o),ws(n,(t,i)=>{void 0!==t&&(Object.prototype.hasOwnProperty.call(e,i)||(-1!==_r(hm).call(hm,i)?e[i]={}:e[i]=t))})}return e}getFontOption(t,e,i){let n;for(let o=0;o<t.length;++o){const s=t[o];if(Object.prototype.hasOwnProperty.call(s,e)){if(n=s[e],null==n)continue;const t={};if(cm.parseFontString(t,n)&&(n=t),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(t,e){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const s=n[o];i[s]=this.getFontOption(t,e,s)}return i}propagateFonts(t){const e=[];this.addFontOptionsToPile(e,t),this.fontOptions=this.getBasicOptions(e);for(let t=0;t<hm.length;++t){const i=hm[t],n=this.fontOptions[i];ws(this.getFontOptions(e,i),(t,e)=>{n[e]=t}),n.size=Number(n.size),n.vadjust=Number(n.vadjust)}}draw(t,e,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;let r=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&r<this.elementOptions.scaling.label.drawThreshold-1||(r>=this.elementOptions.scaling.label.maxVisible&&(r=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,s),this._drawBackground(t),this._drawText(t,e,this.size.yLine,s,r))}_drawBackground(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;const e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}_drawText(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[e,i]=this._setAlignment(t,e,i,n),t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(let n=0;n<this.lineCount;n++){const s=this.lines[n];if(s&&s.blocks){let n=0;this.isEdgeLabel||"center"===this.fontOptions.align?n+=(this.size.width-s.width)/2:"right"===this.fontOptions.align&&(n+=this.size.width-s.width);for(let r=0;r<s.blocks.length;r++){const g=s.blocks[r];t.font=g.font;const[A,a]=this._getColor(g.color,o,g.strokeColor);g.strokeWidth>0&&(t.lineWidth=g.strokeWidth,t.strokeStyle=a,t.lineJoin="round"),t.fillStyle=A,g.strokeWidth>0&&t.strokeText(g.text,e+n,i+g.vadjust),t.fillText(g.text,e+n,i+g.vadjust),n+=g.width}i+=s.height}}}_setAlignment(t,e,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;const n=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*n):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*n):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}_getColor(t,e,i){let n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){const t=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=Es(n,t),o=Es(o,t)}return[n,o]}getTextSize(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){const i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}calculateLabelSize(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(t,e,i,n){const o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,e,i));let r="";return void 0!==s.mod&&""!==s.mod&&(r+=s.mod+" "),r+=s.size+"px "+s.face,t.font=r.replace(/"/g,""),s.font=t.font,s.height=s.size,s}differentState(t,e){return t!==this.selectedState||e!==this.hoverState}_processLabelText(t,e,i,n){return new lm(t,this,e,i).process(n)}_processLabel(t,e,i){if(!1===this.labelDirty&&!this.differentState(e,i))return;const n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}visible(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}var dm,um,pm,fm,mm,vm,bm,ym,wm,xm,Em,km={};function Tm(){if(um)return dm;um=1;var t=ve(),e=ci(),i=ui();return dm=function(n){for(var o=t(this),s=i(o),r=arguments.length,g=e(r>1?arguments[1]:void 0,s),A=r>2?arguments[2]:void 0,a=void 0===A?s:e(A,s);a>g;)o[g++]=n;return o},dm}function Sm(){return mm?fm:(mm=1,function(){if(pm)return km;pm=1;var t=Ii(),e=Tm(),i=Vr();t({target:"Array",proto:!0},{fill:e}),i("fill")}(),fm=nn()("Array","fill"))}function Om(){if(bm)return vm;bm=1;var t=Nt(),e=Sm(),i=Array.prototype;return vm=function(n){var o=n.fill;return n===i||t(i,n)&&o===i.fill?e:o}}function Dm(){return wm?ym:(wm=1,ym=Om())}var Nm=s(Em?xm:(Em=1,xm=Dm()));class Mm{constructor(t,e,i){this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(t){this.options=t}_setMargins(t){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}_distanceToBorder(t,e){const i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}enableShadow(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}enableBorderDashes(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){let i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}disableBorderDashes(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}needsRefresh(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}initContextForDraw(t,e){const i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}performStroke(t,e){const i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}performFill(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Nm(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}_addBoundingBoxMargin(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}_updateBoundingBox(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}getDimensionsFromLabel(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);let n=this.textSize.width,o=this.textSize.height;return 0===n&&(n=14,o=14),{width:n,height:o}}}let Rm=class extends Mm{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),an(t,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(t,e){t&&this.resize(t);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}};class Pm extends Mm{constructor(t,e,i){super(t,e,i),this.labelOffset=0,this.selected=!1}setOptions(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}setImages(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}switchImages(t){const e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){const t=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=t}}_getImagePadding(){const t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const e=this.options.imagePadding;"object"==typeof e?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}_resizeImage(){let t,e;if(!1===this.options.shapeProperties.useImageSize){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{const i=this._getImagePadding();t=this.imageObj.width+i.left+i.right,e=this.imageObj.height+i.top+i.bottom}this.width=t,this.height=e,this.radius=.5*this.width}_drawRawCircle(t,e,i,n){this.initContextForDraw(t,n),An(t,e,i,n.size),this.performFill(t,n)}_drawImageAtPosition(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);let i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,s=this.top+n.top,r=this.width-n.left-n.right,g=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(t,i,o,s,r,g),this.disableShadow(t,e)}}_drawImageLabel(t,e,i,n,o){let s=0;if(void 0!==this.height){s=.5*this.height;const e=this.labelModule.getTextSize(t,n,o);e.lineCount>=1&&(s+=e.height/2)}const r=i+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,n,o,"hanging")}}let Lm=class extends Pm{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,s),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(t){return t&&this.resize(t),.5*this.width}};class Bm extends Pm{constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const t=2*this.options.size;return this.width=t,this.height=t,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,s){this.switchImages(n),this.resize();let r=e,g=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,r+=this.width/2,g+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,r,g,s),t.save(),t.clip(),this._drawImageAtPosition(t,s),t.restore(),this._drawImageLabel(t,r,g,n,o),this.updateBoundingBox(e,i)}updateBoundingBox(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class Fm extends Mm{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var o,s;this.labelModule.getTextSize(t,e,i);const r=2*n.size;this.width=null!==(o=this.customSizeWidth)&&void 0!==o?o:r,this.height=null!==(s=this.customSizeHeight)&&void 0!==s?s:r,this.radius=.5*this.width}}_drawShape(t,e,i,n,o,s,r,g){var A;return this.resize(t,s,r,g),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,g),(A=e,Object.prototype.hasOwnProperty.call(hn,A)?hn[A]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[A].call(t,i)})(t,n,o,g.size),this.performFill(t,g),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(void 0!==this.options.label){this.labelModule.calculateLabelSize(t,s,r,n,o,"hanging");const e=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,e,s,r,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function _m(t,e){var i=ah(t);if(qp){var n=qp(t);e&&(n=Np(n).call(n,function(e){return lf(t,e).enumerable})),i.push.apply(i,n)}return i}function zm(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?zA(i=_m(Object(o),!0)).call(i,function(e){Du(t,e,o[e])}):wf?Nf(t,wf(o)):zA(n=_m(Object(o))).call(n,function(e){Mf(t,e,lf(o,e))})}return t}class Vm extends Fm{constructor(t,e,i,n){super(t,e,i,n),this.ctxRenderer=n}draw(t,e,i,n,o,s){this.resize(t,n,o,s),this.left=e-this.width/2,this.top=i-this.height/2,t.save();const r=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:n,hover:o},style:zm({},s),label:this.options.label});if(null!=r.drawNode&&r.drawNode(),t.restore(),r.drawExternalLabel){const e=r.drawExternalLabel;r.drawExternalLabel=()=>{t.save(),e(),t.restore()}}return r.nodeDimensions&&(this.customSizeWidth=r.nodeDimensions.width,this.customSizeHeight=r.nodeDimensions.height),r}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Zm extends Mm{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}draw(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,s),In(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let Wm=class extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"diamond",4,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class Gm extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"circle",2,e,i,n,o,s)}distanceToBorder(t){return t&&this.resize(t),this.options.size}}class jm extends Mm{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}draw(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,s),Cn(t,this.left,this.top,this.width,this.height),this.performFill(t,s),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}distanceToBorder(t,e){t&&this.resize(t);const i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,s=Math.cos(e)*n;return i*n/Math.sqrt(o*o+s*s)}}class Hm extends Mm{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,s){return this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,s),{drawExternalLabel:()=>{if(void 0!==this.options.label){const e=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+e,n)}this.updateBoundingBox(e,i)}}}updateBoundingBox(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){const t=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+t)}}_icon(t,e,i,n,o,s){const r=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+r+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,s),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let Ym=class extends Pm{constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const t=2*this.options.size;return this.width=t,void(this.height=t)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,s){t.save(),this.switchImages(n),this.resize();let r=e,g=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,r+=this.width/2,g+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){const e=this.options.borderWidth,i=this.options.borderWidthSelected||2*this.options.borderWidth,r=(n?i:e)/this.body.view.scale;t.lineWidth=Math.min(this.width,r),t.beginPath();let g=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,A=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;void 0!==s.opacity&&(g=Es(g,s.opacity),A=Es(A,s.opacity)),t.strokeStyle=g,t.fillStyle=A,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Nm(t).call(t),this.performStroke(t,s),t.closePath()}this._drawImageAtPosition(t,s),this._drawImageLabel(t,r,g,n,o),this.updateBoundingBox(e,i),t.restore()}updateBoundingBox(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class Um extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"square",2,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Km extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"hexagon",4,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Qm extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"star",4,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Xm extends Mm{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,s){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,s),this.updateBoundingBox(e,i,t,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let qm=class extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"triangle",3,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class Jm extends Fm{constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,s){return this._drawShape(t,"triangleDown",3,e,i,n,o,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}function $m(t,e){var i=ah(t);if(qp){var n=qp(t);e&&(n=Np(n).call(n,function(e){return lf(t,e).enumerable})),i.push.apply(i,n)}return i}function tv(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?zA(i=$m(Object(o),!0)).call(i,function(e){Du(t,e,o[e])}):wf?Nf(t,wf(o)):zA(n=$m(Object(o))).call(n,function(e){Mf(t,e,lf(o,e))})}return t}class ev{constructor(t,e,i,n,o,s){this.options=Rs(o),this.globalOptions=o,this.defaultOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new cm(this.body,this.options,!1),this.setOptions(t)}attachEdge(t){var e;-1===_r(e=this.edges).call(e,t)&&this.edges.push(t)}detachEdge(t){var e;const i=_r(e=this.edges).call(e,t);var n;-1!=i&&uA(n=this.edges).call(n,i,1)}setOptions(t){const e=this.options.shape;if(!t)return;if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");ev.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=sp(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=sp(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=mp(t.value)),ev.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);const i=[t,this.options,this.defaultOptions];return this.chooser=Rf("node",i),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&ev.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(t){return 0<=t&&t<=1}static checkCoordinateOrigin(t){return void 0===t||"center"===t||"top-left"===t}static updateGroupOptions(t,e,i){var n;if(void 0===i)return;const o=t.group;if(void 0!==e&&void 0!==e.group&&o!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"!=typeof o&&("string"!=typeof o||""==o))return;const s=i.get(o);void 0!==s.opacity&&void 0===e.opacity&&(ev.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));const r=Np(n=Wp(e)).call(n,t=>null!=e[t]);r.push("font"),fs(r,t,s),t.color=Ts(t.color)}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(fs(["color","fixed","shadow"],t,e,i),ev.checkMass(e),void 0!==t.opacity&&(ev.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==e.opacity&&(ev.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),e.shapeProperties&&!ev.checkCoordinateOrigin(e.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+e.shapeProperties.coordinateOrigin),Ps(t,e,"shadow",n),void 0!==e.color&&null!==e.color){const i=Ts(e.color);us(t.color,i)}else!0===i&&null===e.color&&(t.color=Rs(n.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===i&&null===e.font&&(t.font=Rs(n.font)),ev.updateGroupOptions(t,e,o),void 0!==e.scaling&&Ps(t.scaling,e.scaling,"label",n.scaling)}getFormattingValues(){const t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){const e=this.options.opacity;t.borderColor=Es(t.borderColor,e),t.color=Es(t.color,e),t.shadowColor=Es(t.shadowColor,e)}return t}updateLabelModule(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),ev.updateGroupOptions(this.options,tv(tv({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);const e=this.grouplist.get(this.options.group,!1),i=[t,this.options,e,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Rm(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Lm(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Bm(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Vm(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Zm(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Wm(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Gm(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new jm(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Hm(this.options,this.body,this.labelModule);break;case"image":this.shape=new Ym(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Um(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Km(this.options,this.body,this.labelModule);break;case"star":this.shape=new Qm(this.options,this.body,this.labelModule);break;case"text":this.shape=new Xm(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new qm(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Jm(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(t,e){return this.shape.distanceToBorder(t,e)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(t){const e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}updateBoundingBox(t){this.shape.updateBoundingBox(this.x,this.y,t)}resize(t){const e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}getItemsOnPoint(t){const e=[];return this.labelModule.visible()&&Pf(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),Pf(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}isOverlappingWith(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}isBoundingBoxOverlappingWith(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}static checkMass(t,e){if(void 0!==t.mass&&t.mass<=0){let i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Us),t.mass=1}}}class iv{constructor(t,e,i,n){var o;if(this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=gn(o=this.create).call(o,this),this.nodesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items,e.data,e.oldData)},remove:(t,e)=>{this.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Rs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e;this.body.emitter.on("refreshNodes",gn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",gn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{ws(this.nodesListeners,(t,e)=>{this.body.data.nodes&&this.body.data.nodes.off(e,t)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(t){if(void 0!==t){if(ev.parseOptions(this.options,t),void 0!==t.opacity&&(zl(t.opacity)||!Xl(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(const t of ah(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(void 0!==t.size)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.data.nodes;if(Uh("id",t))this.body.data.nodes=t;else if(MA(t))this.body.data.nodes=new Yh,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Yh}if(i&&ws(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){const t=this;ws(this.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});const e=this.body.data.nodes.getIds();this.add(e,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let i=0;i<t.length;i++){e=t[i];const o=this.body.data.nodes.get(e),s=this.create(o);n.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}update(t,e,i){const n=this.body.nodes;let o=!1;for(let i=0;i<t.length;i++){const s=t[i];let r=n[s];const g=e[i];void 0!==r?r.setOptions(g)&&(o=!0):(o=!0,r=this.create(g),n[s]=r)}o||void 0===i||(o=bh(e).call(e,function(t,e){const n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(t){const e=this.body.nodes;for(let i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}create(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ev)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ws(this.body.nodes,(e,i)=>{const n=this.body.data.nodes.get(i);void 0!==n&&(!0===t&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(n))})}getPositions(t){const e={};if(void 0!==t){if(!0===MA(t)){for(let i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){const n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];e[t]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let t=0;t<this.body.nodeIndices.length;t++){const i=this.body.nodes[this.body.nodeIndices[t]];e[this.body.nodeIndices[t]]={x:Math.round(i.x),y:Math.round(i.y)}}return e}getPosition(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}storePositions(){const t=[],e=this.body.data.nodes.getDataSet();for(const i of e.get()){const e=i.id,n=this.body.nodes[e],o=Math.round(n.x),s=Math.round(n.y);i.x===o&&i.y===s||t.push({id:e,x:o,y:s})}e.update(t)}getBoundingBox(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}getConnectedNodes(t,e){const i=[];if(void 0!==this.body.nodes[t]){const n=this.body.nodes[t],o={};for(let t=0;t<n.edges.length;t++){const s=n.edges[t];"to"!==e&&s.toId==n.id?void 0===o[s.fromId]&&(i.push(s.fromId),o[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===o[s.toId]&&(i.push(s.toId),o[s.toId]=!0)}}return i}getConnectedEdges(t){const e=[];if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];for(let t=0;t<i.edges.length;t++)e.push(i.edges[t].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}moveNode(t,e,i){void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),Bh(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}var nv,ov,sv,rv,gv,Av,av,Cv,Iv,lv,hv,cv,dv,uv={};function pv(){if(ov)return nv;ov=1;var t=hi(),e=cg(),i=kt(),n=RangeError;return nv=function(o){var s=e(i(this)),r="",g=t(o);if(g<0||g===1/0)throw new n("Wrong number of repetitions");for(;g>0;(g>>>=1)&&(s+=s))1&g&&(r+=s);return r}}function fv(){if(rv)return sv;rv=1;var t=T(),e=di(),i=cg(),n=pv(),o=kt(),s=t(n),r=t("".slice),g=Math.ceil,A=function(t){return function(n,A,a){var C,I,l=i(o(n)),h=e(A),c=l.length,d=void 0===a?" ":i(a);return h<=c||""===d?l:((I=s(d,g((C=h-c)/d.length))).length>C&&(I=r(I,0,C)),t?l+I:I+l)}};return sv={start:A(!1),end:A(!0)}}function mv(){if(Av)return gv;Av=1;var t=T(),e=x(),i=fv().start,n=RangeError,o=isFinite,s=Math.abs,r=Date.prototype,g=r.toISOString,A=t(r.getTime),a=t(r.getUTCDate),C=t(r.getUTCFullYear),I=t(r.getUTCHours),l=t(r.getUTCMilliseconds),h=t(r.getUTCMinutes),c=t(r.getUTCMonth),d=t(r.getUTCSeconds);return gv=e(function(){return"0385-07-25T07:06:39.999Z"!==g.call(new Date(-50000000000001))})||!e(function(){g.call(new Date(NaN))})?function(){if(!o(A(this)))throw new n("Invalid time value");var t=this,e=C(t),r=l(t),g=e<0?"-":e>9999?"+":"";return g+i(s(e),g?6:4,0)+"-"+i(c(t)+1,2,0)+"-"+i(a(t),2,0)+"T"+i(I(t),2,0)+":"+i(h(t),2,0)+":"+i(d(t),2,0)+"."+i(r,3,0)+"Z"}:g}function vv(){if(Iv)return Cv;Iv=1,function(){if(av)return uv;av=1;var t=Ii(),e=F(),i=ve(),n=xe(),o=mv(),s=S();t({target:"Date",proto:!0,forced:x()(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function(t){var r=i(this),g=n(r,"number");return"number"!=typeof g||isFinite(g)?"toISOString"in r||"Date"!==s(r)?r.toISOString():e(o,r):null}})}(),Fc();var t=Ot(),e=k();return t.JSON||(t.JSON={stringify:JSON.stringify}),Cv=function(i,n,o){return e(t.JSON.stringify,null,arguments)},Cv}function bv(){return hv?lv:(hv=1,lv=vv())}var yv,wv,xv,Ev,kv,Tv,Sv,Ov=s(dv?cv:(dv=1,cv=bv())),Dv={};function Nv(){return xv?wv:(xv=1,function(){if(yv)return Dv;yv=1;var t=Ii(),e=Math.hypot,i=Math.abs,n=Math.sqrt;t({target:"Math",stat:!0,arity:2,forced:!!e&&e(1/0,NaN)!==1/0},{hypot:function(t,e){for(var o,s,r=0,g=0,A=arguments.length,a=0;g<A;)a<(o=i(arguments[g++]))?(r=r*(s=a/o)*s+1,a=o):r+=o>0?(s=o/a)*s:o;return a===1/0?1/0:a*n(r)}})}(),wv=Ot().Math.hypot)}function Mv(){return kv?Ev:(kv=1,Ev=Nv())}var Rv=s(Sv?Tv:(Sv=1,Tv=Mv()));class Pv{static transform(t,e){MA(t)||(t=[t]);const i=e.point.x,n=e.point.y,o=e.angle,s=e.length;for(let e=0;e<t.length;++e){const r=t[e],g=r.x*Math.cos(o)-r.y*Math.sin(o),A=r.x*Math.sin(o)+r.y*Math.cos(o);r.x=i+s*g,r.y=n+s*A}}static drawPath(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}let Lv=class extends Pv{static draw(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);const i=null!=e.imageWidth?e.imageWidth:e.image.width,n=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,n),t.restore()}return!1}};class Bv extends Pv{static draw(t,e){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Fv{static draw(t,e){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class _v{static draw(t,e){const i={x:-.4,y:0};Pv.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle-n/2,s=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,s,!1),t.stroke(),!0}}class zv{static draw(t,e){const i={x:-.3,y:0};Pv.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle+n/2,s=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,s,!1),t.stroke(),!0}}class Vv{static draw(t,e){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Zv{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Wv{static draw(t,e){const i={x:-.4,y:0};return Pv.transform(i,e),An(t,i.x,i.y,.4*e.length),!0}}class Gv{static draw(t,e){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class jv{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Hv{static draw(t,e){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Yv{static draw(t,e){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Pv.transform(i,e),Pv.drawPath(t,i),!0}}class Uv{static draw(t,e){let i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return Lv.draw(t,e);case"circle":return Wv.draw(t,e);case"box":return jv.draw(t,e);case"crow":return Fv.draw(t,e);case"curve":return _v.draw(t,e);case"diamond":return Hv.draw(t,e);case"inv_curve":return zv.draw(t,e);case"triangle":return Vv.draw(t,e);case"inv_triangle":return Zv.draw(t,e);case"bar":return Gv.draw(t,e);case"vee":return Yv.draw(t,e);default:return Bv.draw(t,e)}}}function Kv(t,e){var i=ah(t);if(qp){var n=qp(t);e&&(n=Np(n).call(n,function(e){return lf(t,e).enumerable})),i.push.apply(i,n)}return i}function Qv(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?zA(i=Kv(Object(o),!0)).call(i,function(e){Du(t,e,o[e])}):wf?Nf(t,wf(o)):zA(n=Kv(Object(o))).call(n,function(e){Mf(t,e,lf(o,e))})}return t}class Xv{constructor(t,e,i){Du(this,"color",{}),Du(this,"colorDirty",!0),Du(this,"hoverWidth",1.5),Du(this,"selectionWidth",2),this._body=e,this._labelModule=i,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}_drawLine(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}}_drawDashedLine(t,e,i,n,o){t.lineCap="round";const s=MA(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)ln(t,this.from.x,this.from.y,this.to.x,this.to.y,s);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}findBorderPosition(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}findBorderPositions(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};{var e;const[i,n]=om(e=this._getCircleData(t)).call(e,0,2);return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(t){const e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);const i=Bf(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}_pointOnCircle(t,e,i,n){const o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}_findBorderPositionCircle(t,e,i){const n=i.x,o=i.y;let s=i.low,r=i.high;const g=i.direction,A=this.options.selfReference.size;let a,C=.5*(s+r),I=0;!0===this.options.arrowStrikethrough&&(-1===g?I=this.options.endPointOffset.from:1===g&&(I=this.options.endPointOffset.to));let l=0;do{C=.5*(s+r),a=this._pointOnCircle(n,o,A,C);const i=Math.atan2(t.y-a.y,t.x-a.x),h=t.distanceToBorder(e,i)+I-Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));if(Math.abs(h)<.05)break;h>0?g>0?s=C:r=C:g>0?r=C:s=C,++l}while(s<=r&&l<10);return Qv(Qv({},a),{},{t:C})}getLineWidth(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){const i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=Es(this.from.options.color.border,e.opacity),o=Es(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return"to"===e.inheritsColor?Es(this.to.options.color.border,e.opacity):Es(this.from.options.color.border,e.opacity)}return Es(e.color,e.opacity)}_circle(t,e,i,n,o){this.enableShadow(t,e);let s=0,r=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,g=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1}),A=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});s=Math.atan2(g.y-n,g.x-i),r=Math.atan2(A.y-n,A.x-i)}t.beginPath(),t.arc(i,n,o,s,r,!1),t.stroke(),this.disableShadow(t,e)}getDistanceToEdge(t,e,i,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,o,s);{const[t,e,i]=this._getCircleData(void 0),n=t-o,r=e-s;return Math.abs(Math.sqrt(n*n+r*r)-i)}}_getDistanceToLine(t,e,i,n,o,s){const r=i-t,g=n-e;let A=((o-t)*r+(s-e)*g)/(r*r+g*g);A>1?A=1:A<0&&(A=0);const a=t+A*r-o,C=e+A*g-s;return Math.sqrt(a*a+C*C)}getArrowData(t,e,i,n,o,s){let r,g,A,a,C,I,l;const h=s.width;"from"===e?(A=this.from,a=this.to,C=s.fromArrowScale<0,I=Math.abs(s.fromArrowScale),l=s.fromArrowType):"to"===e?(A=this.to,a=this.from,C=s.toArrowScale<0,I=Math.abs(s.toArrowScale),l=s.toArrowType):(A=this.to,a=this.from,C=s.middleArrowScale<0,I=Math.abs(s.middleArrowScale),l=s.middleArrowType);const c=15*I+3*h;if(A!=a){const n=c/Rv(A.x-a.x,A.y-a.y);if("middle"!==e)if(!0===this.options.smooth.enabled){const o=this._findBorderPosition(A,t,{via:i}),s=this.getPoint(o.t+n*("from"===e?1:-1),i);r=Math.atan2(o.y-s.y,o.x-s.x),g=o}else r=Math.atan2(A.y-a.y,A.x-a.x),g=this._findBorderPosition(A,t);else{const t=(C?-n:n)/2,e=this.getPoint(.5+t,i),o=this.getPoint(.5-t,i);r=Math.atan2(e.y-o.y,e.x-o.x),g=this.getPoint(.5,i)}}else{const[i,n,o]=this._getCircleData(t);if("from"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,s=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1});r=-2*s.t*Math.PI+1.5*Math.PI+.1*Math.PI,g=s}else if("to"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,s=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});r=-2*s.t*Math.PI+1.5*Math.PI-1.1*Math.PI,g=s}else{const t=this.options.selfReference.angle/(2*Math.PI);g=this._pointOnCircle(i,n,o,t),r=-2*t*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:g,core:{x:g.x-.9*c*Math.cos(r),y:g.y-.9*c*Math.sin(r)},angle:r,length:c,type:l}}drawArrowHead(t,e,i,n,o){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,Uv.draw(t,o)&&(this.enableShadow(t,e),Nm(t).call(t),this.disableShadow(t,e))}enableShadow(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}drawBackground(t,e){if(!1!==e.background){const i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}setStrokeDashed(t,e){if(!1!==e)if(void 0!==t.setLineDash){const i=MA(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function qv(t,e){var i=ah(t);if(qp){var n=qp(t);e&&(n=Np(n).call(n,function(e){return lf(t,e).enumerable})),i.push.apply(i,n)}return i}function Jv(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?zA(i=qv(Object(o),!0)).call(i,function(e){Du(t,e,o[e])}):wf?Nf(t,wf(o)):zA(n=qv(Object(o))).call(n,function(e){Mf(t,e,lf(o,e))})}return t}class $v extends Xv{constructor(t,e,i){super(t,e,i)}_findBorderPositionBezier(t,e){let i,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=!1,r=1,g=0,A=this.to,a=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(A=this.from,s=!0,a=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(a=0);let C=0;do{n=.5*(g+r),i=this.getPoint(n,o);const t=Math.atan2(A.y-i.y,A.x-i.x),I=A.distanceToBorder(e,t)+a-Math.sqrt(Math.pow(i.x-A.x,2)+Math.pow(i.y-A.y,2));if(Math.abs(I)<.2)break;I<0?!1===s?g=n:r=n:!1===s?r=n:g=n,++C}while(g<=r&&C<10);return Jv(Jv({},i),{},{t:n})}_getDistanceToBezierEdge(t,e,i,n,o,s,r){let g,A,a,C,I,l=1e9,h=t,c=e;for(A=1;A<10;A++)a=.1*A,C=Math.pow(1-a,2)*t+2*a*(1-a)*r.x+Math.pow(a,2)*i,I=Math.pow(1-a,2)*e+2*a*(1-a)*r.y+Math.pow(a,2)*n,A>0&&(g=this._getDistanceToLine(h,c,C,I,o,s),l=g<l?g:l),h=C,c=I;return l}_bezierCurve(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){return this._getViaCoordinates()}}class tb extends $v{constructor(t,e,i){super(t,e,i),Du(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(t){super.setOptions(t);let e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){const t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(t,e,i){this._bezierCurve(t,e,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){const[e,i,n]=this._getCircleData(),o=2*Math.PI*(1-t);return{x:e+n*Math.sin(o),y:i+n-n*(1-Math.cos(o))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e,this.via)}_getDistanceToEdge(t,e,i,n,o,s){return this._getDistanceToBezierEdge(t,e,i,n,o,s,this.via)}}class eb extends $v{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const t=this.options.smooth.roundness,e=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){let o,s;o=s=i<=n?t*n:t*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let r=this.from.x+o,g=this.from.y+s;return"discrete"===e&&(i<=n?r=i<t*n?this.from.x:r:g=n<t*i?this.from.y:g),{x:r,y:g}}if("straightCross"===e){let e=(1-t)*i,o=(1-t)*n;return i<=n?(e=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(e=-e),o=0),{x:this.to.x+e,y:this.to.y+o}}if("horizontal"===e){let e=(1-t)*i;return this.from.x<this.to.x&&(e=-e),{x:this.to.x+e,y:this.from.y}}if("vertical"===e){let e=(1-t)*n;return this.from.y<this.to.y&&(e=-e),{x:this.from.x,y:this.to.y+e}}if("curvedCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,s=(Math.atan2(n,i)+(.5*t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(s),y:this.from.y+(.5*t+.5)*e*Math.cos(s)}}if("curvedCCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,s=(Math.atan2(n,i)+(.5*-t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(s),y:this.from.y+(.5*t+.5)*e*Math.cos(s)}}{let e,o;e=o=i<=n?t*n:t*i,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(o=-o);let s=this.from.x+e,r=this.from.y+o;return i<=n?s=this.from.x<=this.to.x?this.to.x<s?this.to.x:s:this.to.x>s?this.to.x:s:r=this.from.y>=this.to.y?this.to.y>r?this.to.y:r:this.to.y<r?this.to.y:r,{x:s,y:r}}}_findBorderPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}_getDistanceToEdge(t,e,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,s,r)}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}class ib extends $v{constructor(t,e,i){super(t,e,i)}_getDistanceToBezierEdge2(t,e,i,n,o,s,r,g){let A=1e9,a=t,C=e;const I=[0,0,0,0];for(let l=1;l<10;l++){const h=.1*l;I[0]=Math.pow(1-h,3),I[1]=3*h*Math.pow(1-h,2),I[2]=3*Math.pow(h,2)*(1-h),I[3]=Math.pow(h,3);const c=I[0]*t+I[1]*r.x+I[2]*g.x+I[3]*i,d=I[0]*e+I[1]*r.y+I[2]*g.y+I[3]*n;if(l>0){const t=this._getDistanceToLine(a,C,c,d,o,s);A=t<A?t:A}a=c,C=d}return A}}class nb extends ib{constructor(t,e,i){super(t,e,i)}_line(t,e,i){const n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}_getViaCoordinates(){const t=this.from.x-this.to.x,e=this.from.y-this.to.y;let i,n,o,s;const r=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,s=this.to.y,i=this.from.x-r*t,o=this.to.x+r*t):(n=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:s}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e)}_getDistanceToEdge(t,e,i,n,o,s){let[r,g]=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(t,e,i,n,o,s,r,g)}getPoint(t){let[e,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const n=t,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)];return{x:o[0]*this.fromPoint.x+o[1]*e.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*e.y+o[2]*i.y+o[3]*this.toPoint.y}}}class ob extends Xv{constructor(t,e,i){super(t,e,i)}_line(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){}getPoint(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}_findBorderPosition(t,e){let i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,r=i.y-n.y,g=Math.sqrt(s*s+r*r),A=(g-t.distanceToBorder(e,o))/g;return{x:(1-A)*n.x+A*i.x,y:(1-A)*n.y+A*i.y,t:0}}_getDistanceToEdge(t,e,i,n,o,s){return this._getDistanceToLine(t,e,i,n,o,s)}}class sb{constructor(t,e,i,n,o){if(void 0===e)throw new Error("No body provided");this.options=Rs(n),this.globalOptions=n,this.defaultOptions=o,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new cm(this.body,this.options,!0),this.setOptions(t)}setOptions(t){if(!t)return;let e=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;sb.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=mp(t.value));const i=[t,this.options,this.defaultOptions];return this.chooser=Rf("edge",i),this.updateLabelModule(t),e=this.updateEdgeType()||e,this._setInteractionWidths(),this.connect(),e}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ps(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Xl(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Xl(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Lf(e.label)?t.label=e.label:Lf(t.label)||(t.label=void 0),Ps(t,e,"smooth",n),Ps(t,e,"shadow",n),Ps(t,e,"background",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Tr(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Ps(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=Tr(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){const i=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=_r(i).call(i,"to"),t.arrows.middle.enabled=-1!=_r(i).call(i,"middle"),t.arrows.from.enabled=-1!=_r(i).call(i,"from")}else{if("object"!=typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ov(e.arrows));Ps(t.arrows,e.arrows,"to",n.arrows),Ps(t.arrows,e.arrows,"middle",n.arrows),Ps(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Tr(n.arrows));if(void 0!==e.color&&null!==e.color){const s=hs(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,r=t.color;if(o)ms(r,n.color,!1,i);else for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&delete r[t];if(hs(r))r.color=r,r.highlight=r,r.hover=r,r.inherit=!1,void 0===s.opacity&&(r.opacity=1);else{let t=!1;void 0!==s.color&&(r.color=s.color,t=!0),void 0!==s.highlight&&(r.highlight=s.highlight,t=!0),void 0!==s.hover&&(r.hover=s.hover,t=!0),void 0!==s.inherit&&(r.inherit=s.inherit),void 0!==s.opacity&&(r.opacity=Math.min(1,Math.max(0,s.opacity))),!0===t?r.inherit=!1:void 0===r.inherit&&(r.inherit="from")}}else!0===i&&null===e.color&&(t.color=Rs(n.color));!0===i&&null===e.font&&(t.font=Rs(n.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}getFormattingValues(){const t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){const t=this.options.selectionWidth;"function"==typeof t?o.width=t(o.width):"number"==typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const t=this.options.hoverWidth;"function"==typeof t?o.width=t(o.width):"number"==typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(t){const e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const t=this.options.smooth;let e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof tb&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof nb&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof eb&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof ob&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new tb(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new nb(this.options,this.body,this.labelModule):this.edgeType=new eb(this.options,this.body,this.labelModule):this.edgeType=new ob(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}drawArrows(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.to)}drawLabel(t,e){if(void 0!==this.options.label){const i=this.from,n=this.to;let o;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,e),t.save();const i=this._getRotation(t);0!=i.angle&&(t.translate(i.x,i.y),t.rotate(i.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;const e=Bf(t,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(e.x,e.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(t){const e=[];if(this.labelModule.visible()){const i=this._getRotation();Pf(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}const i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}isOverlappingWith(t){if(this.connected){const e=10,i=this.from.x,n=this.from.y,o=this.to.x,s=this.to.y,r=t.left,g=t.top;return this.edgeType.getDistanceToEdge(i,n,o,s,r,g)<e}return!1}_getRotation(t){const e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;const o=this.from.y-this.to.y,s=this.from.x-this.to.x;let r=Math.atan2(o,s);return(r<-1&&s<0||r>0&&s<0)&&(r+=Math.PI),n.angle=r,n}_pointOnCircle(t,e,i,n){return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class rb{constructor(t,e,i){var n;this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=gn(n=this.create).call(n,this),this.edgesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items)},remove:(t,e)=>{this.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ms(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");let n=!1;for(const e in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,e)){const o=i.body.edges[e],s=i.body.data.edges.get(e);if(null!=s){const e=s.smooth;void 0!==e&&!0===e.enabled&&"dynamic"===e.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",gn(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",gn(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{ws(this.edgesListeners,(t,e)=>{this.body.data.edges&&this.body.data.edges.off(e,t)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(t){if(void 0!==t){sb.parseOptions(this.options,t,!0,this.defaultOptions,!0);let e=!1;if(void 0!==t.smooth)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&(e=this.body.edges[t].updateEdgeType()||e);if(void 0!==t.font)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&this.body.edges[t].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.data.edges;if(Uh("id",t))this.body.data.edges=t;else if(MA(t))this.body.data.edges=new Yh,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Yh}if(i&&ws(this.edgesListeners,(t,e)=>{i.off(e,t)}),this.body.edges={},this.body.data.edges){ws(this.edgesListeners,(t,e)=>{this.body.data.edges.on(e,t)});const t=this.body.data.edges.getIds();this.add(t,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.edges,n=this.body.data.edges;for(let e=0;e<t.length;e++){const o=t[e],s=i[o];s&&s.disconnect();const r=n.get(o,{showInternalIds:!0});i[o]=this.create(r)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}update(t){const e=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<t.length;o++){const s=t[o],r=i.get(s),g=e[s];void 0!==g?(g.disconnect(),n=g.setOptions(r)||n,g.connect()):(this.body.edges[s]=this.create(r),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===t.length)return;const i=this.body.edges;ws(t,t=>{const e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}refresh(){ws(this.body.edges,(t,e)=>{const i=this.body.data.edges.get(e);void 0!==i&&t.setOptions(i)})}create(t){return new sb(t,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let t;const e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const e=i[t];e.from=null,e.to=null,e.connect()}}getConnectedNodes(t){const e=[];if(void 0!==this.body.edges[t]){const i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const t=[];ws(this.body.edges,(e,i)=>{const n=this.body.nodes[e.toId],o=this.body.nodes[e.fromId];void 0!==n&&!0===n.isCluster||void 0!==o&&!0===o.isCluster||void 0!==n&&void 0!==o||t.push(i)}),this.remove(t,!1)}_addMissingEdges(){const t=this.body.data.edges;if(null==t)return;const e=this.body.edges,i=[];zA(t).call(t,(t,n)=>{void 0===e[n]&&i.push(n)}),this.add(i,!0)}}var gb,Ab,ab,Cb,Ib,lb,hb,cb={};function db(){return ab?Ab:(ab=1,function(){if(gb)return cb;gb=1;var t=Ii(),e=Date,i=T()(e.prototype.getTime);t({target:"Date",stat:!0},{now:function(){return i(new e)}})}(),Ab=Ot().Date.now)}function ub(){return Ib?Cb:(Ib=1,Cb=db())}var pb=s(hb?lb:(hb=1,lb=ub()));class fb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=ss("BARNES HUT SOLVER")}setOptions(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let t;const e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(let s=0;s<n;s++)t=e[i[s]],t.options.mass>0&&this._getForceContributions(o.root,t)}}_getForceContributions(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}_getForceContribution(t,e){if(t.childrenCount>0){const i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n);o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}_calculateForces(t,e,i,n,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),r=e*s,g=i*s;this.physicsBody.forces[n.id].x+=r,this.physicsBody.forces[n.id].y+=g}_formBarnesHutTree(t,e){let i;const n=e.length;let o=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,g=t[e[0]].y;for(let i=1;i<n;i++){const n=t[e[i]],A=n.x,a=n.y;n.options.mass>0&&(A<o&&(o=A),A>r&&(r=A),a<s&&(s=a),a>g&&(g=a))}const A=Math.abs(r-o)-Math.abs(g-s);A>0?(s-=.5*A,g+=.5*A):(o+=.5*A,r-=.5*A);const a=Math.max(1e-5,Math.abs(r-o)),C=.5*a,I=.5*(o+r),l=.5*(s+g),h={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:I-C,maxX:I+C,minY:l-C,maxY:l+C},size:a,calcSize:1/a,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(h.root);for(let o=0;o<n;o++)i=t[e[o]],i.options.mass>0&&this._placeInTree(h.root,i);return h}_updateBranchMass(t,e){const i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;const s=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}_placeInTree(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);const n=t.children.NW.range;let o;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}_placeInRegion(t,e,i){const n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}_splitBranch(t){let e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}_insertRegion(t,e){let i,n,o,s;const r=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+r,o=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,n=t.range.maxX,o=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,n=t.range.minX+r,o=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,n=t.range.maxX,o=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}_debug(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}_drawBranch(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}class mb{constructor(t,e,i){this._rng=ss("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,s,r,g;const A=this.body.nodes,a=this.physicsBody.physicsNodeIndices,C=this.physicsBody.forces,I=this.options.nodeDistance,l=-2/3/I,h=4/3;for(let c=0;c<a.length-1;c++){r=A[a[c]];for(let d=c+1;d<a.length;d++)g=A[a[d]],t=g.x-r.x,e=g.y-r.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*this._rng(),t=i),i<2*I&&(s=i<.5*I?1:l*i+h,s/=i,n=t*s,o=e*s,C[r.id].x-=n,C[r.id].y-=o,C[g.id].x+=n,C[g.id].y+=o)}}}class vb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<e.length-1;o++){const s=t[e[o]];for(let r=o+1;r<e.length;r++){const o=t[e[r]];if(s.level===o.level){const t=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(o.shape.radius||0)/2),e=o.x-s.x,r=o.y-s.y,g=Math.sqrt(e*e+r*r),A=.05;let a;a=g<t?-Math.pow(A*g,2)+Math.pow(A*t,2):0,0!==g&&(a/=g);const C=e*a,I=r*a;i[s.id].x-=C,i[s.id].y-=I,i[o.id].x+=C,i[o.id].y+=I}}}}}class bb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,s,r;for(let g=0;g<i.length;g++)e=n[i[g]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,s=e.edgeType.via,r=e.from,this._calculateSpringForce(o,s,.5*t),this._calculateSpringForce(s,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}_calculateSpringForce(t,e,i){const n=t.x-e.x,o=t.y-e.y,s=Math.max(Math.sqrt(n*n+o*o),.01),r=this.options.springConstant*(i-s)/s,g=n*r,A=o*r;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=g,this.physicsBody.forces[t.id].y+=A),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=g,this.physicsBody.forces[e.id].y-=A)}}class yb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,s,r,g;const A=this.body.edges,a=.5,C=this.physicsBody.physicsEdgeIndices,I=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces;for(let t=0;t<I.length;t++){const e=I[t];l[e].springFx=0,l[e].springFy=0}for(let I=0;I<C.length;I++)e=A[C[I]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,g=Math.sqrt(i*i+n*n),g=0===g?.01:g,r=this.options.springConstant*(t-g)/g,o=i*r,s=n*r,e.to.level!=e.from.level?(void 0!==l[e.toId]&&(l[e.toId].springFx-=o,l[e.toId].springFy-=s),void 0!==l[e.fromId]&&(l[e.fromId].springFx+=o,l[e.fromId].springFy+=s)):(void 0!==l[e.toId]&&(l[e.toId].x-=a*o,l[e.toId].y-=a*s),void 0!==l[e.fromId]&&(l[e.fromId].x+=a*o,l[e.fromId].y+=a*s)));let h,c;r=1;for(let t=0;t<I.length;t++){const e=I[t];h=Math.min(r,Math.max(-r,l[e].springFx)),c=Math.min(r,Math.max(-r,l[e].springFy)),l[e].x+=h,l[e].y+=c}let d=0,u=0;for(let t=0;t<I.length;t++){const e=I[t];d+=l[e].x,u+=l[e].y}const p=d/I.length,f=u/I.length;for(let t=0;t<I.length;t++){const e=I[t];l[e].x-=p,l[e].y-=f}}}class wb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n;const o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces;for(let g=0;g<s.length;g++)n=o[s[g]],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,r,n)}_calculateForces(t,e,i,n,o){const s=0===t?0:this.options.centralGravity/t;n[o.id].x=e*s,n[o.id].y=i*s}}class xb extends fb{constructor(t,e,i){super(t,e,i),this._rng=ss("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(t,e,i,n,o){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const s=n.edges.length+1,r=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(t,2),g=e*r,A=i*r;this.physicsBody.forces[n.id].x+=g,this.physicsBody.forces[n.id].y+=A}}class Eb extends wb{constructor(t,e,i){super(t,e,i)}_calculateForces(t,e,i,n,o){if(t>0){const t=o.edges.length+1,s=this.options.centralGravity*t*o.options.mass;n[o.id].x=e*s,n[o.id].y=i*s}}}class kb{constructor(t){this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ji(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,fs(["stabilization"],this.options,t),Ps(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());const e=this.options.wind;e&&(("number"!=typeof e.x||zl(e.x))&&(e.x=0),("number"!=typeof e.y||zl(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}init(){let t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new xb(this.body,this.physicsBody,t),this.edgesSolver=new bb(this.body,this.physicsBody,t),this.gravitySolver=new Eb(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new mb(this.body,this.physicsBody,t),this.edgesSolver=new bb(this.body,this.physicsBody,t),this.gravitySolver=new wb(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new vb(this.body,this.physicsBody,t),this.edgesSolver=new yb(this.body,this.physicsBody,t),this.gravitySolver=new wb(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new fb(this.body,this.physicsBody,t),this.edgesSolver=new bb(this.body,this.physicsBody,t),this.gravitySolver=new wb(this.body,this.physicsBody,t)),this.modelOptions=t}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=gn(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const t=pb();this.physicsTick(),(pb()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Bh(()=>{this.body.emitter.emit("stabilized",{iterations:t}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const t=this.body.nodes,e=this.body.edges;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&!0===t[e].options.physics&&this.physicsBody.physicsNodeIndices.push(t[e].id);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&!0===e[t].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[t].id);for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const e=this.physicsBody.physicsNodeIndices[t];this.physicsBody.forces[e]={x:0,y:0},void 0===this.physicsBody.velocities[e]&&(this.physicsBody.velocities[e]={x:0,y:0})}for(const e in this.physicsBody.velocities)void 0===t[e]&&delete this.physicsBody.velocities[e]}revert(){const t=ah(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<t.length;n++){const o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let t,e,i;const n=this.body.nodes,o=this.referenceState;for(const s in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,s)&&void 0!==n[s]&&(t=n[s].x-o[s].positions.x,e=n[s].y-o[s].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>.3))return!1;return!0}moveNodes(){const t=this.physicsBody.physicsNodeIndices;let e=0,i=0;for(let n=0;n<t.length;n++){const o=t[n],s=this._performStep(o);e=Math.max(e,s),i+=s}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}calculateComponentVelocity(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;const n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}_performStep(t){const e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const t=this.body.nodes;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){const i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const t=this.body.nodes;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}stabilize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Bh(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const t=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,e=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&e();let i=0;for(;t()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;var n;e(),t()?Bh(gn(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(t){for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){const i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],s=20,r=.03,g=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),A=Math.min(Math.max(5,g),15),a=3*A,C=Ds((180-180*Math.min(1,Math.max(0,r*g)))/360,1,1),I={x:n.x+s*o.x,y:n.y+s*o.y};t.lineWidth=A,t.strokeStyle=C,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(I.x,I.y),t.stroke();const l=Math.atan2(o.y,o.x);t.fillStyle=C,Uv.draw(t,{type:"arrow",point:I,angle:l,length:a}),Nm(t).call(t)}}}var Tb,Sb,Ob,Db,Nb,Mb,Rb,Pb,Lb,Bb={};function Fb(){return Ob?Sb:(Ob=1,function(){if(Tb)return Bb;Tb=1;var t=Ii(),e=T(),i=Xg(),n=e([].reverse),o=[1,2];t({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),n(this)}})}(),Sb=nn()("Array","reverse"))}function _b(){if(Nb)return Db;Nb=1;var t=Nt(),e=Fb(),i=Array.prototype;return Db=function(n){var o=n.reverse;return n===i||t(i,n)&&o===i.reverse?e:o}}function zb(){return Rb?Mb:(Rb=1,Mb=_b())}var Vb,Zb,Wb,Gb,jb=s(Lb?Pb:(Lb=1,Pb=zb()));class Hb{constructor(){}static getRange(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,s=1e9,r=-1e9;if(i.length>0)for(let g=0;g<i.length;g++)e=t[i[g]],s>e.shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===n&&-1e9===o&&(n=0,o=0,s=0,r=0),{minX:s,maxX:r,minY:n,maxY:o}}static getRangeCore(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,s=1e9,r=-1e9;if(i.length>0)for(let g=0;g<i.length;g++)e=t[i[g]],s>e.x&&(s=e.x),r<e.x&&(r=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===s&&-1e9===r&&1e9===n&&-1e9===o&&(n=0,o=0,s=0,r=0),{minX:s,maxX:r,minY:n,maxY:o}}static findCenter(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}static cloneOptions(t,e){const i={};return void 0===e||"node"===e?(ms(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):ms(i,t.options,!0),i}}class Yb extends ev{constructor(t,e,i,n,o,s){super(t,e,i,n,o,s),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(t){const e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],ws(e.edges,t=>{delete this.containedEdges[t.id]}),ws(e.containedNodes,(t,e)=>{this.containedNodes[e]=t}),e.containedNodes={},ws(e.containedEdges,(t,e)=>{this.containedEdges[e]=t}),e.containedEdges={},ws(e.edges,t=>{ws(this.edges,e=>{var i,n;const o=_r(i=e.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(ws(t.clusteringEdgeReplacingIds,t=>{e.clusteringEdgeReplacingIds.push(t),this.body.edges[t].edgeReplacedById=e.id}),uA(n=e.clusteringEdgeReplacingIds).call(n,o,1))})}),e.edges=[]}}class Ub{constructor(t){this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ji(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());const i=[];for(let e=0;e<this.body.nodeIndices.length;e++){const n=this.body.nodes[this.body.nodeIndices[e]];n.edges.length>=t&&i.push(n.id)}for(let t=0;t<i.length;t++)this.clusterByConnection(i[t],e,!0);this.body.emitter.emit("_dataChanged")}cluster(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);const i={},n={};ws(this.body.nodes,(e,o)=>{e.options&&!0===t.joinCondition(e.options)&&(i[o]=e,ws(e.edges,t=>{void 0===this.clusteredEdges[t.id]&&(n[t.id]=t)}))}),this._cluster(i,n,t,e)}clusterByEdgeCount(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);const n=[],o={};let s,r,g;for(let i=0;i<this.body.nodeIndices.length;i++){const A={},a={},C=this.body.nodeIndices[i],I=this.body.nodes[C];if(void 0===o[C]){g=0,r=[];for(let t=0;t<I.edges.length;t++)s=I.edges[t],void 0===this.clusteredEdges[s.id]&&(s.toId!==s.fromId&&g++,r.push(s));if(g===t){const t=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;const i=Hb.cloneOptions(t);return e.joinCondition(i)};let i=!0;for(let e=0;e<r.length;e++){s=r[e];const n=this._getConnectedId(s,C);if(!t(I)){i=!1;break}a[s.id]=s,A[C]=I,A[n]=this.body.nodes[n],o[C]=!0}if(ah(A).length>0&&ah(a).length>0&&!0===i){const t=function(){for(let t=0;t<n.length;++t)for(const e in A)if(void 0!==n[t].nodes[e])return n[t]}();if(void 0!==t){for(const e in A)void 0===t.nodes[e]&&(t.nodes[e]=A[e]);for(const e in a)void 0===t.edges[e]&&(t.edges[e]=a[e])}else n.push({nodes:A,edges:a})}}}}for(let t=0;t<n.length;t++)this._cluster(n[t].nodes,n[t].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}clusterOutliers(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}clusterBridges(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}clusterByConnection(t,e){var i;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);const s={},r={},g=o.id,A=Hb.cloneOptions(o);s[g]=o;for(let t=0;t<o.edges.length;t++){const i=o.edges[t];if(void 0===this.clusteredEdges[i.id]){const t=this._getConnectedId(i,g);if(void 0===this.clusteredNodes[t])if(t!==g)if(void 0===e.joinCondition)r[i.id]=i,s[t]=this.body.nodes[t];else{const n=Hb.cloneOptions(this.body.nodes[t]);!0===e.joinCondition(A,n)&&(r[i.id]=i,s[t]=this.body.nodes[t])}else r[i.id]=i}}const a=Ta(i=ah(s)).call(i,function(t){return s[t].id});for(const t in s){if(!Object.prototype.hasOwnProperty.call(s,t))continue;const e=s[t];for(let t=0;t<e.edges.length;t++){const i=e.edges[t];_r(a).call(a,this._getConnectedId(i,e.id))>-1&&(r[i.id]=i)}}this._cluster(s,r,e,n)}_createClusterEdges(t,e,i,n){let o,s,r,g,A,a;const C=ah(t),I=[];for(let n=0;n<C.length;n++){s=C[n],r=t[s];for(let n=0;n<r.edges.length;n++)o=r.edges[n],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==s?(g=i.id,A=o.fromId,a=A):(g=o.toId,A=i.id,a=g),void 0===t[a]&&I.push({edge:o,fromId:A,toId:g}))}const l=[],h=function(t){for(let e=0;e<l.length;e++){const i=l[e],n=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(n||o)return i}return null};for(let t=0;t<I.length;t++){const e=I[t],i=e.edge;let o=h(e);null===o?(o=this._createClusteredEdge(e.fromId,e.toId,i,n),l.push(o)):o.clusteringEdgeReplacingIds.push(i.id),this.body.edges[i.id].edgeReplacedById=o.id,this._backupEdgeOptions(i),i.setOptions({physics:!1})}}_checkOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}_cluster(t,e,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.clusteredNodes[e]&&o.push(e);for(let e=0;e<o.length;++e)delete t[o[e]];if(0==ah(t).length)return;if(1==ah(t).length&&1!=i.clusterNodeProperties.allowSingleNodeCluster)return;let s=ms({},i.clusterNodeProperties);if(void 0!==i.processProperties){const n=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const i=Hb.cloneOptions(t[e]);n.push(i)}const o=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"clusterEdge:"!==t.substr(0,12)){const i=Hb.cloneOptions(e[t],"edge");o.push(i)}if(s=i.processProperties(s,n,o),!s)throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+Zh());const r=s.id;let g;void 0===s.label&&(s.label="cluster"),void 0===s.x&&(g=this._getClusterPosition(t),s.x=g.x),void 0===s.y&&(void 0===g&&(g=this._getClusterPosition(t)),s.y=g.y),s.id=r;const A=this.body.functions.createNode(s,Yb);A.containedNodes=t,A.containedEdges=e,A.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=A,this._clusterEdges(t,e,s,i.clusterEdgeProperties),s.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}_restoreEdge(t){const e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}isCluster(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}_getClusterPosition(t){const e=ah(t);let i,n=t[e[0]].x,o=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].y;for(let g=1;g<e.length;g++)i=t[e[g]],n=i.x<n?i.x:n,o=i.x>o?i.x:o,s=i.y<s?i.y:s,r=i.y>r?i.y:r;return{x:.5*(n+o),y:.5*(s+r)}}openCluster(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");const o=this.findNode(t),s=_r(o).call(o,t)-1;if(s>=0){const e=o[s];return this.body.nodes[e]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}const r=n.containedNodes,g=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){const t={},i={x:n.x,y:n.y};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=this.body.nodes[e];t[e]={x:i.x,y:i.y}}const o=e.releaseFunction(i,t);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const e=this.body.nodes[t];void 0!==o[t]&&(e.x=void 0===o[t].x?n.x:o[t].x,e.y=void 0===o[t].y?n.y:o[t].y)}}else ws(r,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const e=this.body.nodes[t];e.vx=n.vx,e.vy=n.vy,e.setOptions({physics:!0}),delete this.clusteredNodes[t]}const A=[];for(let t=0;t<n.edges.length;t++)A.push(n.edges[t]);for(let e=0;e<A.length;e++){const i=A[e],n=this._getConnectedId(i,t),o=this.clusteredNodes[n];for(let t=0;t<i.clusteringEdgeReplacingIds.length;t++){const e=i.clusteringEdgeReplacingIds[t],s=this.body.edges[e];if(void 0!==s)if(void 0!==o){const t=this.body.nodes[o.clusterId];t.containedEdges[s.id]=s,delete g[s.id];let e=s.fromId,i=s.toId;s.toId==n?i=o.clusterId:e=o.clusterId,this._createClusteredEdge(e,i,s,t.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(s)}i.remove()}for(const t in g)Object.prototype.hasOwnProperty.call(g,t)&&this._restoreEdge(g[t]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(t){const e=[];if(!0===this.isCluster(t)){const i=this.body.nodes[t].containedNodes;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(this.body.nodes[t].id)}return e}findNode(t){const e=[];let i,n=0;for(;void 0!==this.clusteredNodes[t]&&n<100;){if(i=this.body.nodes[t],void 0===i)return[];e.push(i.id),t=this.clusteredNodes[t].clusterId,n++}return i=this.body.nodes[t],void 0===i?[]:(e.push(i.id),jb(e).call(e),e)}updateClusteredNode(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}updateEdge(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(t);for(let t=0;t<i.length;t++)this.body.edges[i[t]].setOptions(e);this.body.emitter.emit("_dataChanged")}getClusteredEdges(t){const e=[];let i=0;for(;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return jb(e).call(e),e}getBaseEdge(t){return this.getBaseEdges(t)[0]}getBaseEdges(t){const e=[t],i=[],n=[];let o=0;for(;e.length>0&&o<100;){const t=e.pop();if(void 0===t)continue;const s=this.body.edges[t];if(void 0===s)continue;o++;const r=s.clusteringEdgeReplacingIds;if(void 0===r)n.push(t);else for(let t=0;t<r.length;++t){const n=r[t];-1===_r(e).call(e,r)&&-1===_r(i).call(i,r)&&e.push(n)}i.push(t)}return n}_getConnectedId(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}_getHubSize(){let t=0,e=0,i=0,n=0;for(let o=0;o<this.body.nodeIndices.length;o++){const s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>n&&(n=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i,e/=i;const o=e-Math.pow(t,2),s=Math.sqrt(o);let r=Math.floor(t+2*s);return r>n&&(r=n),r}_createClusteredEdge(t,e,i,n,o){const s=Hb.cloneOptions(i,"edge");ms(s,n),s.from=t,s.to=e,s.id="clusterEdge:"+Zh(),void 0!==o&&ms(s,o);const r=this.body.functions.createEdge(s);return r.clusteringEdgeReplacingIds=[i.id],r.connect(),this.body.edges[r.id]=r,r}_clusterEdges(t,e,i,n){if(e instanceof sb){const t=e,i={};i[t.id]=t,e=i}if(t instanceof ev){const e=t,i={};i[e.id]=e,t=i}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.body.edges[t]){const e=this.body.edges[t];this._backupEdgeOptions(e),e.setOptions({physics:!1})}for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.clusteredNodes[e]={clusterId:i.id,node:this.body.nodes[e]},this.body.nodes[e].setOptions({physics:!1}))}_getClusterNodeForNode(t){if(void 0===t)return;const e=this.clusteredNodes[t];if(void 0===e)return;const i=e.clusterId;return void 0!==i?this.body.nodes[i]:void 0}_filter(t,e){const i=[];return ws(t,t=>{e(t)&&i.push(t)}),i}_updateState(){let t;const e=[],i={},n=t=>{ws(this.body.nodes,e=>{!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&e.push(t);n(function(t){for(let i=0;i<e.length;i++)delete t.containedNodes[e[i]]});for(let t=0;t<e.length;t++)delete this.clusteredNodes[e[t]];ws(this.clusteredEdges,t=>{const e=this.body.edges[t];void 0!==e&&e.endPointsValid()||(i[t]=t)}),n(function(t){ws(t.containedEdges,(t,e)=>{t.endPointsValid()||i[e]||(i[e]=e)})}),ws(this.body.edges,(t,e)=>{let n=!0;const o=t.clusteringEdgeReplacingIds;if(void 0!==o){let t=0;ws(o,e=>{const i=this.body.edges[e];void 0!==i&&i.endPointsValid()&&(t+=1)}),n=t>0}t.endPointsValid()&&n||(i[e]=e)}),n(t=>{ws(i,e=>{delete t.containedEdges[e],ws(t.edges,(n,o)=>{n.id!==e?n.clusteringEdgeReplacingIds=this._filter(n.clusteringEdgeReplacingIds,function(t){return!i[t]}):t.edges[o]=null}),t.edges=this._filter(t.edges,function(t){return null!==t})})}),ws(i,t=>{delete this.clusteredEdges[t]}),ws(i,t=>{delete this.body.edges[t]}),ws(ah(this.body.edges),t=>{const e=this.body.edges[t],i=this._isClusteredNode(e.fromId)||this._isClusteredNode(e.toId);if(i!==this._isClusteredEdge(e.id))if(i){const t=this._getClusterNodeForNode(e.fromId);void 0!==t&&this._clusterEdges(this.body.nodes[e.fromId],e,t);const i=this._getClusterNodeForNode(e.toId);void 0!==i&&this._clusterEdges(this.body.nodes[e.toId],e,i)}else delete this._clusterEdges[t],this._restoreEdge(e)});let o=!1,s=!0;for(;s;){const t=[];n(function(e){const i=ah(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)});for(let e=0;e<t.length;++e)this.openCluster(t[e],{},!1);s=t.length>0,o=o||s}o&&this._updateState()}_isClusteredNode(t){return void 0!==this.clusteredNodes[t]}_isClusteredEdge(t){return void 0!==this.clusteredEdges[t]}}class Kb{constructor(t,e){this.body=t,this.canvas=e,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Bh(()=>{var t;this.zooming=!1,gn(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",gn(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(t){void 0!==t&&ps(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}_startRendering(){var t;!0===this.renderingActive&&void 0===this.requestAnimationFrameRequestId&&(this.requestAnimationFrameRequestId=window.requestAnimationFrame(gn(t=this._renderStep).call(t,this),this.simulationInterval))}_renderStep(){!0===this.renderingActive&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){const{drawExternalLabels:n}=this._drawNodes(i,t);e.drawExternalLabels=n}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);const e=this.body.nodes;let i;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}_drawNodes(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.nodes,n=this.body.nodeIndices;let o;const s=[],r=[],g=this.canvas.DOMtoCanvas({x:-20,y:-20}),A=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),a={top:g.y,left:g.x,bottom:A.y,right:A.x},C=[];for(let g=0;g<n.length;g++)if(o=i[n[g]],o.hover)r.push(n[g]);else if(o.isSelected())s.push(n[g]);else if(!0===e){const e=o.draw(t);null!=e.drawExternalLabel&&C.push(e.drawExternalLabel)}else if(!0===o.isBoundingBoxOverlappingWith(a)){const e=o.draw(t);null!=e.drawExternalLabel&&C.push(e.drawExternalLabel)}else o.updateBoundingBox(t,o.selected);let I;const l=s.length,h=r.length;for(I=0;I<l;I++){o=i[s[I]];const e=o.draw(t);null!=e.drawExternalLabel&&C.push(e.drawExternalLabel)}for(I=0;I<h;I++){o=i[r[I]];const e=o.draw(t);null!=e.drawExternalLabel&&C.push(e.drawExternalLabel)}return{drawExternalLabels:()=>{for(const t of C)t()}}}_drawEdges(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.draw(t)}}_drawArrows(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.drawArrows(t)}}_drawSelectionBox(t){if(this.body.selectionBox.show){t.beginPath();const e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}function Qb(){return Zb?Vb:(Zb=1,Ph(),Vb=Ot().setInterval)}var Xb=s(Gb?Wb:(Gb=1,Wb=Qb()));function qb(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function Jb(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}class $b{constructor(t){this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.once("resize",t=>{0!==t.width&&(this.body.view.translation.x=.5*t.width),0!==t.height&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",gn(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(t){if(void 0!==t&&ps(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var e;if(window.ResizeObserver){const t=new ResizeObserver(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")}),{frame:e}=this;t.observe(e),this._cleanupCallbacks.push(()=>{t.unobserve(e)})}else{const t=Xb(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(t)})}const t=gn(e=this._onResize).call(e,this);window.addEventListener("resize",t),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",t)})}}_cleanUp(){var t,e,i;zA(t=jb(e=uA(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,t=>{try{t()}catch(t){console.error(t)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==_r(t).call(t,"%")||-1!==_r(t).call(t,"px"))return t;if(-1===_r(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hs(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hs.DIRECTION_ALL}),qb(this.hammer,t=>{this.body.eventListeners.onTouch(t)}),this.hammer.on("tap",t=>{this.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",t=>{this.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",t=>{this.body.eventListeners.onHold(t)}),this.hammer.on("panstart",t=>{this.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",t=>{this.body.eventListeners.onDrag(t)}),this.hammer.on("panend",t=>{this.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",t=>{this.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",t=>{this.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",t=>{this.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",t=>{this.body.eventListeners.onContext(t)}),this.hammerFrame=new Hs(this.frame),Jb(this.hammerFrame,t=>{this.body.eventListeners.onRelease(t)})}setSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(s),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const t=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),e=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===t&&this.frame.canvas.height===e||this._getCameraState(s),this.frame.canvas.width!==t&&(this.frame.canvas.width=t,i=!0),this.frame.canvas.height!==e&&(this.frame.canvas.height=e,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");let e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(t){return(t-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(t){return(t-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.y}canvasToDOM(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}DOMtoCanvas(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}class ty{constructor(t,e){var i,n;this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",gn(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",gn(n=this.releaseNode).call(n,this))}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}fit(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){const i=Ji({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!MA(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,s;if(0===i||0===n)s=1,o=Hb.getRange(this.body.nodes,t.nodes);else if(!0===e){let e=0;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&!0===this.body.nodes[t].predefinedPosition&&(e+=1);if(e>.5*this.body.nodeIndices.length)return void this.fit(t,!1);o=Hb.getRange(this.body.nodes,t.nodes),s=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,s*=Math.min(i/600,n/600)}else{this.body.emitter.emit("_resizeNodes"),o=Hb.getRange(this.body.nodes,t.nodes);const e=i/(1.1*Math.abs(o.maxX-o.minX)),r=n/(1.1*Math.abs(o.maxY-o.minY));s=e<=r?e:r}s>t.maxZoomLevel?s=t.maxZoomLevel:s<t.minZoomLevel&&(s=t.minZoomLevel);const r={position:Hb.findCenter(o),scale:s,animation:t.animation};this.moveTo(r)}focus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){const i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}moveTo(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Xl(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Xl(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Xl(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Xl(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}animateView(t){if(void 0===t)return;this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;const e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=e.x-t.position.x,n=e.y-t.position.y;var o,s;this.targetTranslation={x:this.sourceTranslation.x+i*this.targetScale+t.offset.x,y:this.sourceTranslation.y+n*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=gn(o=this._lockedRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=gn(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=i.x-t,o=i.y-e,s=this.body.view.translation,r={x:s.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+o*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=r}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;const e=Ls[this.animationEasingFunction](this.easingTime);var i;(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1)&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=gn(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function ey(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},s={keydown:{},keyup:{}},r={};for(e=97;e<=122;e++)r[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)r[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r.delete={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var g=function(t){a(t,"keydown")},A=function(t){a(t,"keyup")},a=function(t,e){if(void 0!==s[e][t.keyCode]){for(var n=s[e][t.keyCode],o=0;o<n.length;o++)(void 0===n[o].shift||1==n[o].shift&&1==t.shiftKey||0==n[o].shift&&0==t.shiftKey)&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===s[i][r[t].code]&&(s[i][r[t].code]=[]),s[i][r[t].code].push({fn:e,shift:r[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),r)r.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=s[i][r[t].code];if(void 0!==o)for(var g=0;g<o.length;g++)o[g].fn==e&&o[g].shift==r[t].shift||n.push(s[i][r[t].code][g]);s[i][r[t].code]=n}else s[i][r[t].code]=[]},o.reset=function(){s={keydown:{},keyup:{}}},o.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",g,!0),n.removeEventListener("keyup",A,!0)},n.addEventListener("keydown",g,!0),n.addEventListener("keyup",A,!0),o}class iy{constructor(t,e){this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(t){void 0!==t&&(this.options=t,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<t.length;o++){this.navigationDOM[t[o]]=document.createElement("div"),this.navigationDOM[t[o]].className="vis-button vis-"+t[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[o]]);const s=new Hs(this.navigationDOM[t[o]]);var i,n;qb(s,"_fit"===e[o]?gn(i=this._fit).call(i,this):gn(n=this.bindToRedraw).call(n,this,e[o])),this.navigationHammers.push(s)}const o=new Hs(this.canvas.frame);Jb(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=gn(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}_fit(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}_stopMovement(){for(const t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){var t,e,i,n,o,s,r,g,A,a,C,I,l,h,c,d,u,p,f,m,v,b,y,w;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=ey({container:window,preventDefault:!0}):this.keycharm=ey({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(gn(t=this.keycharm).call(t,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),gn(e=this.keycharm).call(e,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),gn(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),gn(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),gn(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),gn(s=this.keycharm).call(s,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),gn(r=this.keycharm).call(r,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),gn(g=this.keycharm).call(g,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),gn(A=this.keycharm).call(A,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),gn(a=this.keycharm).call(a,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),gn(C=this.keycharm).call(C,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),gn(I=this.keycharm).call(I,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),gn(l=this.keycharm).call(l,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),gn(h=this.keycharm).call(h,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),gn(c=this.keycharm).call(c,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),gn(d=this.keycharm).call(d,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),gn(u=this.keycharm).call(u,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),gn(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),gn(f=this.keycharm).call(f,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),gn(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),gn(v=this.keycharm).call(v,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),gn(b=this.keycharm).call(b,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),gn(y=this.keycharm).call(y,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),gn(w=this.keycharm).call(w,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class ny{constructor(t,e,i){var n,o,s,r,g,A,a,C,I,l,h,c,d;this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new iy(t,e),this.body.eventListeners.onTap=gn(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=gn(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=gn(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=gn(r=this.onHold).call(r,this),this.body.eventListeners.onDragStart=gn(g=this.onDragStart).call(g,this),this.body.eventListeners.onDrag=gn(A=this.onDrag).call(A,this),this.body.eventListeners.onDragEnd=gn(a=this.onDragEnd).call(a,this),this.body.eventListeners.onMouseWheel=gn(C=this.onMouseWheel).call(C,this),this.body.eventListeners.onPinch=gn(I=this.onPinch).call(I,this),this.body.eventListeners.onMouseMove=gn(l=this.onMouseMove).call(l,this),this.body.eventListeners.onRelease=gn(h=this.onRelease).call(h,this),this.body.eventListeners.onContext=gn(c=this.onContext).call(c,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=gn(d=this.getPointer).call(d,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(t){void 0!==t&&(fs(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Ps(this.options,t,"keyboard"),t.tooltip&&(Ji(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Ts(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-ys(this.canvas.frame.canvas)};var e}onTouch(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}onTap(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}onDoubleTap(t){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}onHold(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}onRelease(t){if((new Date).valueOf()-this.touchTime>10){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}onContext(t){const e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}checkSelectionChanges(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}_determineDifference(t,e){const i=function(t,e){const i=[];for(let n=0;n<t.length;n++){const o=t[n];-1===_r(e).call(e,o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}onDragStart(t){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(t);const e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ji({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;const e=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);for(const t of this.selectionHandler.getSelectedNodes()){const e={id:t.id,node:t,x:t.x,y:t.y,xFixed:t.options.fixed.x,yFixed:t.options.fixed.y};t.options.fixed.x=!0,t.options.fixed.y=!0,this.drag.selection.push(e)}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}onDrag(t){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");const e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,e);const n=e.x-this.drag.pointer.x,o=e.y-this.drag.pointer.y;zA(i).call(i,t=>{const e=t.node;!1===t.xFixed&&(e.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(e.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(t.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);const i=e.x-this.drag.pointer.x,n=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+n},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(t){if(this.drag.dragging=!1,this.body.selectionBox.show){var e;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=Np(e=this.body.nodeIndices).call(e,t=>{const e=this.body.nodes[t];return e.x>=n.minX&&e.x<=n.maxX&&e.y>=n.minY&&e.y<=n.maxY});zA(o).call(o,t=>this.selectionHandler.selectObject(this.body.nodes[t]));const s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const e=this.drag.selection;e&&e.length?(zA(e).call(e,function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(t){const e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);const i=this.pinch.scale*t.scale;this.zoom(i,e)}zoom(t,e){if(!0===this.options.zoomView){const i=this.body.view.scale;let n;t<1e-5&&(t=1e-5),t>10&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,s=t/i,r=(1-s)*e.x+o.x*s,g=(1-s)*e.y+o.y*s;if(this.body.view.scale=t,this.body.view.translation={x:r,y:g},null!=n){const t=this.canvas.canvasToDOM(n);this.drag.pointer.x=t.x,this.drag.pointer.y=t.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}onMouseWheel(t){if(!0===this.options.zoomView){if(0!==t.deltaY){let e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);const i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}onMouseMove(t){const e=this.getPointer({x:t.clientX,y:t.clientY});let i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(e),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(e.x+3,e.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bh(()=>this._checkShowPopup(e),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,e)}_checkShowPopup(t){const e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id;let s=!1,r="node";if(void 0===this.popupObj){const t=this.body.nodeIndices,e=this.body.nodes;let i;const o=[];for(let r=0;r<t.length;r++)i=e[t[r]],!0===i.isOverlappingWith(n)&&(s=!0,void 0!==i.getTitle()&&o.push(t[r]));o.length>0&&(this.popupObj=e[o[o.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){const t=this.body.edgeIndices,e=this.body.edges;let i;const o=[];for(let s=0;s<t.length;s++)i=e[t[s]],!0===i.isOverlappingWith(n)&&!0===i.connected&&void 0!==i.getTitle()&&o.push(t[s]);o.length>0&&(this.popupObj=e[o[o.length-1]],r="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new Ys(this.canvas.frame)),this.popup.popupTargetType=r,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(t){const e=this.selectionHandler._pointerToPositionObject(t);let i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===i)){const e=this.selectionHandler.getNodeAt(t);i=void 0!==e&&e.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var oy,sy;var ry,gy,Ay,ay,Cy,Iy,ly,hy,cy,dy,uy,py,fy,my,vy,by,yy,wy,xy,Ey,ky,Ty={};function Sy(){if(gy)return ry;gy=1;var t=Ft(),e=TypeError;return ry=function(i){if("object"==typeof i&&"size"in i&&"has"in i&&"add"in i&&"delete"in i&&"keys"in i)return i;throw new e(t(i)+" is not a set")}}function Oy(){if(ay)return Ay;ay=1;var t=Dt(),e=qI(),i=t("Set"),n=i.prototype;return Ay={Set:i,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n}}function Dy(){if(Iy)return Cy;Iy=1;var t=F();return Cy=function(e,i,n){for(var o,s,r=n?e:e.iterator,g=e.next;!(o=t(g,r)).done;)if(void 0!==(s=i(o.value)))return s},Cy}function Ny(){if(hy)return ly;hy=1;var t=Dy();return ly=function(e,i,n){return n?t(e.keys(),i,!0):e.forEach(i)},ly}function My(){if(dy)return cy;dy=1;var t=Oy(),e=Ny(),i=t.Set,n=t.add;return cy=function(t){var o=new i;return e(t,function(t){n(o,t)}),o},cy}function Ry(){return py||(py=1,uy=function(t){return t.size}),uy}function Py(){return my?fy:(my=1,fy=function(t){return{iterator:t,next:t.next,done:!1}})}function Ly(){if(by)return vy;by=1;var t=_t(),e=Ai(),i=F(),n=hi(),o=Py(),s="Invalid size",r=RangeError,g=TypeError,A=Math.max,a=function(e,i){this.set=e,this.size=A(i,0),this.has=t(e.has),this.keys=t(e.keys)};return a.prototype={getIterator:function(){return o(e(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},vy=function(t){e(t);var i=+t.size;if(i!=i)throw new g(s);var o=n(i);if(o<0)throw new r(s);return new a(t,o)}}function By(){if(wy)return yy;wy=1;var t=Sy(),e=Oy(),i=My(),n=Ry(),o=Ly(),s=Ny(),r=Dy(),g=e.has,A=e.remove;return yy=function(e){var a=t(this),C=o(e),I=i(a);return n(a)<=C.size?s(a,function(t){C.includes(t)&&A(I,t)}):r(C.getIterator(),function(t){g(I,t)&&A(I,t)}),I}}function Fy(){return Ey?xy:(Ey=1,xy=function(){return!1})}var _y,zy,Vy,Zy={};function Wy(){if(zy)return _y;zy=1;var t=Sy(),e=Oy(),i=Ry(),n=Ly(),o=Ny(),s=Dy(),r=e.Set,g=e.add,A=e.has;return _y=function(e){var a=t(this),C=n(e),I=new r;return i(a)>C.size?s(C.getIterator(),function(t){A(a,t)&&g(I,t)}):o(a,function(t){C.includes(t)&&g(I,t)}),I}}var Gy,jy,Hy,Yy={};function Uy(){if(jy)return Gy;jy=1;var t=Sy(),e=Oy().has,i=Ry(),n=Ly(),o=Ny(),s=Dy(),r=FI();return Gy=function(g){var A=t(this),a=n(g);if(i(A)<=a.size)return!1!==o(A,function(t){if(a.includes(t))return!1},!0);var C=a.getIterator();return!1!==s(C,function(t){if(e(A,t))return r(C,"normal",!1)})},Gy}var Ky,Qy,Xy,qy={};function Jy(){if(Qy)return Ky;Qy=1;var t=Sy(),e=Ry(),i=Ny(),n=Ly();return Ky=function(o){var s=t(this),r=n(o);return!(e(s)>r.size)&&!1!==i(s,function(t){if(!r.includes(t))return!1},!0)}}var $y,tw,ew,iw={};function nw(){if(tw)return $y;tw=1;var t=Sy(),e=Oy().has,i=Ry(),n=Ly(),o=Dy(),s=FI();return $y=function(r){var g=t(this),A=n(r);if(i(g)<A.size)return!1;var a=A.getIterator();return!1!==o(a,function(t){if(!e(g,t))return s(a,"normal",!1)})},$y}var ow,sw,rw,gw,Aw,aw={};function Cw(){if(sw)return ow;sw=1;var t=Sy(),e=Oy(),i=My(),n=Ly(),o=Dy(),s=e.add,r=e.has,g=e.remove;return ow=function(e){var A=t(this),a=n(e).getIterator(),C=i(A);return o(a,function(t){r(A,t)?g(C,t):s(C,t)}),C}}function Iw(){return gw?rw:(gw=1,rw=function(t){try{var e=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](i);return 1===n.size&&4===n.values().next().value}catch(t){return!1}})}var lw,hw,cw,dw,uw,pw,fw,mw,vw,bw={};function yw(){if(hw)return lw;hw=1;var t=Sy(),e=Oy().add,i=My(),n=Ly(),o=Dy();return lw=function(s){var r=t(this),g=n(s).getIterator(),A=i(r);return o(g,function(t){e(A,t)}),A}}function ww(){return uw?dw:(uw=1,HC(),sy||(sy=1,oy||(oy=1,VI()("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},jI()))),function(){if(ky)return Ty;ky=1;var t=Ii(),e=By(),i=x(),n=!Fy()("difference",function(t){return 0===t.size})||i(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var i=t++>1;return e.has(1)&&e.clear(),{done:i,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});t({target:"Set",proto:!0,real:!0,forced:n},{difference:e})}(),function(){if(Vy)return Zy;Vy=1;var t=Ii(),e=x(),i=Wy();t({target:"Set",proto:!0,real:!0,forced:!Fy()("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:i})}(),function(){if(Hy)return Yy;Hy=1;var t=Ii(),e=Uy();t({target:"Set",proto:!0,real:!0,forced:!Fy()("isDisjointFrom",function(t){return!t})},{isDisjointFrom:e})}(),function(){if(Xy)return qy;Xy=1;var t=Ii(),e=Jy();t({target:"Set",proto:!0,real:!0,forced:!Fy()("isSubsetOf",function(t){return t})},{isSubsetOf:e})}(),function(){if(ew)return iw;ew=1;var t=Ii(),e=nw();t({target:"Set",proto:!0,real:!0,forced:!Fy()("isSupersetOf",function(t){return!t})},{isSupersetOf:e})}(),function(){if(Aw)return aw;Aw=1;var t=Ii(),e=Cw(),i=Iw();t({target:"Set",proto:!0,real:!0,forced:!Fy()("symmetricDifference")||!i("symmetricDifference")},{symmetricDifference:e})}(),function(){if(cw)return bw;cw=1;var t=Ii(),e=yw(),i=Iw();t({target:"Set",proto:!0,real:!0,forced:!Fy()("union")||!i("union")},{union:e})}(),rl(),dw=Ot().Set)}function xw(){if(fw)return pw;fw=1;var t=ww();return pl(),pw=t}var Ew,kw,Tw,Sw,Ow,Dw,Nw,Mw,Rw,Pw,Lw=s(vw?mw:(vw=1,mw=xw())),Bw={};function Fw(){if(kw)return Ew;kw=1;var t=T(),e=WI(),i=RI().getWeakData,n=zI(),o=Ai(),s=Et(),r=St(),g=_I(),A=PA(),a=be(),C=DC(),I=C.set,l=C.getterFor,h=A.find,c=A.findIndex,d=t([].splice),u=0,p=function(t){return t.frozen||(t.frozen=new f)},f=function(){this.entries=[]},m=function(t,e){return h(t.entries,function(t){return t[0]===e})};return f.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var i=m(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=c(this.entries,function(e){return e[0]===t});return~e&&d(this.entries,e,1),!!~e}},Ew={getConstructor:function(t,A,C,h){var c=t(function(t,e){n(t,d),I(t,{type:A,id:u++,frozen:null}),s(e)||g(e,t[h],{that:t,AS_ENTRIES:C})}),d=c.prototype,f=l(A),m=function(t,e,n){var s=f(t),r=i(o(e),!0);return!0===r?p(s).set(e,n):r[s.id]=n,t};return e(d,{delete:function(t){var e=f(this);if(!r(t))return!1;var n=i(t);return!0===n?p(e).delete(t):n&&a(n,e.id)&&delete n[e.id]},has:function(t){var e=f(this);if(!r(t))return!1;var n=i(t);return!0===n?p(e).has(t):n&&a(n,e.id)}}),e(d,C?{get:function(t){var e=f(this);if(r(t)){var n=i(t);if(!0===n)return p(e).get(t);if(n)return n[e.id]}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),c}}}function _w(){return Dw?Ow:(Dw=1,HC(),Sw||(Sw=1,function(){if(Tw)return Bw;Tw=1;var t,e=MI(),i=w(),n=T(),o=WI(),s=RI(),r=VI(),g=Fw(),A=St(),a=DC().enforce,C=x(),I=OC(),l=Object,h=Array.isArray,c=l.isExtensible,d=l.isFrozen,u=l.isSealed,p=l.freeze,f=l.seal,m=!i.ActiveXObject&&"ActiveXObject"in i,v=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},b=r("WeakMap",v,g),y=b.prototype,E=n(y.set);if(I)if(m){t=g.getConstructor(v,"WeakMap",!0),s.enable();var k=n(y.delete),S=n(y.has),O=n(y.get);o(y,{delete:function(e){if(A(e)&&!c(e)){var i=a(this);return i.frozen||(i.frozen=new t),k(this,e)||i.frozen.delete(e)}return k(this,e)},has:function(e){if(A(e)&&!c(e)){var i=a(this);return i.frozen||(i.frozen=new t),S(this,e)||i.frozen.has(e)}return S(this,e)},get:function(e){if(A(e)&&!c(e)){var i=a(this);return i.frozen||(i.frozen=new t),S(this,e)?O(this,e):i.frozen.get(e)}return O(this,e)},set:function(e,i){if(A(e)&&!c(e)){var n=a(this);n.frozen||(n.frozen=new t),S(this,e)?E(this,e,i):n.frozen.set(e,i)}else E(this,e,i);return this}})}else e&&C(function(){var t=p([]);return E(new b,t,1),!d(t)})&&o(y,{set:function(t,e){var i;return h(t)&&(d(t)?i=p:u(t)&&(i=f)),E(this,t,e),i&&i(t),this}})}()),Ow=Ot().WeakMap)}function zw(){if(Mw)return Nw;Mw=1;var t=_w();return pl(),Nw=t}var Vw=s(Pw?Rw:(Pw=1,Rw=zw()));function Zw(t,e,i){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,i)}function Ww(t,e,i){return t.set(jw(t,e),i),i}function Gw(t,e){return t.get(jw(t,e))}function jw(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function Hw(t,e){const i=new Lw;for(const n of e)t.has(n)||i.add(n);return i}var Yw=new Vw,Uw=new Vw;class Kw{constructor(){Zw(this,Yw,new Lw),Zw(this,Uw,new Lw)}get size(){return Gw(Uw,this).size}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const t of e)Gw(Uw,this).add(t)}delete(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const t of e)Gw(Uw,this).delete(t)}clear(){Gw(Uw,this).clear()}getSelection(){return[...Gw(Uw,this)]}getChanges(){return{added:[...Hw(Gw(Yw,this),Gw(Uw,this))],deleted:[...Hw(Gw(Uw,this),Gw(Yw,this))],previous:[...new Lw(Gw(Yw,this))],current:[...new Lw(Gw(Uw,this))]}}commit(){const t=this.getChanges();Ww(Yw,this,Gw(Uw,this)),Ww(Uw,this,new Lw(Gw(Yw,this)));for(const e of t.added)e.select();for(const e of t.deleted)e.unselect();return t}}var Qw=new Vw,Xw=new Vw,qw=new Vw;class Jw{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Zw(this,Qw,new Kw),Zw(this,Xw,new Kw),Zw(this,qw,void 0),Ww(qw,this,t)}get sizeNodes(){return Gw(Qw,this).size}get sizeEdges(){return Gw(Xw,this).size}getNodes(){return Gw(Qw,this).getSelection()}getEdges(){return Gw(Xw,this).getSelection()}addNodes(){Gw(Qw,this).add(...arguments)}addEdges(){Gw(Xw,this).add(...arguments)}deleteNodes(t){Gw(Qw,this).delete(t)}deleteEdges(t){Gw(Xw,this).delete(t)}clear(){Gw(Qw,this).clear(),Gw(Xw,this).clear()}commit(){const t={nodes:Gw(Qw,this).commit(),edges:Gw(Xw,this).commit()};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return Gw(qw,this).call(this,t,...i),t}}class $w{constructor(t,e){this.body=t,this.canvas=e,this._selectionAccumulator=new Jw,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ji(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(t){void 0!==t&&ps(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}selectOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}selectAdditionalOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}_initBaseEvent(t,e){const i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}generateClickEvent(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this._initBaseEvent(e,i);if(!0===o)s.nodes=[],s.edges=[];else{const t=this.getSelection();s.nodes=t.nodes,s.edges=t.edges}void 0!==n&&(s.previousSelection=n),"click"==t&&(s.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(s.controlEdge=e.controlEdge),this.body.emitter.emit(t,s)}selectObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof ev?(!0===e&&this._selectionAccumulator.addEdges(...t.edges),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}deselectObject(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}_getAllNodesOverlappingWith(t){const e=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}_pointerToPositionObject(t){const e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}getNodeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}_getEdgesOverlappingWith(t,e){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}_getAllEdgesOverlappingWith(t){const e=[];return this._getEdgesOverlappingWith(t,e),e}getEdgeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.canvas.DOMtoCanvas(t);let n=10,o=null;const s=this.body.edges;for(let t=0;t<this.body.edgeIndices.length;t++){const e=this.body.edgeIndices[t],r=s[e];if(r.connected){const t=r.from.x,s=r.from.y,g=r.to.x,A=r.to.y,a=r.edgeType.getDistanceToEdge(t,s,g,A,i.x,i.y);a<n&&(o=e,n=a)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}_addToHover(t){t instanceof ev?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}_removeFromSelection(t){t instanceof ev?(this._selectionAccumulator.deleteNodes(t),this._selectionAccumulator.deleteEdges(...t.edges)):this._selectionAccumulator.deleteEdges(t)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(t){for(let e=0;e<t.edges.length;e++){const i=t.edges[e];i.hover=!0,this._addToHover(i)}}emitBlurEvent(t,e,i){const n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof ev?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(t,e,i){const n=this._initBaseEvent(t,e);let o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof ev?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(t,e){let i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof ev&&i.id!=o||i instanceof sb)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof sb&&i.id!=o||i instanceof ev&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(void 0!==i){const o=ah(this.hoverObj.edges).length,s=ah(this.hoverObj.nodes).length;(n||i instanceof sb&&0===o&&0===s||i instanceof ev&&0===o&&0===s)&&(n=this.emitHoverEvent(t,e,i)),i instanceof ev&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(t,e){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var t;return Ta(t=this._selectionAccumulator.getNodes()).call(t,t=>t.id)}getSelectedEdgeIds(){var t;return Ta(t=this._selectionAccumulator.getEdges()).call(t,t=>t.id)}setSelection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(const i of t.nodes){const t=this.body.nodes[i];if(!t)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(t,e.highlightEdges)}if(t.edges)for(const e of t.edges){const t=this.body.edges[e];if(!t)throw new RangeError('Edge with id "'+e+'" not found');this.selectObject(t)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}selectEdges(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}updateSelection(){for(const t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(const t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}getClickedItems(t){const e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let t=n.length-1;t>=0;t--){const s=o[n[t]].getItemsOnPoint(e);i.push.apply(i,s)}const s=this.body.edgeIndices,r=this.body.edges;for(let t=s.length-1;t>=0;t--){const n=r[s[t]].getItemsOnPoint(e);i.push.apply(i,n)}return i}}var tx,ex,ix,nx,ox,sx,rx,gx,Ax,ax,Cx,Ix,lx,hx,cx,dx,ux,px={};function fx(){if(ex)return tx;ex=1;var t=tn(),e=Math.floor,i=function(n,o){var s=n.length;if(s<8)for(var r,g,A=1;A<s;){for(g=A,r=n[A];g&&o(n[g-1],r)>0;)n[g]=n[--g];g!==A++&&(n[g]=r)}else for(var a=e(s/2),C=i(t(n,0,a),o),I=i(t(n,a),o),l=C.length,h=I.length,c=0,d=0;c<l||d<h;)n[c+d]=c<l&&d<h?o(C[c],I[d])<=0?C[c++]:I[d++]:c<l?C[c++]:I[d++];return n};return tx=i}function mx(){if(nx)return ix;nx=1;var t=Mt().match(/firefox\/(\d+)/i);return ix=!!t&&+t[1]}function vx(){return sx?ox:(sx=1,ox=/MSIE|Trident/.test(Mt()))}function bx(){if(gx)return rx;gx=1;var t=Mt().match(/AppleWebKit\/(\d+)\./);return rx=!!t&&+t[1]}function yx(){return Cx?ax:(Cx=1,function(){if(Ax)return px;Ax=1;var t=Ii(),e=T(),i=_t(),n=ve(),o=ui(),s=oA(),r=cg(),g=x(),A=fx(),a=Or(),C=mx(),I=vx(),l=Rt(),h=bx(),c=[],d=e(c.sort),u=e(c.push),p=g(function(){c.sort(void 0)}),f=g(function(){c.sort(null)}),m=a("sort"),v=!g(function(){if(l)return l<70;if(!(C&&C>3)){if(I)return!0;if(h)return h<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)c.push({k:e+n,v:i})}for(c.sort(function(t,e){return e.v-t.v}),n=0;n<c.length;n++)e=c[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}});t({target:"Array",proto:!0,forced:p||!f||!m||!v},{sort:function(t){void 0!==t&&i(t);var e=n(this);if(v)return void 0===t?d(e):d(e,t);var g,a,C=[],I=o(e);for(a=0;a<I;a++)a in e&&u(C,e[a]);for(A(C,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:r(e)>r(i)?1:-1}}(t)),g=o(C),a=0;a<g;)e[a]=C[a++];for(;a<I;)s(e,a++);return e}})}(),ax=nn()("Array","sort"))}function wx(){if(lx)return Ix;lx=1;var t=Nt(),e=yx(),i=Array.prototype;return Ix=function(n){var o=n.sort;return n===i||t(i,n)&&o===i.sort?e:o}}function xx(){return cx?hx:(cx=1,hx=wx())}var Ex,kx,Tx,Sx,Ox,Dx,Nx,Mx,Rx,Px=s(ux?dx:(ux=1,dx=xx())),Lx={};function Bx(){if(kx)return Ex;kx=1;var t=B(),e=x(),i=T(),n=RC(),o=bi(),s=Tt(),r=i(yt().f),g=i([].push),A=t&&e(function(){var t=Object.create(null);return t[2]=2,!r(t,2)}),a=function(e){return function(i){for(var a,C=s(i),I=o(C),l=A&&null===n(C),h=I.length,c=0,d=[];h>c;)a=I[c++],t&&!(l?a in C:r(C,a))||g(d,e?[a,C[a]]:C[a]);return d}};return Ex={entries:a(!0),values:a(!1)}}function Fx(){return Ox?Sx:(Ox=1,function(){if(Tx)return Lx;Tx=1;var t=Ii(),e=Bx().values;t({target:"Object",stat:!0},{values:function(t){return e(t)}})}(),Sx=Ot().Object.values)}function _x(){return Nx?Dx:(Nx=1,Dx=Fx())}var zx,Vx,Zx,Wx,Gx,jx,Hx,Yx,Ux,Kx,Qx,Xx,qx,Jx=s(Rx?Mx:(Rx=1,Mx=_x())),$x={};function tE(){if(Vx)return zx;Vx=1;var t=_t(),e=ve(),i=xt(),n=ui(),o=TypeError,s="Reduce of empty array with no initial value",r=function(r){return function(g,A,a,C){var I=e(g),l=i(I),h=n(I);if(t(A),0===h&&a<2)throw new o(s);var c=r?h-1:0,d=r?-1:1;if(a<2)for(;;){if(c in l){C=l[c],c+=d;break}if(c+=d,r?c<0:h<=c)throw new o(s)}for(;r?c>=0:h>c;c+=d)c in l&&(C=A(C,l[c],c,I));return C}};return zx={left:r(!1),right:r(!0)}}function eE(){return Wx?Zx:(Wx=1,Zx="NODE"===xh())}function iE(){return Hx?jx:(Hx=1,function(){if(Gx)return $x;Gx=1;var t=Ii(),e=tE().left,i=Or(),n=Rt();t({target:"Array",proto:!0,forced:!eE()&&n>79&&n<83||!i("reduce")},{reduce:function(t){var i=arguments.length;return e(this,t,i,i>1?arguments[1]:void 0)}})}(),jx=nn()("Array","reduce"))}function nE(){if(Ux)return Yx;Ux=1;var t=Nt(),e=iE(),i=Array.prototype;return Yx=function(n){var o=n.reduce;return n===i||t(i,n)&&o===i.reduce?e:o}}function oE(){return Qx?Kx:(Qx=1,Kx=nE())}var sE=s(qx?Xx:(qx=1,Xx=oE()));class rE{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(t){return this.fake_use(t),this.abstract()}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}getTreeSize(t){return this.fake_use(t),this.abstract()}sort(t){this.fake_use(t),this.abstract()}fix(t,e){this.fake_use(t,e),this.abstract()}shift(t,e){this.fake_use(t,e),this.abstract()}}class gE extends rE{constructor(t){super(),this.layout=t}curveType(){return"horizontal"}getPosition(t){return t.x}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}sort(t){Px(t).call(t,function(t,e){return t.x-e.x})}fix(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}shift(t,e){this.layout.body.nodes[t].x+=e}}class AE extends rE{constructor(t){super(),this.layout=t}curveType(){return"vertical"}getPosition(t){return t.y}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}sort(t){Px(t).call(t,function(t,e){return t.y-e.y})}fix(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}shift(t,e){this.layout.body.nodes[t].y+=e}}var aE,CE,IE,lE,hE,cE,dE,uE,pE,fE={};function mE(){return IE?CE:(IE=1,function(){if(aE)return fE;aE=1;var t=Ii(),e=PA().every;t({target:"Array",proto:!0,forced:!Or()("every")},{every:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}(),CE=nn()("Array","every"))}function vE(){if(hE)return lE;hE=1;var t=Nt(),e=mE(),i=Array.prototype;return lE=function(n){var o=n.every;return n===i||t(i,n)&&o===i.every?e:o}}function bE(){return dE?cE:(dE=1,cE=vE())}var yE=s(pE?uE:(pE=1,uE=bE()));function wE(t,e){const i=new Lw;return zA(t).call(t,t=>{var e;zA(e=t.edges).call(e,t=>{t.connected&&i.add(t)})}),zA(i).call(i,t=>{const i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)}),e}function xE(t,e,i,n){var o;const s=Tr(null),r=sE(o=[...Am(n).call(n)]).call(o,(t,e)=>t+1+e.edges.length,0),g=i+"Id",A="to"===i?1:-1;for(const[o,I]of n){if(!n.has(o)||!t(I))continue;s[o]=0;const l=[I];let h,c=0;for(;h=l.pop();){var a,C;if(!n.has(o))continue;const t=s[h.id]+A;if(zA(a=Np(C=h.edges).call(C,t=>t.connected&&t.to!==t.from&&t[i]!==h&&n.has(t.toId)&&n.has(t.fromId))).call(a,n=>{const o=n[g],r=s[o];(null==r||e(t,r))&&(s[o]=t,l.push(n[i]))}),c>r)return wE(n,s);++c}}return s}class EE{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}checkIfTree(){for(const t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}ensureLevel(t){void 0===this.levels[t]&&(this.levels[t]=0)}getMaxLevel(t){const e={},i=t=>{if(void 0!==e[t])return e[t];let n=this.levels[t];if(this.childrenReference[t]){const e=this.childrenReference[t];if(e.length>0)for(let t=0;t<e.length;t++)n=Math.max(n,i(e[t]))}return e[t]=n,n};return i(t)}levelDownstream(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}setMinLevelToZero(){var t;const e=new kl;let i=0;const n=Px(t=[...new Lw(Jx(this.levels))]).call(t,(t,e)=>t-e);for(const t of n)e.set(t,i++);for(const t in this.levels)Object.prototype.hasOwnProperty.call(this.levels,t)&&(this.levels[t]=e.get(this.levels[t]))}getTreeSize(t,e){let i=1e9,n=-1e9,o=1e9,s=-1e9;for(const r in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,r)&&this.trees[r]===e){const e=t[r];i=Math.min(e.x,i),n=Math.max(e.x,n),o=Math.min(e.y,o),s=Math.max(e.y,s)}return{min_x:i,max_x:n,min_y:o,max_y:s}}hasSameParent(t,e){const i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(let t=0;t<i.length;t++)for(let e=0;e<n.length;e++)if(i[t]==n[e])return!0;return!1}inSameSubNetwork(t,e){return this.trees[t.id]===this.trees[e.id]}getLevels(){return ah(this.distributionOrdering)}addToOrdering(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);let i=!1;const n=this.distributionOrdering[e];for(const e in n)if(n[e]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}class kE{constructor(t){this.body=t,this._resetRNG(Math.random()+":"+pb()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ji(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;const t=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}setOptions(t,e){if(void 0!==t){const i=this.options.hierarchical,n=i.enabled;if(ps(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Ps(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),ms(e,this.optionsBackup)}return e}_resetRNG(t){this.initialRandomSeed=t,this._rng=ss(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(t){if(!0===this.options.hierarchical.enabled){const e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"==typeof t.physics?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{const e=t.edges.smooth;void 0!==e.type&&"dynamic"!==e.type&&(i=e.type),this.optionsBackup.edges={smooth:{enabled:void 0===e.enabled||e.enabled,type:void 0===e.type?"dynamic":e.type,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}},t.edges.smooth={enabled:void 0===e.enabled||e.enabled,type:i,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}positionInitially(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);const e=t.length+50;for(let i=0;i<t.length;i++){const n=t[i],o=2*Math.PI*this._rng();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){const t=this.body.nodeIndices;let e=0;for(let i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){const e=10;let i=0;const n=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>n){const s=t.length;for(;t.length>n&&i<=e;){i+=1;const e=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),e==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>e&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();const s=70;for(let e=0;e<t.length;e++){const i=this.body.nodes[t[e]];!1===i.predefinedPosition&&(i.x+=(.5-this._rng())*s,i.y+=(.5-this._rng())*s)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const t=Hb.getRangeCore(this.body.nodes,this.body.nodeIndices),e=Hb.findCenter(t);for(let t=0;t<this.body.nodeIndices.length;t++){const i=this.body.nodes[this.body.nodeIndices[t]];i.x-=e.x,i.y-=e.y}}_declusterAll(){let t=!0;for(;!0===t;){t=!1;for(let e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new EE,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===n){const t=this.options.hierarchical.sortMethod;"hubsize"===t?this._determineLevelsByHubsize():"directed"===t?this._determineLevelsDirected():"custom"===t&&this._determineLevelsCustomCallback()}for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.hierarchical.ensureLevel(t);const t=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(t),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var t=this;let e=!1;const i={},n=(t,e)=>{const i=this.hierarchical.trees;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t&&this.direction.shift(n,e)},o=()=>{const t=[];for(let e=0;e<this.hierarchical.numTrees();e++)t.push(this.direction.getTreeSize(e));return t},s=(t,e)=>{if(!e[t.id]&&(e[t.id]=!0,this.hierarchical.childrenReference[t.id])){const i=this.hierarchical.childrenReference[t.id];if(i.length>0)for(let t=0;t<i.length;t++)s(this.body.nodes[i[t]],e)}},r=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,o=1e9,s=1e9,r=-1e9;for(const g in e)if(Object.prototype.hasOwnProperty.call(e,g)){const A=t.body.nodes[g],a=t.hierarchical.levels[A.id],C=t.direction.getPosition(A),[I,l]=t._getSpaceAroundNode(A,e);n=Math.min(I,n),o=Math.min(l,o),a<=i&&(s=Math.min(C,s),r=Math.max(C,r))}return[s,r,n,o]},g=(t,e)=>{const i=this.hierarchical.getMaxLevel(t.id),n=this.hierarchical.getMaxLevel(e.id);return Math.min(i,n)},A=(t,e,i)=>{const n=this.hierarchical;for(let o=0;o<e.length;o++){const s=e[o],r=n.distributionOrdering[s];if(r.length>1)for(let e=0;e<r.length-1;e++){const o=r[e],s=r[e+1];n.hasSameParent(o,s)&&n.inSameSubNetwork(o,s)&&t(o,s,i)}}},a=function(i,n){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=t.direction.getPosition(i),a=t.direction.getPosition(n),C=Math.abs(a-A),I=t.options.hierarchical.nodeSpacing;if(C>I){const A={},a={};s(i,A),s(n,a);const C=g(i,n),l=r(A,C),h=r(a,C),c=l[1],d=h[0],u=h[2];if(Math.abs(c-d)>I){let i=c-d+I;i<-u+I&&(i=-u+I),i<0&&(t._shiftBlock(n.id,i),e=!0,!0===o&&t._centerParent(n))}}},C=(t,n)=>{const o=n.id,g=n.edges,A=this.hierarchical.levels[n.id],a=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,C={},I=[];for(let t=0;t<g.length;t++){const e=g[t];if(e.toId!=e.fromId){const i=e.toId==o?e.from:e.to;C[g[t].id]=i,this.hierarchical.levels[i.id]<A&&I.push(e)}}const l=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==C[e[n].id]){const o=this.direction.getPosition(C[e[n].id])-t;i+=o/Math.sqrt(o*o+a)}return i},h=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==C[e[n].id]){const o=this.direction.getPosition(C[e[n].id])-t;i-=a*Math.pow(o*o+a,-1.5)}return i},c=(t,e)=>{let i=this.direction.getPosition(n);const o={};for(let n=0;n<t;n++){const t=l(i,e),s=h(i,e),r=40;if(i-=Math.max(-r,Math.min(r,Math.round(t/s))),void 0!==o[i])break;o[i]=n}return i};let d=c(t,I);(t=>{const o=this.direction.getPosition(n);if(void 0===i[n.id]){const t={};s(n,t),i[n.id]=t}const g=r(i[n.id]),A=g[2],a=g[3],C=t-o;let I=0;C>0?I=Math.min(C,a-this.options.hierarchical.nodeSpacing):C<0&&(I=-Math.min(-C,A-this.options.hierarchical.nodeSpacing)),0!=I&&(this._shiftBlock(n.id,I),e=!0)})(d),d=c(t,g),(t=>{const i=this.direction.getPosition(n),[o,s]=this._getSpaceAroundNode(n),r=t-i;let g=i;r>0?g=Math.min(i+(s-this.options.hierarchical.nodeSpacing),t):r<0&&(g=Math.max(i-(o-this.options.hierarchical.nodeSpacing),t)),g!==i&&(this.direction.setPosition(n,g),e=!0)})(d)};!0===this.options.hierarchical.blockShifting&&((t=>{let i=this.hierarchical.getLevels();i=jb(i).call(i);for(let n=0;n<t&&(e=!1,A(a,i,!0),!0===e);n++);})(5),(()=>{for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this._centerParent(this.body.nodes[t])})()),!0===this.options.hierarchical.edgeMinimization&&(t=>{let i=this.hierarchical.getLevels();i=jb(i).call(i);for(let n=0;n<t;n++){e=!1;for(let t=0;t<i.length;t++){const e=i[t],n=this.hierarchical.distributionOrdering[e];for(let t=0;t<n.length;t++)C(1e3,n[t])}if(!0!==e)break}})(20),!0===this.options.hierarchical.parentCentralization&&(()=>{let t=this.hierarchical.getLevels();t=jb(t).call(t);for(let e=0;e<t.length;e++){const i=t[e],n=this.hierarchical.distributionOrdering[i];for(let t=0;t<n.length;t++)this._centerParent(n[t])}})(),(()=>{const t=o();let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].max-t[i+1].min+this.options.hierarchical.treeSpacing,n(i+1,e)})()}_getSpaceAroundNode(t,e){let i=!0;void 0===e&&(i=!1);const n=this.hierarchical.levels[t.id];if(void 0!==n){const o=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),r=this.hierarchical.distributionOrdering[n];let g=1e9,A=1e9;if(0!==o){const t=r[o-1];(!0===i&&void 0===e[t.id]||!1===i)&&(g=s-this.direction.getPosition(t))}if(o!=r.length-1){const t=r[o+1];if(!0===i&&void 0===e[t.id]||!1===i){const e=this.direction.getPosition(t);A=Math.min(A,e-s)}}return[g,A]}return[0,0]}_centerParent(t){if(this.hierarchical.parentReference[t.id]){const e=this.hierarchical.parentReference[t.id];for(let t=0;t<e.length;t++){const i=e[t],n=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){const t=this._getCenterPosition(o),e=this.direction.getPosition(n),[i,s]=this._getSpaceAroundNode(n),r=e-t;(r<0&&Math.abs(r)<s-this.options.hierarchical.nodeSpacing||r>0&&Math.abs(r)<i-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,t)}}}}_placeNodesByHierarchy(t){this.positionedNodes={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e;let n=ah(t[i]);n=this._indexArrayToNodes(n),Px(e=this.direction).call(e,n);let o=0;for(let t=0;t<n.length;t++){const e=n[t];if(void 0===this.positionedNodes[e.id]){const s=this.options.hierarchical.nodeSpacing;let r=s*o;o>0&&(r=this.direction.getPosition(n[t-1])+s),this.direction.setPosition(e,r,i),this._validatePositionAndContinue(e,i,r),o++}}}}_placeBranchNodes(t,e){var i;const n=this.hierarchical.childrenReference[t];if(void 0===n)return;const o=[];for(let t=0;t<n.length;t++)o.push(this.body.nodes[n[t]]);Px(i=this.direction).call(i,o);for(let i=0;i<o.length;i++){const n=o[i],s=this.hierarchical.levels[n.id];if(!(s>e&&void 0===this.positionedNodes[n.id]))return;{const e=this.options.hierarchical.nodeSpacing;let r;r=0===i?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(o[i-1])+e,this.direction.setPosition(n,r,s),this._validatePositionAndContinue(n,s,r)}}const s=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[t],s,e)}_validatePositionAndContinue(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}_indexArrayToNodes(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}_getDistribution(){const t={};let e,i;for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){i=this.body.nodes[e];const n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}_getActiveEdges(t){const e=[];return ws(t.edges,t=>{var i;-1!==_r(i=this.body.edgeIndices).call(i,t.id)&&e.push(t)}),e}_getHubSizes(){const t={};ws(this.body.nodeIndices,e=>{const i=this.body.nodes[e],n=this._getActiveEdges(i).length;t[n]=!0});const e=[];return ws(t,t=>{e.push(Number(t))}),Px(e).call(e,function(t,e){return e-t}),e}_determineLevelsByHubsize(){const t=(t,e)=>{this.hierarchical.levelDownstream(t,e)},e=this._getHubSizes();for(let i=0;i<e.length;++i){const n=e[i];if(0===n)break;ws(this.body.nodeIndices,e=>{const i=this.body.nodes[e];n===this._getActiveEdges(i).length&&this._crawlNetwork(t,e)})}}_determineLevelsCustomCallback(){this._crawlNetwork((t,e,i)=>{let n=this.hierarchical.levels[t.id];void 0===n&&(n=this.hierarchical.levels[t.id]=1e5);const o=(Hb.cloneOptions(t,"node"),Hb.cloneOptions(e,"node"),void Hb.cloneOptions(i,"edge"));this.hierarchical.levels[e.id]=n+o}),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var t;const e=sE(t=this.body.nodeIndices).call(t,(t,e)=>(t.set(e,this.body.nodes[e]),t),new kl);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return xE(e=>{var i,n;return yE(i=Np(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.from===e)},(t,e)=>e<t,"to",t)}(e):this.hierarchical.levels=function(t){return xE(e=>{var i,n;return yE(i=Np(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.to===e)},(t,e)=>e>t,"from",t)}(e),this.hierarchical.setMinLevelToZero()}_generateMap(){this._crawlNetwork((t,e)=>{this.hierarchical.levels[e.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,e.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0;const i={},n=(e,o)=>{if(void 0===i[e.id]){let s;this.hierarchical.setTreeIndex(e,o),i[e.id]=!0;const r=this._getActiveEdges(e);for(let i=0;i<r.length;i++){const g=r[i];!0===g.connected&&(s=g.toId==e.id?g.from:g.to,e.id!=s.id&&(t(e,s,g),n(s,o)))}}};if(void 0===e){let t=0;for(let e=0;e<this.body.nodeIndices.length;e++){const o=this.body.nodeIndices[e];if(void 0===i[o]){const e=this.body.nodes[o];n(e,t),t+=1}}}else{const t=this.body.nodes[e];if(void 0===t)return void console.error("Node not found:",e);n(t)}}_shiftBlock(t,e){const i={},n=t=>{if(i[t])return;i[t]=!0,this.direction.shift(t,e);const o=this.hierarchical.childrenReference[t];if(void 0!==o)for(let t=0;t<o.length;t++)n(o[t])};n(t)}_findCommonParent(t,e){const i={},n=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let e=0;e<i.length;e++){const o=i[e];t[o]=!0,n(t,o)}},o=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let n=0;n<i.length;n++){const s=i[n];if(void 0!==t[s])return{foundParent:s,withChild:e};const r=o(t,s);if(null!==r.foundParent)return r}return{foundParent:null,withChild:e}};return n(i,t),o(i,e)}setDirectionStrategy(){const t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new gE(this):new AE(this)}_getCenterPosition(t){let e=1e9,i=-1e9;for(let n=0;n<t.length;n++){let o;if(void 0!==t[n].id)o=t[n];else{const e=t[n];o=this.body.nodes[e]}const s=this.direction.getPosition(o);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}class TE{constructor(t,e,i,n){var o,s;this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ji(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",gn(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",gn(s=this._restore).call(s,this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,ms(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,s=this.options.locales[this.options.locale];let r=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),r=!0),!1!==this.options.addEdge&&(!0===r?this._createSeperator(1):r=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===r?this._createSeperator(2):r=!0,this._createEditNodeButton(s)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===r?this._createSeperator(3):r=!0,this._createEditEdgeButton(s)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===r&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,gn(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",gn(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,gn(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",gn(t=this._performAddNode).call(t,this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();const t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){const e=ms({},t.options,!1);if(e.x=t.x,e.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(e,t=>{null!=t&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(t),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}addEdgeMode(){var t,e,i,n,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,gn(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",gn(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",gn(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",gn(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",gn(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",gn(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"==typeof this.options.editEdge&&"function"==typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId)){const t=this.body.edges[this.edgeBeingEditedId];return void this._performEditEdge(t.from.id,t.to.id)}if(!0===this.guiEnabled){var t;const e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,gn(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var e,i,n,o;const t=this.body.edges[this.edgeBeingEditedId],s=this._getNewTargetNode(t.from.x,t.from.y),r=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(s.id),this.temporaryIds.nodes.push(r.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this._temporaryBindUI("onTouch",gn(e=this._controlNodeTouch).call(e,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",gn(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",gn(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",gn(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",e=>{const i=t.edgeType.findBorderPositions(e);!1===s.selected&&(s.x=i.from.x,s.y=i.from.y),!1===r.selected&&(r.x=i.to.x,r.y=i.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";const t=this.selectionHandler.getSelectedNodeIds(),e=this.selectionHandler.getSelectedEdgeIds();let i;if(t.length>0){for(let e=0;e<t.length;e++)if(!0===this.body.nodes[t[e]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else e.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){const n={nodes:t,edges:e};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(n,t=>{null!=t&&"delete"===this.inMode?(this.body.data.edges.getDataSet().remove(t.edges),this.body.data.nodes.getDataSet().remove(t.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(e),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(t,e){const i=ms({},this.options.controlNodeStyle);i.id="targetNode"+Zh(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}_createEditButton(){var t;this._clean(),this.manipulationDOM={},ls(this.editModeDiv);const e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,gn(t=this.toggleEditMode).call(t,this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(ls(this.editModeDiv),ls(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const e of uA(t=this._domEventListenerCleanupQueue).call(t,0)){var t;e()}}_removeManipulationDOM(){this._clean(),ls(this.manipulationDiv),ls(this.editModeDiv),ls(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}_createAddNodeButton(t){var e;const i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,gn(e=this.addNodeMode).call(e,this))}_createAddEdgeButton(t){var e;const i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,gn(e=this.addEdgeMode).call(e,this))}_createEditNodeButton(t){var e;const i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,gn(e=this.editNode).call(e,this))}_createEditEdgeButton(t){var e;const i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,gn(e=this.editEdgeMode).call(e,this))}_createDeleteButton(t){var e;let i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";const n=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,gn(e=this.deleteSelected).call(e,this))}_createBackButton(t){var e;const i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,gn(e=this.showManipulatorToolbar).call(e,this))}_createButton(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}_createDescription(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}_temporaryBindUI(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+Ov(ah(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}_unbindTemporaryUIs(){for(const t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let t=0;t<this.temporaryEventFunctions.length;t++){const e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}_bindElementEvents(t,e){const i=new Hs(t,{});qb(i,e),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=t=>{let{keyCode:i,key:n}=t;"Enter"!==n&&" "!==n&&13!==i&&32!==i||e()};t.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{t.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let i=0;i<this.temporaryIds.edges.length;i++){var t;this.body.edges[this.temporaryIds.edges[i]].disconnect(),delete this.body.edges[this.temporaryIds.edges[i]];const n=_r(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[i]);var e;-1!==n&&uA(e=this.body.edgeIndices).call(e,n,1)}for(let t=0;t<this.temporaryIds.nodes.length;t++){var i;delete this.body.nodes[this.temporaryIds.nodes[t]];const e=_r(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[t]);var n;-1!==e&&uA(n=this.body.nodeIndices).call(n,e,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Ji({},this.body.view.translation)}_controlNodeDragStart(){const t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const s=i.isOverlappingWith(e),r=n.isOverlappingWith(e);!0===s?(this.selectedControlNode=i,o.edgeType.from=i):!0===r&&(this.selectedControlNode=n,o.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(t){this.body.emitter.emit("disablePhysics");const e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let t=o.length-1;t>=0;t--)if(o[t]!==this.selectedControlNode.id){s=this.body.nodes[o[t]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(!0===s.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const t=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===t.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Ji({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const t=this._getNewTargetNode(i.x,i.y);this.body.nodes[t.id]=t,this.body.nodeIndices.push(t.id);const e=this.body.functions.createEdge({id:"connectionEdge"+Zh(),from:i.id,to:t.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[e.id]=e,this.body.edgeIndices.push(e.id),this.temporaryIds.nodes.push(t.id),this.temporaryIds.edges.push(e.id)}this.touchTime=(new Date).valueOf()}}_dragControlNode(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let t=o.length-1;t>=0;t--){var r;if(-1===_r(r=this.temporaryIds.nodes).call(r,o[t])){s=this.body.nodes[o[t]];break}}if(t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){const t=this.body.nodes[this.temporaryIds.nodes[0]];t.x=this.canvas._XconvertDOMtoCanvas(e.x),t.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}_finishConnect(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let t=o.length-1;t>=0;t--){var r;if(-1===_r(r=this.temporaryIds.nodes).call(r,o[t])){s=this.body.nodes[o[t]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id)),t.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}_dragStartEdge(t){const e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}_performAddNode(t){const e={id:Zh(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(e,t=>{null!=t&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()}_performAddEdge(t,e){const i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,t=>{null!=t&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(t,e){const i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if("object"==typeof n&&(n=n.editWithoutDrag),"function"==typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(i,t=>{null==t||"editEdge"!==this.inMode?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const SE="string",OE="boolean",DE="number",NE="array",ME="object",RE=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],PE={borderWidth:{number:DE},borderWidthSelected:{number:DE,undefined:"undefined"},brokenImage:{string:SE,undefined:"undefined"},chosen:{label:{boolean:OE,function:"function"},node:{boolean:OE,function:"function"},__type__:{object:ME,boolean:OE}},color:{border:{string:SE},background:{string:SE},highlight:{border:{string:SE},background:{string:SE},__type__:{object:ME,string:SE}},hover:{border:{string:SE},background:{string:SE},__type__:{object:ME,string:SE}},__type__:{object:ME,string:SE}},opacity:{number:DE,undefined:"undefined"},fixed:{x:{boolean:OE},y:{boolean:OE},__type__:{object:ME,boolean:OE}},font:{align:{string:SE},color:{string:SE},size:{number:DE},face:{string:SE},background:{string:SE},strokeWidth:{number:DE},strokeColor:{string:SE},vadjust:{number:DE},multi:{boolean:OE,string:SE},bold:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},boldital:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},ital:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},mono:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},__type__:{object:ME,string:SE}},group:{string:SE,number:DE,undefined:"undefined"},heightConstraint:{minimum:{number:DE},valign:{string:SE},__type__:{object:ME,boolean:OE,number:DE}},hidden:{boolean:OE},icon:{face:{string:SE},code:{string:SE},size:{number:DE},color:{string:SE},weight:{string:SE,number:DE},__type__:{object:ME}},id:{string:SE,number:DE},image:{selected:{string:SE,undefined:"undefined"},unselected:{string:SE,undefined:"undefined"},__type__:{object:ME,string:SE}},imagePadding:{top:{number:DE},right:{number:DE},bottom:{number:DE},left:{number:DE},__type__:{object:ME,number:DE}},label:{string:SE,undefined:"undefined"},labelHighlightBold:{boolean:OE},level:{number:DE,undefined:"undefined"},margin:{top:{number:DE},right:{number:DE},bottom:{number:DE},left:{number:DE},__type__:{object:ME,number:DE}},mass:{number:DE},physics:{boolean:OE},scaling:{min:{number:DE},max:{number:DE},label:{enabled:{boolean:OE},min:{number:DE},max:{number:DE},maxVisible:{number:DE},drawThreshold:{number:DE},__type__:{object:ME,boolean:OE}},customScalingFunction:{function:"function"},__type__:{object:ME}},shadow:{enabled:{boolean:OE},color:{string:SE},size:{number:DE},x:{number:DE},y:{number:DE},__type__:{object:ME,boolean:OE}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:OE,array:NE},borderRadius:{number:DE},interpolation:{boolean:OE},useImageSize:{boolean:OE},useBorderWithImage:{boolean:OE},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ME}},size:{number:DE},title:{string:SE,dom:"dom",undefined:"undefined"},value:{number:DE,undefined:"undefined"},widthConstraint:{minimum:{number:DE},maximum:{number:DE},__type__:{object:ME,boolean:OE,number:DE}},x:{number:DE},y:{number:DE},__type__:{object:ME}},LE={configure:{enabled:{boolean:OE},filter:{boolean:OE,string:SE,array:NE,function:"function"},container:{dom:"dom"},showButton:{boolean:OE},__type__:{object:ME,boolean:OE,string:SE,array:NE,function:"function"}},edges:{arrows:{to:{enabled:{boolean:OE},scaleFactor:{number:DE},type:{string:RE},imageHeight:{number:DE},imageWidth:{number:DE},src:{string:SE},__type__:{object:ME,boolean:OE}},middle:{enabled:{boolean:OE},scaleFactor:{number:DE},type:{string:RE},imageWidth:{number:DE},imageHeight:{number:DE},src:{string:SE},__type__:{object:ME,boolean:OE}},from:{enabled:{boolean:OE},scaleFactor:{number:DE},type:{string:RE},imageWidth:{number:DE},imageHeight:{number:DE},src:{string:SE},__type__:{object:ME,boolean:OE}},__type__:{string:["from","to","middle"],object:ME}},endPointOffset:{from:{number:DE},to:{number:DE},__type__:{object:ME,number:DE}},arrowStrikethrough:{boolean:OE},background:{enabled:{boolean:OE},color:{string:SE},size:{number:DE},dashes:{boolean:OE,array:NE},__type__:{object:ME,boolean:OE}},chosen:{label:{boolean:OE,function:"function"},edge:{boolean:OE,function:"function"},__type__:{object:ME,boolean:OE}},color:{color:{string:SE},highlight:{string:SE},hover:{string:SE},inherit:{string:["from","to","both"],boolean:OE},opacity:{number:DE},__type__:{object:ME,string:SE}},dashes:{boolean:OE,array:NE},font:{color:{string:SE},size:{number:DE},face:{string:SE},background:{string:SE},strokeWidth:{number:DE},strokeColor:{string:SE},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:DE},multi:{boolean:OE,string:SE},bold:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},boldital:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},ital:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},mono:{color:{string:SE},size:{number:DE},face:{string:SE},mod:{string:SE},vadjust:{number:DE},__type__:{object:ME,string:SE}},__type__:{object:ME,string:SE}},hidden:{boolean:OE},hoverWidth:{function:"function",number:DE},label:{string:SE,undefined:"undefined"},labelHighlightBold:{boolean:OE},length:{number:DE,undefined:"undefined"},physics:{boolean:OE},scaling:{min:{number:DE},max:{number:DE},label:{enabled:{boolean:OE},min:{number:DE},max:{number:DE},maxVisible:{number:DE},drawThreshold:{number:DE},__type__:{object:ME,boolean:OE}},customScalingFunction:{function:"function"},__type__:{object:ME}},selectionWidth:{function:"function",number:DE},selfReferenceSize:{number:DE},selfReference:{size:{number:DE},angle:{number:DE},renderBehindTheNode:{boolean:OE},__type__:{object:ME}},shadow:{enabled:{boolean:OE},color:{string:SE},size:{number:DE},x:{number:DE},y:{number:DE},__type__:{object:ME,boolean:OE}},smooth:{enabled:{boolean:OE},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:DE},forceDirection:{string:["horizontal","vertical","none"],boolean:OE},__type__:{object:ME,boolean:OE}},title:{string:SE,undefined:"undefined"},width:{number:DE},widthConstraint:{maximum:{number:DE},__type__:{object:ME,boolean:OE,number:DE}},value:{number:DE,undefined:"undefined"},__type__:{object:ME}},groups:{useDefaultGroups:{boolean:OE},__any__:PE,__type__:{object:ME}},interaction:{dragNodes:{boolean:OE},dragView:{boolean:OE},hideEdgesOnDrag:{boolean:OE},hideEdgesOnZoom:{boolean:OE},hideNodesOnDrag:{boolean:OE},hover:{boolean:OE},keyboard:{enabled:{boolean:OE},speed:{x:{number:DE},y:{number:DE},zoom:{number:DE},__type__:{object:ME}},bindToWindow:{boolean:OE},autoFocus:{boolean:OE},__type__:{object:ME,boolean:OE}},multiselect:{boolean:OE},navigationButtons:{boolean:OE},selectable:{boolean:OE},selectConnectedEdges:{boolean:OE},hoverConnectedEdges:{boolean:OE},tooltipDelay:{number:DE},zoomView:{boolean:OE},zoomSpeed:{number:DE},__type__:{object:ME}},layout:{randomSeed:{undefined:"undefined",number:DE,string:SE},improvedLayout:{boolean:OE},clusterThreshold:{number:DE},hierarchical:{enabled:{boolean:OE},levelSeparation:{number:DE},nodeSpacing:{number:DE},treeSpacing:{number:DE},blockShifting:{boolean:OE},edgeMinimization:{boolean:OE},parentCentralization:{boolean:OE},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ME,boolean:OE}},__type__:{object:ME}},manipulation:{enabled:{boolean:OE},initiallyActive:{boolean:OE},addNode:{boolean:OE,function:"function"},addEdge:{boolean:OE,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ME,boolean:OE,function:"function"}},deleteNode:{boolean:OE,function:"function"},deleteEdge:{boolean:OE,function:"function"},controlNodeStyle:PE,__type__:{object:ME,boolean:OE}},nodes:PE,physics:{enabled:{boolean:OE},barnesHut:{theta:{number:DE},gravitationalConstant:{number:DE},centralGravity:{number:DE},springLength:{number:DE},springConstant:{number:DE},damping:{number:DE},avoidOverlap:{number:DE},__type__:{object:ME}},forceAtlas2Based:{theta:{number:DE},gravitationalConstant:{number:DE},centralGravity:{number:DE},springLength:{number:DE},springConstant:{number:DE},damping:{number:DE},avoidOverlap:{number:DE},__type__:{object:ME}},repulsion:{centralGravity:{number:DE},springLength:{number:DE},springConstant:{number:DE},nodeDistance:{number:DE},damping:{number:DE},__type__:{object:ME}},hierarchicalRepulsion:{centralGravity:{number:DE},springLength:{number:DE},springConstant:{number:DE},nodeDistance:{number:DE},damping:{number:DE},avoidOverlap:{number:DE},__type__:{object:ME}},maxVelocity:{number:DE},minVelocity:{number:DE},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:OE},iterations:{number:DE},updateInterval:{number:DE},onlyDynamicEdges:{boolean:OE},fit:{boolean:OE},__type__:{object:ME,boolean:OE}},timestep:{number:DE},adaptiveTimestep:{boolean:OE},wind:{x:{number:DE},y:{number:DE},__type__:{object:ME}},__type__:{object:ME,boolean:OE}},autoResize:{boolean:OE},clickToUse:{boolean:OE},locale:{string:SE},locales:{__any__:{any:"any"},__type__:{object:ME}},height:{string:SE},width:{string:SE},__type__:{object:ME}},BE={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},FE=(t,e,i)=>{var n;return!(!Kg(t).call(t,"physics")||!Kg(n=BE.physics.solver).call(n,e)||i.physics.solver===e||"wind"===e)};class _E{constructor(){}getDistances(t,e,i){const n={},o=t.edges;for(let t=0;t<e.length;t++){const i={};n[e[t]]=i;for(let n=0;n<e.length;n++)i[e[n]]=t==n?0:1e9}for(let t=0;t<i.length;t++){const e=o[i[t]];!0===e.connected&&void 0!==n[e.fromId]&&void 0!==n[e.toId]&&(n[e.fromId][e.toId]=1,n[e.toId][e.fromId]=1)}const s=e.length;for(let t=0;t<s;t++){const i=e[t],o=n[i];for(let t=0;t<s-1;t++){const r=e[t],g=n[r];for(let A=t+1;A<s;A++){const t=e[A],s=n[t],a=Math.min(g[t],g[i]+o[t]);g[t]=a,s[r]=a}}}return n}}class zE{constructor(t,e,i){this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new _E}setOptions(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}solve(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();let o=0;const s=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));let r=1e9,g=0,A=0,a=0,C=0,I=0;for(;r>.01&&o<s;)for(o+=1,[g,r,A,a]=this._getHighestEnergyNode(i),C=r,I=0;C>1&&I<5;)I+=1,this._moveNode(g,A,a),[C,A,a]=this._getEnergy(g)}_getHighestEnergyNode(t){const e=this.body.nodeIndices,i=this.body.nodes;let n=0,o=e[0],s=0,r=0;for(let g=0;g<e.length;g++){const A=e[g];if(!0!==i[A].predefinedPosition||!0===i[A].isCluster&&!0===t||!0!==i[A].options.fixed.x||!0!==i[A].options.fixed.y){const[t,e,i]=this._getEnergy(A);n<t&&(n=t,o=A,s=e,r=i)}}return[o,n,s,r]}_getEnergy(t){const[e,i]=this.E_sums[t];return[Math.sqrt(e**2+i**2),e,i]}_moveNode(t,e,i){const n=this.body.nodeIndices,o=this.body.nodes;let s=0,r=0,g=0;const A=o[t].x,a=o[t].y,C=this.K_matrix[t],I=this.L_matrix[t];for(let e=0;e<n.length;e++){const i=n[e];if(i!==t){const t=o[i].x,e=o[i].y,n=C[i],l=I[i],h=1/((A-t)**2+(a-e)**2)**1.5;s+=n*(1-l*(a-e)**2*h),r+=n*(l*(A-t)*(a-e)*h),g+=n*(1-l*(A-t)**2*h)}}const l=(e/s+i/r)/(r/s-g/r),h=-(r*l+e)/s;o[t].x+=h,o[t].y+=l,this._updateE_matrix(t)}_createL_matrix(t){const e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}_createK_matrix(t){const e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]**-2}}_createE_matrix(){const t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(let e=0;e<t.length;e++)this.E_matrix[t[e]]=[];for(let i=0;i<t.length;i++){const n=t[i],o=e[n].x,s=e[n].y;let r=0,g=0;for(let A=i;A<t.length;A++){const a=t[A];if(a!==n){const t=e[a].x,C=e[a].y,I=1/Math.sqrt((o-t)**2+(s-C)**2);this.E_matrix[n][A]=[this.K_matrix[n][a]*(o-t-this.L_matrix[n][a]*(o-t)*I),this.K_matrix[n][a]*(s-C-this.L_matrix[n][a]*(s-C)*I)],this.E_matrix[a][i]=this.E_matrix[n][A],r+=this.E_matrix[n][A][0],g+=this.E_matrix[n][A][1]}}this.E_sums[n]=[r,g]}}_updateE_matrix(t){const e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],s=this.L_matrix[t],r=i[t].x,g=i[t].y;let A=0,a=0;for(let C=0;C<e.length;C++){const I=e[C];if(I!==t){const t=n[C],e=t[0],l=t[1],h=i[I].x,c=i[I].y,d=1/Math.sqrt((r-h)**2+(g-c)**2),u=o[I]*(r-h-s[I]*(r-h)*d),p=o[I]*(g-c-s[I]*(g-c)*d);n[C]=[u,p],A+=u,a+=p;const f=this.E_sums[I];f[0]+=u-e,f[1]+=p-l}}this.E_sums[t]=[A,a]}}function VE(t,e,i){var n,o,s,r;if(!(this instanceof VE))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Fa,clickToUse:!1},Ji(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:gn(n=this.on).call(n,this),off:gn(o=this.off).call(o,this),emit:gn(s=this.emit).call(s,this),once:gn(r=this.once).call(r,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new TC(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Tl,this.canvas=new $b(this.body),this.selectionHandler=new $w(this.body,this.canvas),this.interactionHandler=new ny(this.body,this.canvas,this.selectionHandler),this.view=new ty(this.body,this.canvas),this.renderer=new Kb(this.body,this.canvas),this.physics=new kb(this.body),this.layoutEngine=new kE(this.body),this.clustering=new Ub(this.body),this.manipulation=new TE(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new iv(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new rb(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new zE(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}fn(VE.prototype),VE.prototype.setOptions=function(t){if(null===t&&(t=void 0),void 0!==t){if(!0===Ks.validate(t,LE)&&console.error("%cErrors have been found in the supplied options object.",Us),ps(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{const[n,o]=e.split(/[-_ /]/,2),s=null!=n?n.toLowerCase():null,r=null!=o?o.toUpperCase():null;if(s&&r){const e=s+"-"+r;if(Object.prototype.hasOwnProperty.call(t,e))return e;var i;console.warn(EC(i="Unknown variant ".concat(r," of language ")).call(i,s,"."))}if(s){const e=s;if(Object.prototype.hasOwnProperty.call(t,e))return e;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new js(this,this.body.container,BE,this.canvas.pixelRatio,FE)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){const t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ms(t.nodes,this.nodesHandler.options),ms(t.edges,this.edgesHandler.options),ms(t.layout,this.layoutEngine.options),ms(t.interaction,this.selectionHandler.options),ms(t.interaction,this.renderer.options),ms(t.interaction,this.interactionHandler.options),ms(t.manipulation,this.manipulation.options),ms(t.physics,this.physics.options),ms(t.global,this.canvas.options),ms(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new Gs(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},VE.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.clustering._isClusteredNode(e)||!1!==t[e].options.hidden||this.body.nodeIndices.push(t[e].id));for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=e[i],o=t[n.fromId],s=t[n.toId],r=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===n.options.hidden&&r&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(n.id)}},VE.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},VE.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=ha(t.dot);return void this.setData(e)}if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=function(t,e){var i;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));const o=t.edges,s=Ta(o).call(o,t=>{const e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e});return{nodes:Ta(i=t.nodes).call(i,t=>{const e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}),edges:s}}(t.gephi);return void this.setData(e)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},VE.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ls(this.body.container)},VE.prototype._updateValueRange=function(t){let e,i,n,o=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),n=void 0===n?s:Math.max(s,n),o+=s)}if(void 0!==i&&void 0!==n)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,n,o)},VE.prototype.isActive=function(){return!this.activator||this.activator.active},VE.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},VE.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},VE.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},VE.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},VE.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},VE.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},VE.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},VE.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},VE.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},VE.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},VE.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},VE.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},VE.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},VE.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},VE.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},VE.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},VE.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},VE.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},VE.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},VE.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},VE.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},VE.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},VE.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},VE.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},VE.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},VE.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},VE.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},VE.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},VE.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},VE.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},VE.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},VE.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},VE.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},VE.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},VE.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},VE.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},VE.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},VE.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},VE.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},VE.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},VE.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},VE.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},VE.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},VE.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},VE.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},VE.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},VE.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},VE.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},VE.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},VE.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},VE.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},VE.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var ZE=i(131);class WE extends ZE.A{_graph=new Map;_all_states=[];_visited=!1;get graph(){if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before accessing the graph.");return this._graph}get from_states(){if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before accessing from_states.");return Array.from(this._graph.keys())}get to_states(){if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before accessing to_states.");const t=new Set;for(const e of this._graph.values())for(const i of e.values())t.add(i);return Array.from(t)}get all_states(){return this._all_states}get edge_list(){if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before accessing the edge list.");const t=[];for(const[e,i]of this._graph.entries())for(const[n,o]of i.entries())t.push({from:e,letter:n,to:o});return t}get merged_edge_list(){if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before accessing the merged edge list.");const t=new Map;for(const e of this.edge_list){const i=`${e.from}-${e.to}`;t.has(i)?t.get(i).letters.push(e.letter):t.set(i,{from:e.from,letters:[e.letter],to:e.to})}return Array.from(t.values()).map(t=>({from:t.from,letters:t.letters,to:t.to}))}query_state=t=>{if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before querying the state.");return this._graph.get(t)??null};query_transition=(t,e)=>{if(!this._visited)throw new Error("TuringTransitionVisitor has not been visited yet. Call visit on the parse tree before querying the transition.");const i=this._graph.get(t);return i?i.get(e)??null:null};visitLetter=t=>{const e=t.getText();return"\\%"===e?"%":e};visitState=t=>{const e=t.getText();return this._all_states.includes(e)||this._all_states.push(e),e};visitLhs=t=>({state:this.visit(t._from_state),letter:this.visit(t._from_letter)});visitRhs=t=>({state:this.visit(t._to_state),letter:this.visit(t._to_letter)});visitTuring_rule=t=>{const e=this.visit(t._left),i=this.visit(t._right);this._graph.has(e.state)||this._graph.set(e.state,new Map);const n=this._graph.get(e.state);if(n.has(e.letter))throw new Error(`Duplicate transition for (${e.state}, ${e.letter}). Non-deterministic Turing machines are not allowed at this time.`);n.set(e.letter,i.state)};visit=t=>{let e=super.visit(t);return this._visited=!0,e}}const GE=document.getElementById("transition-graph");let jE=getComputedStyle(document.documentElement);const HE={autoResize:!1,layout:{hierarchical:{enabled:!0,direction:"LR",sortMethod:"directed",levelSeparation:150,nodeSpacing:100,treeSpacing:200}},physics:{enabled:!1},edges:{arrows:"to",font:{align:"top",strokeWidth:0,color:jE.getPropertyValue("--text-body")||"#fff"}},nodes:{shape:"ellipse",color:jE.getPropertyValue("--accent")||"#007bff",font:{color:jE.getPropertyValue("--on-accent")||"#fff",size:16,face:"Arial",background:"none"}}};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{jE=getComputedStyle(document.documentElement),HE.edges.font.color=jE.getPropertyValue("--text-body")||"#fff",HE.nodes.font.color=jE.getPropertyValue("--on-accent")||"#fff",HE.nodes.color=jE.getPropertyValue("--accent")||"#007bff",QE&&(QE.setOptions(HE),QE.redraw())});let YE=null,UE=null,KE=!1,QE=null;window.addEventListener("resize",()=>{if(QE){const t=GE.querySelector("canvas");t?(t.width=GE.clientWidth,t.height=GE.clientHeight,QE.fit()):console.warn("No canvas found in transition graph container.")}});const XE=t=>{YE=t,KE=!0},qE=()=>{if(!YE)return void(GE.innerText="No parse tree available.");if(!KE)return;const t=(t=>{const e=new WE;e.visit(t);const i=[],n=[];for(const t of e.all_states)i.push({id:t,label:t});for(const t of e.merged_edge_list)n.push({from:t.from,to:t.to,label:t.letters.join(", "),letters:t.letters,arrows:"to"});return{nodes:new Yh(i),edges:new Yh(n)}})(YE);UE=t,QE=new VE(GE,t,HE),JE&&(tk(JE),JE=null);const e=(()=>{if(!QE)return null;const t=QE.getPositions(),e=Object.values(t).map(t=>t.x),i=Object.values(t).map(t=>t.y),n=Math.min(...e),o=Math.max(...e),s=Math.min(...i);return{width:o-n,height:Math.max(...i)-s}})();GE.style.height=`${e.height}px`;const i=GE.querySelector("canvas");i?(i.width=GE.clientWidth,i.height=GE.clientHeight,QE.fit()):console.warn("No canvas found in transition graph container."),KE=!1};let JE=null;const $E=t=>{QE?tk(t):JE=t},tk=t=>{if(!QE)return void console.warn("No drawn network to highlight edge in.");if(!UE)return void console.warn("No prepared data to highlight edge in.");if(!t)return void QE.setData(UE);const e=UE.edges.get({filter:e=>e.from===t.from&&e.to===t.to&&e.label.includes(t.letter)});if(!e||0===e.length)return void console.warn("No edge found in the graph with the given from, to and letter.");const i={...e[0],color:{color:jE.getPropertyValue("--edge-mark")||"#de00ff"}},n=new Yh(UE.edges.get());n.update(i),QE.setData({nodes:UE.nodes,edges:n})}},992:(t,e,i)=>{var n,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(t,e){if(!n[t]){n[t]={};for(var i=0;i<t.length;i++)n[t][t.charAt(i)]=i}return n[t][e]}var s={compressToBase64:function(t){if(null==t)return"";var i=s._compress(t,6,function(t){return e.charAt(t)});switch(i.length%4){default:case 0:return i;case 1:return i+"===";case 2:return i+"==";case 3:return i+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:s._decompress(t.length,32,function(i){return o(e,t.charAt(i))})},compressToUTF16:function(e){return null==e?"":s._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=s.compress(t),i=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var r=e.charCodeAt(n);i[2*n]=r>>>8,i[2*n+1]=r%256}return i},decompressFromUint8Array:function(e){if(null==e)return s.decompress(e);for(var i=new Array(e.length/2),n=0,o=i.length;n<o;n++)i[n]=256*e[2*n]+e[2*n+1];var r=[];return i.forEach(function(e){r.push(t(e))}),s.decompress(r.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,function(t){return i.charAt(t)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),s._decompress(t.length,32,function(e){return o(i,t.charAt(e))}))},compress:function(e){return s._compress(e,16,function(e){return t(e)})},_compress:function(t,e,i){if(null==t)return"";var n,o,s,r={},g={},A="",a="",C="",I=2,l=3,h=2,c=[],d=0,u=0;for(s=0;s<t.length;s+=1)if(A=t.charAt(s),Object.prototype.hasOwnProperty.call(r,A)||(r[A]=l++,g[A]=!0),a=C+A,Object.prototype.hasOwnProperty.call(r,a))C=a;else{if(Object.prototype.hasOwnProperty.call(g,C)){if(C.charCodeAt(0)<256){for(n=0;n<h;n++)d<<=1,u==e-1?(u=0,c.push(i(d)),d=0):u++;for(o=C.charCodeAt(0),n=0;n<8;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1}else{for(o=1,n=0;n<h;n++)d=d<<1|o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o=0;for(o=C.charCodeAt(0),n=0;n<16;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1}0==--I&&(I=Math.pow(2,h),h++),delete g[C]}else for(o=r[C],n=0;n<h;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1;0==--I&&(I=Math.pow(2,h),h++),r[a]=l++,C=String(A)}if(""!==C){if(Object.prototype.hasOwnProperty.call(g,C)){if(C.charCodeAt(0)<256){for(n=0;n<h;n++)d<<=1,u==e-1?(u=0,c.push(i(d)),d=0):u++;for(o=C.charCodeAt(0),n=0;n<8;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1}else{for(o=1,n=0;n<h;n++)d=d<<1|o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o=0;for(o=C.charCodeAt(0),n=0;n<16;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1}0==--I&&(I=Math.pow(2,h),h++),delete g[C]}else for(o=r[C],n=0;n<h;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1;0==--I&&(I=Math.pow(2,h),h++)}for(o=2,n=0;n<h;n++)d=d<<1|1&o,u==e-1?(u=0,c.push(i(d)),d=0):u++,o>>=1;for(;;){if(d<<=1,u==e-1){c.push(i(d));break}u++}return c.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,i,n){var o,s,r,g,A,a,C,I=[],l=4,h=4,c=3,d="",u=[],p={val:n(0),position:i,index:1};for(o=0;o<3;o+=1)I[o]=o;for(r=0,A=Math.pow(2,2),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;switch(r){case 0:for(r=0,A=Math.pow(2,8),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;C=t(r);break;case 1:for(r=0,A=Math.pow(2,16),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;C=t(r);break;case 2:return""}for(I[3]=C,s=C,u.push(C);;){if(p.index>e)return"";for(r=0,A=Math.pow(2,c),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;switch(C=r){case 0:for(r=0,A=Math.pow(2,8),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;I[h++]=t(r),C=h-1,l--;break;case 1:for(r=0,A=Math.pow(2,16),a=1;a!=A;)g=p.val&p.position,p.position>>=1,0==p.position&&(p.position=i,p.val=n(p.index++)),r|=(g>0?1:0)*a,a<<=1;I[h++]=t(r),C=h-1,l--;break;case 2:return u.join("")}if(0==l&&(l=Math.pow(2,c),c++),I[C])d=I[C];else{if(C!==h)return null;d=s+s.charAt(0)}u.push(d),I[h++]=s+d.charAt(0),s=d,0==--l&&(l=Math.pow(2,c),c++)}}};return s}();void 0===(n=function(){return o}.call(e,i,e,t))||(t.exports=n)},997:(t,e,i)=>{"use strict";i.d(e,{C:()=>w,GD:()=>l,Ub:()=>v,Zu:()=>x,f8:()=>y,o0:()=>m,tS:()=>p,to:()=>f,z5:()=>b});var n=i(41),o=i(83),s=i(28);const r=document.getElementById("input"),g=document.getElementById("tape-visual");let A=!0,a=[];const C=(t=s.wg)=>{const e=document.createElement("div");e.textContent=t,e.className="tile",e.contentEditable="true",e.addEventListener("input",()=>{u()});const i=()=>{const t=document.createRange(),i=window.getSelection();t.setStart(e,0),t.collapse(!0),i?.removeAllRanges(),i?.addRange(t)};return e.addEventListener("focus",i),e.addEventListener("click",i),e.addEventListener("blur",()=>{e.classList.toggle("invalid",A&&!a.includes(e.textContent||s.wg)),""===e.textContent&&(e.textContent=s.wg),u()}),g.appendChild(e),e};let I=!1;const l=t=>{I=t,g.classList.toggle("locked",t),g.querySelectorAll(".tile").forEach(e=>{const i=e;i.contentEditable=t?"false":"true",i.classList.toggle("locked",t)})};let h=!1;const c=t=>{!h&&t.toLowerCase().includes("↑↑↓↓←→←→ba")&&(h=!0,(0,n.IL)("",n.DB.easter_egg))},d=t=>{g.innerHTML="",[...t].forEach(t=>{C(t)}),l(I),c(t)},u=()=>{const t=g.querySelectorAll(".tile");let e="";t.forEach(t=>{const i=t.textContent||s.wg;e+=i}),r.value=e,c(e)},p=()=>r.value,f=t=>{if(r.value=t,t.endsWith(s.wg)||(t+=s.wg),t.length<T){const e=T-t.length;t+=s.wg.repeat(e)}d(t)},m=t=>{const e=g.querySelectorAll(".tile");null!==t?t<0||t>=e.length?console.warn("Pointer position out of bounds"):e.forEach((e,i)=>{e.classList.toggle("pointer",i===t)}):e.forEach(t=>t.classList.remove("pointer"))},v=t=>{const e=g.children[t];if(e){const t=e.offsetLeft,i=e.offsetWidth,n=t-(g.offsetWidth-i)/2;g.scrollTo({left:n,behavior:"smooth"})}else console.warn("Tile at position",t,"does not exist.")},b=t=>{A=t},y=()=>A,w=t=>{t.includes(s.wg)||t.push(s.wg),a=t},x=()=>{let t=!0;return g.querySelectorAll(".tile").forEach((e,i)=>{const n=e.textContent||s.wg;A&&!a.includes(n)?(e.classList.add("invalid"),t=!1):e.classList.remove("invalid")}),t},E=t=>{const e=t.nextElementSibling;if(e&&e.classList.contains("tile"))return e.focus(),e;{const t=C();return t.focus(),t}},k=t=>{const e=t.previousElementSibling;return e&&e.classList.contains("tile")?(e.focus(),e):null};g.addEventListener("keydown",t=>{const e=document.activeElement;if(e&&e instanceof HTMLElement&&e.classList.contains("tile")){if(1!==t.key.length||t.ctrlKey||t.metaKey||t.altKey)"Backspace"===t.key?(t.preventDefault(),e.textContent="",u(),k(e)):"ArrowRight"===t.key?(t.preventDefault(),E(e)):"ArrowLeft"===t.key&&(t.preventDefault(),k(e));else{if(t.preventDefault(),A&&!a.includes(t.key))return void e.classList.add("invalid");e.classList.remove("invalid"),e.textContent=t.key,u(),E(e),A&&(()=>{const t=r.value;if(A)for(const e of t)if(!a.includes(e))return!1;return!0})()&&o.Z$("tape-invalid")}e.textContent=e.textContent?.slice(0,1)||""}}),g.addEventListener("paste",t=>{t.preventDefault();const e=t.clipboardData?.getData("text/plain")||"";let i=document.activeElement;if(i&&i instanceof HTMLElement&&i.classList.contains("tile")){let t=e.split("");for(;t.length>0;)i.textContent===s.wg&&(i.textContent=t.shift()||s.wg),i=E(i),i.textContent=i.textContent?.slice(0,1)||""}}),document.getElementById("restrict-input").addEventListener("change",t=>{const e=t.target.checked;b(e),document.getElementById("flag-unrestrict").checked=e,g.querySelectorAll(".tile").forEach(t=>{t.classList.remove("invalid")}),o.Z$("tape-invalid")}),d(s.wg);const T=5;d(s.wg.repeat(T))}},r={};function g(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return s[t](i,i.exports,g),i.exports}t="function"==typeof Symbol,e=t?Symbol("webpack queues"):"__webpack_queues__",i=t?Symbol("webpack exports"):"__webpack_exports__",n=t?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},g.a=(t,s,r)=>{var g;r&&((g=[]).d=-1);var A,a,C,I=new Set,l=t.exports,h=new Promise((t,e)=>{C=e,a=t});h[i]=l,h[e]=t=>(g&&t(g),I.forEach(t),h.catch(t=>{})),t.exports=h,s(t=>{var s;A=(t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var s=[];s.d=0,t.then(t=>{r[i]=t,o(s)},t=>{r[n]=t,o(s)});var r={};return r[e]=t=>t(s),r}}var g={};return g[e]=t=>{},g[i]=t,g}))(t);var r=()=>A.map(t=>{if(t[n])throw t[n];return t[i]}),a=new Promise(t=>{(s=()=>t(r)).r=0;var i=t=>t!==g&&!I.has(t)&&(I.add(t),t&&!t.d&&(s.r++,t.push(s)));A.map(t=>t[e](i))});return s.r?a:r()},t=>(t?C(h[n]=t):a(l),o(g))),g&&g.d<0&&(g.d=0)},g.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return g.d(e,{a:e}),e},g.d=(t,e)=>{for(var i in e)g.o(e,i)&&!g.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},g.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),g.p="/",g(156)})();